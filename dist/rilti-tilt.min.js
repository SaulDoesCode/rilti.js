var _Mathmin=Math.min,_Mathmax=Math.max;{const{isNode:a,isNodeList:b,isArr:c,isStr:d,dom:e,each:f,observeAttr:g}=rilti,{on:h,div:i}=e,j=(m)=>""===m||!0===m||1===m,k={reverse:!1,max:35,perspective:1e3,easing:"cubic-bezier(.03,.98,.52,.99)",scale:"1",speed:"300",transition:!0,axis:null,glare:!1,"max-glare":1,reset:!0};window.Tilt=(m,n={})=>{if(d(m)&&(m=e.queryAll(m)),!a(m)){if(b(m))return f(m,(H)=>Tilt(H,n));throw`Can't initialize Tilt because ${m} is not a Node.`}m=e(m),m.pure.tiltOff&&m.pure.tiltOff();let t,u,o=null,p=null,q=null,r=null,s=null;for(const H in k)H in n||(n[H]=k[H]);const v=n.reverse?-1:1,w=j(n.glare);if(w)var z=i({class:"js-tilt-glare",css:{position:"absolute",top:"0",left:"0",width:"100%",height:"100%",overflow:"hidden"},render:m}),A=i({class:"js-tilt-glare-inner",render:z,css:{position:"absolute",top:"50%",left:"50%","pointer-events":"none","background-image":`linear-gradient(0deg, rgba(255,255,255,0) 0%, rgba(255,255,255,1) 100%)`,width:`${2*m.offsetWidth}px`,height:`${2*m.offsetWidth}px`,transform:"rotate(180deg) translate(-50%, -50%)","transform-origin":"0% 0%",opacity:"0"}}),B=h(window,"resize",()=>{const H=`${2*m.offsetWidth}`;A.css={width:H,height:H}});const C=()=>{clearTimeout(s),m.style.transition=n.speed+"ms "+n.easing,w&&(A.style.transition=`opacity ${n.speed}ms ${n.easing}`),s=setTimeout(()=>{m.style.transition="",w&&(A.style.transition="")},n.speed)},D=()=>{let H=(t.clientX-q)/o,I=(t.clientY-r)/p;H=_Mathmin(_Mathmax(H,0),1),I=_Mathmin(_Mathmax(I,0),1);let J=(v*(n.max/2-H*n.max)).toFixed(2),K=(v*(I*n.max-n.max/2)).toFixed(2),L=Math.atan2(t.clientX-(q+o/2),-(t.clientY-(r+p/2)))*(180/Math.PI),N=100*I;m.style.transform=`perspective(${n.perspective}px)
          rotateX(${"x"===n.axis?0:K}deg)
          rotateY(${"y"===n.axis?0:J}deg)
          scale3d(${n.scale},${n.scale},${n.scale})`,w&&A.css({transform:`rotate(${L}deg) translate(-50%, -50%)`,opacity:`${N*n["max-glare"]/100}`}),u=null},E=m.on("mouseenter",()=>{const H=m.rect;o=m.offsetWidth,p=m.offsetHeight,q=H.left,r=H.top,m.style.willChange="transform",C()}),F=m.on("mousemove",(H)=>{null!==u&&cancelAnimationFrame(u),t=H,u=requestAnimationFrame(D)}),G=m.on("mouseleave",()=>{C(),n.reset&&(requestAnimationFrame(()=>{t={pageX:q+o/2,pageY:r+p/2},m.style.transform=`perspective(${n.perspective}px) rotateX(0deg) rotateY(0deg) scale3d(1, 1, 1)`}),w&&A.css({transform:"rotate(180deg) translate(-50%, -50%)",opacity:"0"}))});return m.pure.tiltOff=()=>{return E.off(),F.off(),G.off(),w&&(B.off(),z.remove()),null!==u&&cancelAnimationFrame(u),m.pure.tiltOff=null,m},m};const l=(m,n={})=>{return d(m)&&m.split(";").forEach((o)=>{o.includes(":")&&(o=o.split(":"),n[o[0]]="true"===o[1]||"false"!==o[1]&&o[1])}),n};g("tilt",{init:(m,n)=>Tilt(m,l(n)),update:(m,n)=>Tilt(m,l(n)),destroy:(m)=>m.tiltOff()})}
