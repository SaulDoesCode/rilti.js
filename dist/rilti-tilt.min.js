{const a=null,{isNode:b,isNodeList:c,isStr:d,isFunc:e,domfn:{css:i},fastdom:{div:j},queryAll:f,each:g,on:h}=rilti,k=(a)=>''===a||!0===a||1===a,l={reverse:!1,max:35,perspective:1e3,easing:'cubic-bezier(.03,.98,.52,.99)',scale:'1',speed:'300',transition:!0,axis:a,glare:!1,"max-glare":1,reset:!0};var Tilt=(m,n={})=>{if(d(m)&&(m=f(m)),n=Object.assign(Object.create(l),n),e(m)&&(m=m()),!b(m)){if(c(m))return g(m,(a)=>Tilt(a,n));throw new TypeError(`Tilt init error: ${m} isn't a Node.`)}m.tiltOff&&m.tiltOff();let o,p,q=a,r=a,s=a,t=a,u=a;const v=n.reverse?1:-1,w=k(n.glare);if(w)var z,x=j({className:'js-tilt-glare',css:{position:'absolute',top:'0',left:'0',width:'100%',height:'100%',overflow:'hidden'},render:m},z=j({className:'js-tilt-glare-inner',css:{position:'absolute',top:'50%',left:'50%',"pointer-events":'none',"background-image":`linear-gradient(0deg, rgba(255,255,255,0) 0%, rgba(255,255,255,1) 100%)`,width:`${2*m.offsetWidth}px`,height:`${2*m.offsetWidth}px`,transform:'rotate(180deg) translate(-50%, -50%)',"transform-origin":'0% 0%',opacity:'0'}})),y=h.rezise(window,()=>{const a=`${2*m.offsetWidth}`;i(z,{width:a,height:a})});const A=()=>{clearTimeout(u),m.style.transition=n.speed+'ms '+n.easing,w&&(z.style.transition=`opacity ${n.speed}ms ${n.easing}`),u=setTimeout(()=>{m.style.transition='',w&&(z.style.transition='')},n.speed)},B=()=>{var b=Math.min,c=Math.max;let d=(o.clientX-s)/q,e=(o.clientY-t)/r;d=b(c(d,0),1),e=b(c(e,0),1);let f=(v*(n.max/2-d*n.max)).toFixed(2),g=(v*(e*n.max-n.max/2)).toFixed(2),h=Math.atan2(o.clientX-(s+q/2),-(o.clientY-(t+r/2)))*(180/Math.PI),j=100*e;m.style.transform=`
        perspective(${n.perspective}px)
        rotateX(${'x'===n.axis?0:g}deg)
        rotateY(${'y'===n.axis?0:f}deg)
        scale3d(${n.scale},${n.scale},${n.scale})`,w&&i(z,{transform:`rotate(${h}deg) translate(-50%, -50%)`,opacity:`${j*n['max-glare']/100}`}),p=a},C=h(m,'mouseenter',()=>{const a=m.getBoundingClientRect();q=m.offsetWidth,r=m.offsetHeight,s=a.left,t=a.top,m.style.willChange='transform',A()}),D=h(m,'mousemove',(b)=>{p!==a&&cancelAnimationFrame(p),o=b,p=requestAnimationFrame(B)}),E=h(m,'mouseleave',()=>{A(),n.reset&&(requestAnimationFrame(()=>{o={pageX:s+q/2,pageY:t+r/2},m.style.transform=`perspective(${n.perspective}px) rotateX(0deg) rotateY(0deg) scale3d(1, 1, 1)`}),w&&i(z,{transform:'rotate(180deg) translate(-50%, -50%)',opacity:'0'}))});return m.tiltOff=()=>(C.off(),D.off(),E.off(),w&&(y.off(),x.remove()),p!==a&&cancelAnimationFrame(p),delete m.tiltOff,m),m};const m=(a,b={})=>(d(a)&&a.length&&a.split(';').filter((a)=>a.length).forEach((a)=>{a=a.split(':'),b[a[0]]=!!a[1].includes('true')||!a[1].includes('false')&&a[1]}),b);rilti.directive('tilt',{init:(a,b)=>Tilt(a,m(b)),update:(a,b)=>Tilt(a,m(b)),remove:(a)=>a.tiltOff()})}