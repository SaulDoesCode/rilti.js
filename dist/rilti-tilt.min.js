{const{isNode:a,isNodeList:b,isArr:c,isStr:d,domfn:e,dom:f,each:g,observeAttr:h}=rilti,{on:i,div:j}=f,{css:k}=e;isSettingTrue=(a)=>""===a||!0===a||1===a,defaultSettings={reverse:!1,max:35,perspective:1e3,easing:"cubic-bezier(.03,.98,.52,.99)",scale:"1",speed:"300",transition:!0,axis:null,glare:!1,"max-glare":1,reset:!0};var Tilt=(c,e={})=>{if(d(c)&&(c=f.queryAll(c)),!a(c)){if(b(c))return g(c,(a)=>Tilt(a,e));throw`Can't initialize Tilt because ${c} is not a Node.`}c.tiltOff&&c.tiltOff();let h,l,m=null,n=null,o=null,p=null,q=null;for(const a in defaultSettings)a in e||(e[a]=defaultSettings[a]);const r=e.reverse?-1:1,s=isSettingTrue(e.glare);if(s)var t=j({class:"js-tilt-glare",css:{position:"absolute",top:"0",left:"0",width:"100%",height:"100%",overflow:"hidden"},render:c}),u=j({class:"js-tilt-glare-inner",render:t,css:{position:"absolute",top:"50%",left:"50%","pointer-events":"none","background-image":`linear-gradient(0deg, rgba(255,255,255,0) 0%, rgba(255,255,255,1) 100%)`,width:`${2*c.offsetWidth}px`,height:`${2*c.offsetWidth}px`,transform:"rotate(180deg) translate(-50%, -50%)","transform-origin":"0% 0%",opacity:"0"}}),v=i(window,"resize",()=>{const a=`${2*c.offsetWidth}`;k(u,{width:a,height:a})});const w=()=>{clearTimeout(q),c.style.transition=e.speed+"ms "+e.easing,s&&(u.style.transition=`opacity ${e.speed}ms ${e.easing}`),q=setTimeout(()=>{c.style.transition="",s&&(u.style.transition="")},e.speed)},x=()=>{var a=Math.min,b=Math.max;let d=(h.clientX-o)/m,f=(h.clientY-p)/n;d=a(b(d,0),1),f=a(b(f,0),1);let g=(r*(e.max/2-d*e.max)).toFixed(2),i=(r*(f*e.max-e.max/2)).toFixed(2),j=Math.atan2(h.clientX-(o+m/2),-(h.clientY-(p+n/2)))*(180/Math.PI),q=100*f;c.style.transform=`perspective(${e.perspective}px)
          rotateX(${"x"===e.axis?0:i}deg)
          rotateY(${"y"===e.axis?0:g}deg)
          scale3d(${e.scale},${e.scale},${e.scale})`,s&&k(u,{transform:`rotate(${j}deg) translate(-50%, -50%)`,opacity:`${q*e["max-glare"]/100}`}),l=null},y=i(c,"mouseenter",()=>{const a=c.getBoundingClientRect();m=c.offsetWidth,n=c.offsetHeight,o=a.left,p=a.top,c.style.willChange="transform",w()}),z=i(c,"mousemove",(a)=>{null!==l&&cancelAnimationFrame(l),h=a,l=requestAnimationFrame(x)}),A=i(c,"mouseleave",()=>{w(),e.reset&&(requestAnimationFrame(()=>{h={pageX:o+m/2,pageY:p+n/2},c.style.transform=`perspective(${e.perspective}px) rotateX(0deg) rotateY(0deg) scale3d(1, 1, 1)`}),s&&k(u,{transform:"rotate(180deg) translate(-50%, -50%)",opacity:"0"}))});return c.tiltOff=()=>{return y.off(),z.off(),A.off(),s&&(v.off(),t.remove()),null!==l&&cancelAnimationFrame(l),c.tiltOff=null,c},c};const l=(a,b={})=>(d(a)&&g(a.split(";"),(a)=>{a.includes(":")&&(a=a.split(":"),b[a[0]]=!("true"!==a[1])||"false"!==a[1]&&a[1])}),b);h("tilt",{init:(a,b)=>Tilt(a,l(b)),update:(a,b)=>Tilt(a,l(b)),destroy:(a)=>a.tiltOff()})}
