var _this=this;((b,f)=>{const g='rot';b[g]=f(),'undefined'!=typeof module&&module.exports?module.exports=f():'function'==typeof define&&define.amd&&define(g,f)})(this,()=>{'use strict';const b=(ma,na=ma.length)=>{const oa=(...pa)=>(...qa)=>{const ra=pa.concat(qa);return(ra.length>=na?ma:oa)(...ra)};return oa()},f=window||global||_this,g=document,j=void 0,l=Object.keys,m=(ma,na)=>Array.prototype.every.call(ma,na),p=toString.call,q=ma=>na=>typeof na===ma,r=ma=>na=>toString.call(na).includes(ma),u=ma=>ma!==j,w=q('function'),x=q('string'),y=q('boolean'),z=ma=>!y(ma)&&!isNaN(+ma),A=ma=>x(ma)||y(ma)||!isNaN(ma),B=ma=>z(ma)&&0==ma%1,C=r('Object'),D=Array.isArray,E=ma=>ma!==j&&'undefined'!=typeof ma.length,F=ma=>(C(ma)?!l(ma).length:E(ma)?!ma.length:!ma.size)||w(ma),G=ma=>ma instanceof Node,H=r('HTML'),I=ma=>H(ma)&&'INPUT TEXTAREA'.includes(ma.tagName),J=r('Map'),K=r('Set'),L=b((ma,na)=>ma===na),M=(ma,na)=>{if(u(ma)&&w(na))if(E(ma)&&(ma=Array.from(ma)),ma.forEach)ma.forEach(na);else{let oa=0;if(C(ma))for(oa in ma)na(ma[oa],oa,ma);else if(B(ma))for(;ma!=oa;)na(oa+=1)}},N=b(Object.defineProperty),O=Object.getOwnPropertyDescriptor,P=b((ma,na)=>{for(let oa of l(na))N(ma,oa,O(na,oa));return ma}),Q=(ma,na)=>{for(let oa of l(na))oa in ma||N(ma,oa,O(na,oa));return ma},R=ma=>E(ma)?Array.prototype.reduce.call(ma,(na,oa)=>na.concat(D(oa)?R(oa):oa),[]):[ma],S=(ma,na=g)=>(x(na)?g.querySelector(na):na).querySelector(ma),T=(ma,na=g)=>Array.from((x(na)?S(na):na).querySelectorAll(ma)),U=ma=>new TypeError(ma),V=ma=>new Error(ma),W=(ma,na=g)=>na==ma||!!(16&na.compareDocumentPosition(ma)),X='DOMContentLoaded hashchange blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu pointerdown pointerup pointermove pointerover pointerout pointerenter pointerleave touchstart touchend touchmove touchcancel'.split(' '),Y=b((ma,na,oa,pa=!1)=>{function qa(va){oa.call(ma,va,ma),ta&&sa(qa)}if(x(ma)&&(ma=S(ma)),!ma||!ma.addEventListener)throw V('EventManager: Target Invalid');const ra=ma.addEventListener.bind(ma,na),sa=ma.removeEventListener.bind(ma,na);let ta=!1;H(ma)&&ja.has(ma)&&(ma=ja.get(ma));const ua={off(){return sa(qa),ma.listeners&&ma.listeners.delete(ua),ua},on(){return ta=!1,ra(qa,pa),ma.listeners&&ma.listeners.add(ua),ua},once(){return sa(qa),ta=!0,ra(qa,pa),ma.listeners&&ma.listeners.add(ua),ua}};return ua},3),Z=(ma=new Set)=>({handles:ma,isInformer:!0,handle(na,oa=na){if(!w(oa))throw U('informer.handle: is not a function');return oa.off=()=>{return ma.delete(oa),oa},oa.on=pa=>{return oa.off().one=!!pa,ma.add(oa),oa},oa.once=oa.on.bind(null,!0),oa.on(!!y(na)&&na)},on(na){return this.handle(na)},once(na){return this.handle(!0,na)},off(na){ma.delete(na)},get empty(){return 1>ma.size},inform(){if(ma.size)for(let na of ma)na(...arguments),na.one&&na.off();return this}}),$=ma=>b((...na)=>Y(...na)[ma](),3),// listener type
aa=$('on'),ba=$('once');Z.fromEvent=(ma,na,oa,pa)=>{if(x(ma)&&(ma=S(ma)),!ma.addEventListener)throw V('invalid event target');if(!x(na))throw U('event type not string');const qa=Z(),ra=$(oa?'once':'on')(ma,na,sa=>qa.inform(sa,ra),pa);return qa};const ca=Z.fromEvent(f,'DOMContentLoaded',!0),da='create mount destroy update attr'.split(' '),ea=ma=>'complete'==g.readyState?ma():ca.once(ma),fa=ma=>g.createRange().createContextualFragment(ma||''),ga=ma=>A(ma)?fa(ma):g.createDocumentFragment(),ha=ma=>Q(rot,ma);P(ha,{methods:{},handles:new Set,muthandles:new Set});const ia={replace:(ma,na,oa)=>ma.replaceWith?ma.replaceWith(oa):ma.parentNode.replaceChild(oa,ma),clone:ma=>ka(ma.cloneNode()),css(ma,na,oa,pa){if(C(oa))M(oa,(qa,ra)=>ma.style[ra]=qa);else if(x(oa)&&x(pa))ma.style[oa]=pa;else throw U('CSS : Styles is not an object or string pair')},inner(ma,na,...oa){na.html='';for(let pa of R(oa))pa.appendTo?(na.children.includes(pa)||pa.lifecycle.mount.inform(pa),pa.appendTo(ma)):(A(pa)&&(pa=g.createTextNode(pa)),G(pa)?na.append(pa):pa.isInformer&&pa.on(na.inner));return na},append(ma,na,...oa){const pa=ga();return oa.forEach(qa=>{G(qa.pure)&&(qa=qa.pure),pa.appendChild(G(qa)?qa:fa(qa))}),ma.appendChild(pa),na},prepend(ma,na,...oa){const pa=ga();return oa.forEach(qa=>{G(qa.pure)&&(qa=qa.pure),pa.appendChild(G(qa)?qa:fa(qa))}),ma.prepend(pa),na},appendTo(ma,na,oa){return(x(oa)?S(oa):oa).appendChild(ma),na},prependTo(ma,na,oa){return(x(oa)?S(oa):oa).prepend(),na},modify(ma,na,oa){return oa.call(na,na,ma),na},remove(ma,na,oa){return z(oa)?setTimeout(()=>ma.remove(),oa):ma.remove(),na}},ja=new Map,ka=new Proxy(ma=>{if(x(ma)&&(ma=S(ma)),H(ma)){if(ja.has(ma))return ja.get(ma);const na=new Proxy({},{get(Ca,Da){return'has'==Da?Ea=>ma.hasAttribute(Ea):ma.getAttribute(Da)},set(Ca,Da,Ea){return ma.setAttribute(Da,Ea),!0},delete(Ca,Da){return ma.removeAttribute(Da),!0}}),oa=new Proxy({},{get(Ca,Da){return'toggle'==Da?(Ea,Fa=!ma.classList.contains(Ea))=>Fa?ma.classList.add(Ea):ma.classList.remove(Ea):ma.classList.contains(Da)},set(Ca,Da,Ea){return'toggle'==Da?ma.classList.contains(Da)?ma.classList.remove(Ea):ma.classList.add(Ea):ma.classList.add(Ea),!0},delete(Ca,Da){return ma.classList.remove(Da),!0}}),pa=new Set,qa={get(Ca,Da){return Ca(Da)},set(Ca,Da,Ea){if(w(Ea))return Ca(Da,Ea)}},ra={create:Z(),mount:Z(),destroy:Z(),attr:Z()},sa=new Proxy(aa.bind(null,ma),qa),ta=new Proxy(ba.bind(null,ma),qa),ua={},va=Z(),wa=Ca=>(Da,Ea)=>w(Da)?va.handle(Ca,Da):va.handle(Ca,(Fa,Ga)=>{Da===Fa&&Ea(Ga)});ua.on=wa(!1),ua.once=wa(!0),ua.isInput=I(ma);const xa=Ca=>w(Ca)?Ca.bind(ma):Ca,ya=Ca=>{const Da=xa(Reflect.get(ua,Ca));return va.inform('get',Da).inform('get:'+Ca,Da),Da},za=ua.isInput?'value':'innerHTML',Aa=ua.isInput?'value':'textContent',Ba=new Proxy(ma,{get(Ca,Da){return Da in ia?ia[Da].bind(Ca,Ca,Ba):'children'===Da?Array.from(Ca.children).map(Ea=>ka(Ea)):Da in Ca?xa(Reflect.get(Ca,Da)):'class'===Da?oa:'attr'===Da?na:'pure'===Da?Ca:'listeners'===Da?pa:'lifecycle'===Da?ra:'on'===Da?sa:'once'===Da?ta:'html'===Da?Ca[za]:'txt'===Da?Ca[Aa]:'mounted'===Da?W(ma):'data'===Da?ua:Da in ua?ya(Da):j},set(Ca,Da,Ea,Fa){if(Da in Ca)return Reflect.set(Ca,Da,Ea);if('class'===Da&&x(Ea))Ca.classList.add(Ea);else if('html'===Da)w(Ea)&&(Ea=Ea(Ca[za])),Ea===j&&(Ea=''),Ca[za]=Ea;else if('txt'===Da)w(Ea)&&(Ea=Ea(Ca[Aa])),Ea===j&&(Ea=''),Ca[Aa]=Ea;else if('attr'===Da&&C(Ea))M(Ea,(Ga,Ha)=>ma.setAttribute(Ha,Ga));else if('data'===Da&&C(Ea))for(let Ga in Ea){const Ha=O(Ea,Ga);Ha.get&&(Ha.get=Ha.get.bind(Fa)),Ha.set&&(Ha.set=Ha.set.bind(Fa)),w(Ha.value)&&(Ha.value=Ha.value.bind(Fa)),Object.defineProperty(ua,Ga,Ha)}else if('css'===Da&&C(Ea))Ca.css(Ea);else return va.inform('set',Ea).inform('set:'+Da,Ea),Reflect.set(ua,Da,Ea);return!0},delete(Ca,Da){return'self'===Da?Ca.remove():ua.delete(Da),!0}});return ja.set(ma,Ba),Ba}},{get(ma,na){return na in ma?Reflect.get(ma,na):la.bind(j,na)},set(ma,na){return Reflect.set(ma,na)}}),la=(ma,na,...oa)=>{const pa=ka(g.createElement(ma));if(C(na)){let{attr:qa,lifecycle:ra}=na;if(ra)for(let sa of da)w(ra[sa])&&pa.lifecycle[sa].once((...ta)=>ra[sa].apply(pa,ta));for(let sa of ha.handles)sa(na,pa);M(na,(sa,ta)=>{'class'===ta?pa.class=sa:'style'===ta||'css'===ta?pa.css(sa):'on'===ta||'once'===ta?M(sa,(ua,va)=>pa[ta][va]=ua):'props'===ta&&C(sa)?pa.data=sa:!(ta in ha.methods)&&(ta in pa?pa[ta]=sa:qa&&A(sa)&&(qa[ta]=sa))}),qa&&!F(qa)&&(pa.attr=qa)}return F(oa)||pa.inner(...oa),pa.mounted||pa.lifecycle.create.inform(pa),pa};return(ka.extend=P(ka))({query:S,queryAll:T,queryEach:(ma,na,oa=g)=>{w(na)||(na=oa,oa=g),M(T(ma,oa),na)},on:aa,once:ba,html:fa}),new MutationObserver(ma=>{for(let na of ma){const{removedNodes:oa,addedNodes:pa,target:qa,attributeName:ra}=na;let sa;if(0<oa.length)for(sa of oa)sa instanceof Element&&(sa=ka(sa)).lifecycle.destroy.inform(sa);if(0<pa.length)for(sa of pa)sa instanceof Element&&(sa=ka(sa)).lifecycle.mount.inform(sa);if('style'!=ra&&qa instanceof Element&&(sa=ka(qa)).lifecycle.attr.inform(ra,sa.attr[ra],na.oldValue,sa.attr.has(ra),sa),0<ha.muthandles.size)for(let ta of ha.muthandles)ta(qa,na,na.type)}}).observe(g,{attributes:!0,childList:!0,subtree:!0}),{dom:ka,informer:Z,EventManager:Y,plugins:ha,extend:P,safeExtend:Q,def:N,getdesc:O,render:(...ma)=>na=>ea(()=>{u(na)?x(na)&&(na=S(na)):na=g.body,G(na)||V('rot.render: render-to node'),M(R(ma),oa=>{K(oa)||E(oa)?M(oa,pa=>na.appendChild(G(pa)?pa:pa.node)):na.appendChild(G(oa)?oa:oa.node)})}),run:ea,curry:b,each:M,DOMcontains:W,flatten:R,isDef:u,isUndef:ma=>ma===j,isPrimitive:A,isNativeEvent:ma=>X.includes(ma),isNull:ma=>null===ma,isFunc:w,isStr:x,isBool:y,isNum:z,isInt:B,isObj:C,isArr:D,isArrlike:E,isEmpty:F,isEl:H,isEq:L,isNode:G,isNodeList:ma=>ma instanceof NodeList||E(ma)&&m(ma,G),isInput:I,isMap:J,isSet:K,ready:()=>'complete'==g.readyState}});
