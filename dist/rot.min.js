var _this=this;((b,d)=>{const f='rot';b[f]=d(),'undefined'!=typeof module&&module.exports?module.exports=d():'function'==typeof define&&define.amd&&define(f,d)})(this,()=>{'use strict';const b=(ia,ja=ia.length)=>{const ka=(...la)=>(...ma)=>{const na=la.concat(ma);return(na.length>=ja?ia:ka)(...na)};return ka()},d=window||global||_this,f=document,g=void 0,j=Object.keys,k=(ia,ja)=>Array.prototype.every.call(ia,ja),m=toString.call,n=ia=>ja=>typeof ja===ia,p=ia=>ja=>toString.call(ja).includes(ia),q=ia=>ia!==g,r=n('function'),u=n('string'),w=n('boolean'),x=ia=>!w(ia)&&!isNaN(+ia),y=ia=>u(ia)||w(ia)||!isNaN(ia),z=ia=>x(ia)&&0==ia%1,A=p('Object'),B=Array.isArray,C=ia=>ia!==g&&'undefined'!=typeof ia.length,D=ia=>(A(ia)?!j(ia).length:C(ia)?!ia.length:!ia.size)||r(ia),E=ia=>ia instanceof Node,F=p('HTML'),G=ia=>F(ia)&&'INPUT TEXTAREA'.includes(ia.tagName),H=p('Map'),I=p('Set'),J=(ia,ja)=>{if(q(ia)&&r(ja))if(C(ia)&&(ia=Array.from(ia)),ia.forEach)ia.forEach(ja);else{let ka=0;if(A(ia))for(ka in ia)ja(ia[ka],ka,ia);else if(z(ia))for(;ia!=ka;)ja(ka+=1)}},K=b(Object.defineProperty),L=Object.getOwnPropertyDescriptor,M=b((ia,ja)=>{for(let ka of j(ja))K(ia,ka,L(ja,ka));return ia}),N=(ia,ja)=>{for(let ka of j(ja))ka in ia||K(ia,ka,L(ja,ka));return ia},O=ia=>Array.prototype.reduce.call(ia,(ja,ka)=>ja.concat(B(ka)?O(ka):ka),[]),P=(ia,ja=f)=>(u(ja)?f.querySelector(ja):ja).querySelector(ia),Q=(ia,ja=f)=>Array.from((u(ja)?P(ja):ja).querySelectorAll(ia)),R=ia=>new TypeError(ia),S=ia=>new Error(ia),T=(ia,ja=f)=>ja==ia||!!(16&ja.compareDocumentPosition(ia)),U='DOMContentLoaded hashchange blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu pointerdown pointerup pointermove pointerover pointerout pointerenter pointerleave touchstart touchend touchmove touchcancel'.split(' '),V=b((ia,ja,ka,la=!1)=>{function ma(qa){ka.call(ia,qa,ia.dm),pa&&oa(ma)}if(u(ia)&&(ia=P(ia)),!ia||!ia.addEventListener)throw S('EventManager: Target Invalid');const na=ia.addEventListener.bind(ia,ja),oa=ia.removeEventListener.bind(ia,ja);let pa=!1;return{off(){return oa(ma),this},on(){return pa=!1,na(ma,la),this},once(){return this.off(),pa=!0,na(ma,la),this}}},3),W=(ia=new Set)=>({handles:ia,isInformer:!0,handle(ja,ka=ja){if(!r(ka))throw R('informer.handle: is not a function');return ka.off=()=>{return ia.delete(ka),ka},ka.on=la=>{return ka.off().one=!!la,ia.add(ka),ka},ka.once=ka.on.bind(null,!0),ka.on(!!w(ja)&&ja)},on(ja){return this.handle(ja)},once(ja){return this.handle(!0,ja)},off(ja){ia.delete(ja)},get empty(){return 1>ia.size},inform(){if(ia.size)for(let ja of ia)ja(...arguments),ja.one&&ja.off()}}),X=ia=>b((...ja)=>V(...ja)[ia](),3),// listener type
Y=X('on'),Z=X('once');W.fromEvent=(ia,ja,ka,la)=>{if(u(ia)&&(ia=P(ia)),!ia.addEventListener)throw S('invalid event target');if(!u(ja))throw R('event type not string');const ma=W(),na=X(ka?'once':'on')(ia,ja,oa=>ma.inform(oa,na),la);return ma};const $=W.fromEvent(d,'DOMContentLoaded',!0),_=ia=>'complete'==f.readyState?ia():$.once(ia),aa=ia=>f.createRange().createContextualFragment(ia||''),ba=ia=>y(ia)?aa(ia):f.createDocumentFragment(),ca=ia=>N(rot,ia);M(ca,{methods:{},handles:new Set,muthandles:new Set});const da=ia=>({node:ia,hasAttr:ia.hasAttribute.bind(ia),getAttr:ia.getAttribute.bind(ia),setAttr(ja,ka=''){return A(ja)?J(ja,(la,ma)=>ia.setAttribute(ma,la)):ia.setAttribute(ja,ka),this},removeAttr(...ja){return J(ja,ia.removeAttribute.bind(ia)),this},toggleAttr(ja,ka=''){return this[(w(ka)?ka:ia.hasAttribute(ja))?'removeAttr':'setAttr'](ja,ka)},hasClass:(...ja)=>1==ja.length?ia.classList.contains(ja[0]):ja.every(ka=>ia.classList.contains(ka)),addClass(){for(let ja of arguments)ia.classList.add(ja);return this},removeClass(){for(let ja of arguments)ia.classList.remove(ja);return this},toggleClass(ja,ka=!ia.classList.contains(ja)){return ia.classList[ka?'add':'remove'](ja),this},replace(ja){return ia.parentNode.replaceChild(ja,ia),this},css(ja,ka){if(A(ja))J(ja,(la,ma)=>ia.style[ma]=la);else if(u(ja)&&u(ka))ia.style[ja]=ka;else throw R('CSS : Styles is not an object or string pair');return this},inner(...ja){ia[ia.isInput?'value':'innerHTML']=null;for(let ka of O(ja))ka.appendTo&&(!T(ka.node,ia)&&ka.lifecycle.mount.inform(ka,ka.node,ka.parent=ia.dm),ka.appendTo(ia)),y(ka)&&(ka=f.createTextNode(ka)),E(ka)?ia.appendChild(ka):ka.isInformer&&ka.on(ia.dm.inner);return ia.dm},on:Y(ia),once:Z(ia),append(){const ja=ba();for(let ka of arguments)ka.node&&(ka=ka.node),ja.appendChild(E(ka)?ka:aa(ka));return ia.appendChild(ja),this},prepend(){const ja=ba();for(let ka of arguments)ka.node&&(ka=ka.node),ja.appendChild(E(ka)?ka:aa(ka));return r(ia.prepend)?ia.prepend(ja):ia.insertBefore(ja,ia.firstChild),this},appendTo(ja,ka){return ja.node&&(ja=ja.node),u(ja)&&(ja=P(ja,ka)),ja.append?ja.append(ia):ja.appendChild&&ja.appendChild(ia),this},prependTo(ja,ka){return ja.node&&(ja=ja.node),u(ja)&&(ja=P(ja,ka)),ja.prepend?ja.prepend(ia):ja.insertBefore(ia,ja.firstChild),this},modify(ja){return ja(this,ia),this},remove(ja){return x(ja)?setTimeout(()=>ia.remove(),ja):ia.remove(),this},extend(ja){return M(this,ja)},get mounted(){return T(ia)},update(ja){return this.lifecycle.update.inform('options',ja,this.options,this,ia),ga(ja,ia)},observeAttr(ja,ka,la){return this.lifecycle.attr.handle(!!la,(ma,...na)=>ja===ma&&ka(ma,...na))}}),ea='create mount destroy update attr'.split(' '),fa=(ia,ja)=>{return ja=ia[ja],B(ia.listeners)||(ia.listeners=[]),D(ia.listeners)||(J(ia.listeners,ka=>ka.off()),ia.listeners=[]),(ka,la)=>{let ma;const na=ja(la);r(ka)?ma=na(ka):ka.isInformer&&(ma=na(oa=>ka.inform(oa,ma,ka))),ma&&ia.listeners.push(ma)}},ga=(ia,ja,ka)=>{E(ja)||(ja=u(ja)?P(ja):f.createElement(ka));let la=ja.dm||(ja.dm=da(ja)),{attr:na={},lifecycle:ma}=ia;if(ja.isInput=G(ja),!la.lifecycle){la.lifecycle={};for(let oa of ea){const pa=la.lifecycle[oa]=W();ma&&r(ma[oa])&&pa.handle('update'==oa,(...qa)=>ma[oa].apply(la,qa))}}if(!la.plugged){M(la,ca.methods);for(let oa of ca.handles)oa(ia,la,ja);la.plugged=!0}for(let oa in la.options=ia){let pa=ia[oa];'class'==oa?ja.className=pa:'children'==oa?!D(pa)&&la.inner(r(pa)?pa(la,ja):pa):'style'==oa?la.css(pa):'on'==oa||'once'==oa?J(pa,fa(la,oa)):'props'==oa&&A(pa)?M(la,pa):!(oa in ca.methods||'tag'==oa)&&(oa in ja?ja[oa]=pa:y(pa)&&(na[oa]=pa))}return D(na)||la.setAttr(na),la.mounted||la.lifecycle.create.inform(la,ja),la},ha=(ia,ja,...ka)=>{return A(ja)?ja.children=ja.children?[ja.children,ka]:ka:ja={children:C(ja)||y(ja)?ja:ka||g},E(ia)?ga(ja,ia):ga(ja,null,ia)};return(ha.extend=M(ha))({query:P,queryAll:Q,queryEach:(ia,ja,ka=f)=>{r(ja)||(ja=ka,ka=f),J(Q(ia,ka),ja)},on:Y,once:Z,actualize:ga}),J('picture img input list a script strong table td th tr article aside ul ol li h1 h2 h3 h4 h5 h6 div span pre code section button br label header i style nav menu main menuitem'.split(' '),ia=>ha[ia]=ha.bind(null,ia)),new MutationObserver(ia=>{for(let ja of ia){const{removedNodes:ka,addedNodes:la,target:ma,attributeName:na}=ja;let oa;if(0<ka.length)for(oa of ka)oa.dm&&oa.dm.lifecycle.destroy.inform(oa.dm,oa);if(0<la.length)for(oa of la)oa.dm&&oa.dm.lifecycle.mount.inform(oa.dm,oa);if('style'!=na&&(oa=ma.dm)&&oa.lifecycle.attr.inform(na,oa.getAttr(na),ja.oldValue,oa.hasAttr(na),oa),0<ca.muthandles.size)for(let pa of ca.muthandles)pa(ma,ja.type,ja)}}).observe(f,{attributes:!0,childList:!0,subtree:!0}),{dom:ha,informer:W,EventManager:V,plugins:ca,extend:M,safeExtend:N,def:K,getdesc:L,render:(...ia)=>(ja=f.body)=>_(()=>{u(ja)&&(ja=P(ja)),J(O(ia),ka=>{I(ka)||C(ka)?J(ka,la=>ja.appendChild(E(la)?la:la.node)):ja.appendChild(E(ka)?ka:ka.node)})}),run:_,curry:b,each:J,DOMcontains:T,flatten:O,isDef:q,isUndef:ia=>ia===g,isPrimitive:y,isNativeEvent:ia=>U.includes(ia),isNull:ia=>null===ia,isFunc:r,isStr:u,isBool:w,isNum:x,isInt:z,isObj:A,isArr:B,isArrlike:C,isEmpty:D,isEl:F,isEq:ia=>ja=>ia===ja,isNode:E,isNodeList:ia=>ia instanceof NodeList||C(ia)&&k(ia,E),isInput:G,isMap:H,isSet:I}});
