(function(b,d){const f='rot';'undefined'!=typeof module&&module.exports?module.exports=d():'function'==typeof define&&define.amd?define(f,d):b[f]=d()})(this,()=>{'use strict';function b(ca,da){B(da)||(da=r(da)?L(da):f.createElement(ca.tag));const ea=$(da);return da.dm=ea,ca.class&&(da.className=ca.class),ca.inner?(q(ca.inner)&&(ca.inner=ca.inner(ea,da)),z(ca.inner)?ea.html(...K(ca.inner)):ea.html(ca.inner)):ca.text&&ea.Text(ca.text),ca.style&&ea.css(ca.style),ca.attr&&ea.setAttr(ca.attr),ca.on&&G(ca.on,aa(ea.on,ea)),ca.once&&G(ca.once,aa(ea.once,ea)),ea.extend=J(ea),G(_,fa=>{ea.lifecycle[fa]=T(),x(ca.lifecycle)&&q(ca.lifecycle[fa])&&(ca.lifecycle[fa]=ea.lifecycle[fa]['update'===fa?'on':'once'](ca.lifecycle[fa]))}),x(ca.props)&&J(ea,ca.props),U.methods&&J(ea,U.methods),U.handles&&G(U.handles,fa=>fa(ca,ea,da)),ea.lifecycle[ea.mounted?'mount':'create'].inform(ea,da),ea}const d=window||global,f=document,h=(ca,da)=>{return isNaN(da)&&(da=ca.length),function ea(...fa){return(...ga)=>{const ha=fa.slice().concat(ga);return(ha.length>=da?ca:ea)(...ha)}}()},j=void 0,k=h((ca,da)=>ca.includes(da)),l=Object.keys,m=(ca,da)=>Array.prototype.every.call(ca,da),n=toString.call,p=ca=>da=>toString.call(da).includes(ca),q=ca=>'function'==typeof ca,r=ca=>'string'==typeof ca,t=ca=>'boolean'==typeof ca,u=ca=>!t(ca)&&!isNaN(+ca),w=ca=>u(ca)&&0==ca%1,x=p('Object'),y=Array.isArray,z=ca=>ca!==j&&'undefined'!=typeof ca.length,A=ca=>{try{return(x(ca)?!l(ca).length:z(ca)?!ca.length:!ca.size)||''===ca}catch(da){}return!1},B=ca=>ca instanceof Node,C=p('HTML'),D=ca=>C(ca)&&['INPUT','TEXTAREA'].some(k(ca.tagName)),E=p('Map'),F=p('Set'),G=(ca,da)=>{if(q(da))if(ca.forEach&&!A(ca))ca.forEach(da);else{let ea=0;if(z(ca)&&!localStorage)for(;ea<ca.length;ea+=1)da(ca[ea],ea,ca);else if(w(ca)&&!r(ca))for(;ca!=ea;)da(ea+=1);else for(ea in ca)ca.hasOwnProperty(ea)&&da(ca[ea],ea,ca)}},H=h(Object.defineProperty),I=Object.getOwnPropertyDescriptor,J=h((ca,da)=>{return G(l(da),ea=>H(ca,ea,I(da,ea))),ca}),K=ca=>Array.prototype.reduce.call(ca,(da,ea)=>da.concat(y(ea)?K(ea):ea),[]),L=(ca,da=f)=>{try{return(r(da)?f.querySelector(da):da).querySelector(ca)}catch(ea){return!1}},M=(ca,da=f)=>{try{if(r(da)&&(da=L(da)),B(da))return Array.from(da.querySelectorAll(ca))}catch(ea){}return!1},N=(ca,da,ea)=>{q(da)&&(ea=da,da=null);const fa=M(ca,da);return z(fa)&&G(fa,ea),fa},O=ca=>new TypeError(ca),P=ca=>new Error(ca),Q=(ca,da=f)=>da==ca||!!(16&da.compareDocumentPosition(ca)),R=ca=>'DOMContentLoaded blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu pointerdown pointerup pointermove pointerover pointerout pointerenter pointerleave touchstart touchend touchmove touchcancel'.includes(ca),S=h((ca,da,ea,fa=!1)=>{if(r(ca)&&(ca=L(ca)),!ca||!ca.addEventListener)throw P('EventManager: Target Invalid');let ga=!1;return{on(){return ga||(ca.addEventListener(da,ea,fa),ga=!0),this},off(){return ga&&(ca.removeEventListener(da,ea),ga=!1),this},once(){return this.off(),ga=!0,ca.addEventListener(da,function ha(){ea.apply(this,arguments),ca.removeEventListener(da,ha)},fa),this}}},3),T=()=>{const ca=new Set;return{isInformer:!0,handle(da,ea){if(q(da)&&(ea=da,da=!1),!q(ea))throw O('informer.handle : ought to be a function');return ea.off=()=>{return ca.delete(ea),ea},ea.on=fa=>{return ea._once=!!fa,ca.add(ea),ea},ea.once=ea.on(!0),ea.on(da)},has:da=>ca.has(da),on(da){return this.handle(da)},once(da){return this.handle(!0,da)},off:da=>{ca.delete(da)},get empty(){return 0==ca.size},get size(){return ca.size},inform(...da){0!=ca.size&&(ca.forEach(ea=>{ea(...da),ea._once&&ea.off()}),this.lastInform=da)}}};T.fromEvent=function(ca,da,ea=!1,fa){if(r(ca)&&R(ca)?(fa=ea,ea=da,da=ca,ca=d):ca=L(ca),!ca.addEventListener)throw P('informer.fromEvent: target.addEventListener not found');if(1==arguments.length)return T.fromEvent.bind(null,ca);if(!r(da))throw O('informer.fromEvent: eventtype isn\'t a string');t(ea)||(fa=ea,ea=!1);let ga=T();const ha=S(ca,da,ia=>{ga.inform(ia,ha),ea&&(ga=null)},fa)[ea?'once':'on']();return ga},T.propHook=(ca,da,ea)=>{const fa=T(),ga=I(ca,da);ga.enumerable=!1;const ha='informer-'+da,ia='get',ja='set';return H(ca,ha,ga),H(ca,da,{get(){const ka=ea?ea(ia,ca[ha]):ca[ha];return fa.inform(ia,ka),ka},set(ka){const la=ca[ha],ma=ea?ea(ja,la,ka):ka;fa.inform(ja,la,ma),ca[ha]=ma}}),fa};const U={methods:{},handles:new Set};H(U,'extend',{value:J(U.methods),enumerable:!1});const V=ca=>f.createRange().createContextualFragment(ca||''),W=ca=>{if(r(ca))return V(ca);const da=f.createDocumentFragment();return da.appendChild(ca),da},X=(ca,da)=>{return B(ca.node)&&(ca=ca.node),da=D(ca)?'value':da,function(...ea){return ea.length?(ca[da]&&ca[da].length&&(ca[da]=''),G(ea,fa=>{r(fa)?ca[da]+=fa:fa.appendTo?fa.appendTo(ca):B(fa)?ca.appendChild(fa):x(fa)&&fa.isInformer&&fa.on(X(ca,da))}),this):ca[da]}},Y=h((ca,da,ea,fa)=>S(ca,da,ea,fa).on(),3),Z=h((ca,da,ea,fa)=>S(ca,da,ea,fa).once(),3),$=ca=>({node:ca,hasAttr:ca.hasAttribute.bind(ca),getAttr:ca.getAttribute.bind(ca),setAttr(da,ea=''){return x(da)?G(da,(fa,ga)=>ca.setAttribute(ga,fa)):ca.setAttribute(da,ea),this},removeAttr(...da){return da.map(ca.removeAttribute.bind(ca)),this},toggleAttr(da,ea=''){return this[(t(ea)?ea:ca.hasAttribute(da))?'removeAttr':'setAttr'](da,ea)},hasClass:(...da)=>1==da.length?ca.classList.contains(da[0]):da.every(ea=>ca.classList.contains(ea)),addClass(){return G(arguments,da=>ca.classList.add(da)),this},removeClass(){return G(arguments,da=>ca.classList.remove(da)),this},toggleClass(da,ea){return ca.classList[(t(ea)?ea:ca.classList.contains(da))?'remove':'add'](da),this},replace(da){return ca.parentNode.replaceChild(da,ca),this},css(da,ea){if(x(da))G(da,(fa,ga)=>ca.style[ga]=fa);else if(r(da)&&r(ea))ca.style[da]=ea;else throw O('CSS : Styles is not an object or string pair');return this},html:X(ca,'innerHTML'),Text:X(ca,'textContent'),on:Y(ca),once:Z(ca),append(...da){const ea=W();return G(da,fa=>fa.appendTo?fa.appendTo(ea):B(fa)?ea.appendChild(fa):ea.innerHTML+=fa),ca.appendChild(W),this},prepend(...da){const ea=W();return G(da,fa=>fa.appendTo?fa.appendTo(ea):B(fa)?ea.appendChild(fa):ea.innerHTML+=fa),q(ca.prepend)?ca.prepend(W):ca.insertBefore(W,ca.firstChild),this},appendTo(da,ea){return r(da)&&(da=L(da,ea)),da.append?da.append(ca):da.appendChild&&da.appendChild(ca),this},prependTo(da,ea){return r(da)&&(da=L(da,ea)),da.prepend?da.prepend(ca):B(da)&&da.insertBefore(ca,da.firstChild),this},modify(da){return da(this,ca),this},get mounted(){return Q(ca)},listeners:[],lifecycle:{},attrupdate:T(),observeAttr(da,ea,fa=!1){return this.attrupdate[fa?'once':'on']((ga,...ha)=>da===ga&&ea(ga,...ha))}}),_='create mount destroy update'.split(' '),aa=(ca,da)=>(ea,fa)=>{let ga;ca=ca(fa),q(ea)?ga=ca(ea):x(ea)&&(ga=ea.isInformer?ca(ea.inform.bind(ea)):ca(ea.handle,ea.options)),ga&&da.listeners.push(ga)},ba=h((ca,da)=>{if(!r(ca))throw O('invalid element instantiation parameters');return x(da)||(da=z(da)||B(da)?{inner:da}:{}),da.tag=ca,b(da)});return new MutationObserver(ca=>G(ca,da=>{if(0<da.removedNodes.length&&G(da.removedNodes,ea=>{ea.dm&&ea.dm.lifecycle.destroy.inform(ea.dm,ea)}),0<da.addedNodes.length&&G(da.addedNodes,ea=>{ea.dm&&ea.dm.lifecycle.mount.inform(ea.dm,ea)}),'attributes'==da.type&&'style'!=da.attributeName&&da.target.dm){const ea=da.target.dm,fa=da.attributeName;ea.attrupdate.inform(fa,ea.getAttr(fa),da.oldValue,ea.hasAttr(fa),ea)}})).observe(f,{attributes:!0,childList:!0,subtree:!0}),J(ba,{extend:J,query:L,queryAll:M,queryEach:N,on:Y,once:Z}),G('picture img input list a script table td th tr article aside ul ol li h1 h2 h3 h4 h5 h6 div span pre code section button br label header i style nav menu main menuitem'.split(' '),ca=>ba[ca]=ba(ca)),{informer:T,EventManager:S,on:Y,once:Z,dom:ba,plugins:U,extend:J,safeExtend:(ca,da)=>{return G(l(da),ea=>!(ea in ca)&&H(ca,ea,I(da,ea))),ca},def:H,getdesc:I,rename:(ca,da,ea)=>{return G(da,(fa,ga)=>{H(ca,ea[ga],I(ca,fa)),delete ca[fa]}),ca},run:ca=>'complete'==f.readyState?ca():T.fromEvent('DOMContentLoaded',!0).once(ca),curry:h,each:G,query:L,queryAll:M,queryEach:N,DOMcontains:Q,flatten:K,isDef:ca=>ca!==j,isUndef:ca=>ca===j,isPrimitive:ca=>'string'==typeof ca||'number'==typeof ca,isNativeEvent:R,isNull:ca=>null===ca,isFunc:q,isStr:r,isBool:t,isNum:u,isInt:w,isObj:x,isArr:y,isArrlike:z,isEmpty:A,isEl:C,isNode:B,isNodeList:ca=>ca instanceof NodeList||z(ca)&&!A(ca)&&m(ca,B),isInput:D,isMap:E,isSet:F}});
