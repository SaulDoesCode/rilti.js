var _this=this;((b,e)=>{const f='rot';b[f]=e(),'undefined'!=typeof module&&module.exports?module.exports=e():'function'==typeof define&&define.amd&&define(f,e)})(this,()=>{'use strict';const b=(ma,na=ma.length)=>{const oa=(...pa)=>(...qa)=>{const ra=pa.concat(qa);return(ra.length>=na?ma:oa)(...ra)};return oa()},e=window||global||_this,f=document,g=void 0,h=Object.keys,j=(ma,na)=>Array.prototype.every.call(ma,na),l=toString.call,m=ma=>na=>typeof na===ma,p=ma=>na=>toString.call(na).includes(ma),q=ma=>ma!==g,r=m('function'),t=m('string'),u=m('boolean'),w=ma=>!u(ma)&&!isNaN(+ma),x=ma=>t(ma)||u(ma)||!isNaN(ma),y=ma=>w(ma)&&0==ma%1,z=p('Object'),A=Array.isArray,B=ma=>ma!==g&&'undefined'!=typeof ma.length,C=ma=>(z(ma)?!h(ma).length:B(ma)?!ma.length:!ma.size)||r(ma),D=ma=>ma instanceof Node,E=p('HTML'),F=ma=>E(ma)&&'INPUT TEXTAREA'.includes(ma.tagName),G=p('Map'),H=p('Set'),I=b((ma,na)=>ma===na),J=(ma,na)=>{if(q(ma)&&r(na))if(B(ma)&&(ma=Array.from(ma)),ma.forEach)ma.forEach(na);else{let oa=0;if(z(ma))for(oa in ma)na(ma[oa],oa,ma);else if(y(ma))for(;ma!=oa;)na(oa+=1)}},K=b(Object.defineProperty),M=Object.getOwnPropertyDescriptor,N=b((ma,na)=>{for(let oa of h(na))K(ma,oa,M(na,oa));return ma}),O=(ma,na)=>{for(let oa of h(na))oa in ma||K(ma,oa,M(na,oa));return ma},P=ma=>B(ma)?Array.prototype.reduce.call(ma,(na,oa)=>na.concat(A(oa)?P(oa):oa),[]):[ma],Q=(ma,na=f)=>(t(na)?f.querySelector(na):na).querySelector(ma),R=(ma,na=f)=>Array.from((t(na)?Q(na):na).querySelectorAll(ma)),S=ma=>new TypeError(ma),T=ma=>new Error(ma),U=(ma,na=f)=>na==ma||!!(16&na.compareDocumentPosition(ma)),V='DOMContentLoaded hashchange blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu pointerdown pointerup pointermove pointerover pointerout pointerenter pointerleave touchstart touchend touchmove touchcancel'.split(' '),W=b((ma,na,oa,pa=!1)=>{function qa(va){oa.call(ma,va,ma),ta&&sa(qa)}if(!t(na))throw S('event type not string');if(t(ma)&&(ma=Q(ma)),!ma||!ma.addEventListener)throw T('EventManager: Target Invalid');const ra=ma.addEventListener.bind(ma,na),sa=ma.removeEventListener.bind(ma,na);let ta=!1;E(ma)&&(ma=ja(ma));const ua={off(){return sa(qa),ma.listeners&&ma.listeners.delete(ua),ua},on(){return ta=!1,ra(qa,pa),ma.listeners&&ma.listeners.add(ua),ua},once(){return sa(qa),ta=!0,ra(qa,pa),ma.listeners&&ma.listeners.add(ua),ua},activate:va=>ua[va?'once':'on']()};return ua},3),X=(ma=new Map)=>{const na={handle(oa,pa,qa){return qa.one=!!oa,(ma.has(pa)?ma:ma.set(pa,new Set)).get(pa).add(qa),qa.off=()=>na.off(pa,qa),qa},on:(oa,pa)=>na.handle(!1,oa,pa),once:(oa,pa)=>na.handle(!0,oa,pa),off(oa,pa){ma.has(oa)&&!ma.get(oa).delete(pa).size&&ma.delete(oa)},has:oa=>ma.has(oa),emit(oa,...pa){ma.has(oa)&&ma.get(oa).forEach(qa=>{qa(...pa),qa.one&&qa.off()})}};return na},Y=b((ma,...na)=>W(...na).activate(!!ma),4),Z=Y(!1),$=Y(!0),aa='create mount destroy attr'.split(' ');$(e,'DOMContentLoaded',()=>ba.forEach(ma=>ma()));const ba=new Set,ca=ma=>'complete'==f.readyState?ma():ba.add(ma),da=(...ma)=>na=>{D(na)?(na=ja(na),J(P(ma),oa=>H(oa)||B(oa)?J(oa,pa=>na.append(pa)):na.append(oa))):ca(()=>{if(q(na)?t(na)&&(na=Q(na)):na=f.body,!D(na))throw T('rot.render: invalid render node');na=ja(na),J(P(ma),oa=>H(oa)||B(oa)?J(oa,pa=>na.append(pa)):na.append(oa))})},ea=ma=>f.createRange().createContextualFragment(ma||''),fa=ma=>x(ma)?ea(ma):f.createDocumentFragment(),ga=ma=>O(rot,ma);N(ga,{methods:{},handles:new Set});const ha={replace:(ma,na,oa)=>ma.replaceWith?ma.replaceWith(oa):ma.parentNode.replaceChild(oa,ma),clone:ma=>ja(ma.cloneNode()),css(ma,na,oa,pa){if(z(oa))J(oa,(qa,ra)=>ma.style[ra]=qa);else if(t(oa)&&t(pa))ma.style[oa]=pa;else throw S('CSS : Styles is not an object or string pair')},inner(ma,na,...oa){na.html='';for(let pa of P(oa))pa.appendTo?(na.children.includes(pa)||pa.inf.emit('mount',pa),pa.appendTo(ma)):(x(pa)&&(pa=f.createTextNode(pa)),D(pa)&&na.append(pa));return na},append(ma,na,...oa){const pa=fa();return oa.forEach(qa=>{D(qa.pure)&&(qa=qa.pure),pa.appendChild(D(qa)?qa:ea(qa))}),ma.appendChild(pa),na},prepend(ma,na,...oa){const pa=fa();return oa.forEach(qa=>{D(qa.pure)&&(qa=qa.pure),pa.appendChild(D(qa)?qa:ea(qa))}),ma.prepend(pa),na},appendTo(ma,na,oa){return(t(oa)?Q(oa):oa).appendChild(ma),na},prependTo(ma,na,oa){return(t(oa)?Q(oa):oa).prepend(),na},modify(ma,na,oa){return oa.call(na,na,ma),na},remove(ma,na,oa){return w(oa)?setTimeout(()=>ma.remove(),oa):ma.remove(),na}},ia=new Map,ja=new Proxy(ma=>{if(t(ma)&&(ma=Q(ma)),E(ma)){if(ia.has(ma))return ia.get(ma);const na=new Proxy((Aa,Ba)=>{if(z(Aa))J(Aa,(Ca,Da)=>ma.setAttribute(Ca,Da));else if(q(Ba))ma.setAttribute(Aa,Ba);else return ma.getAttribute(Aa)},{get(Aa,Ba){return'has'==Ba?Ca=>ma.hasAttribute(Ca):ma.getAttribute(Ba)},set(Aa,Ba,Ca){return ma.setAttribute(Ba,Ca),!0},deleteProperty(Aa,Ba){return ma.removeAttribute(Ba),!0}}),oa=new Proxy((Aa,Ba=!ma.classList.contains(Aa))=>ma.classList[Ba?'add':'remove'](Aa),{get(Aa,Ba){return'remove'==Ba?Ca=>ma.classList.remove(Ca):ma.classList.contains(Ba)},set(Aa,Ba,Ca){return Aa(Ba,Ca),!0},deleteProperty(Aa,Ba){return ma.classList.remove(Ba),!0}}),pa=X(),qa=new Set,ra=Aa=>new Proxy(Aa.bind(ma,ma),{get(Ba,Ca){return Ba(Ca)},set(Ba,Ca,Da){if(r(Da))return Ba(Ca,Da)}}),sa=ra(Z),ta=ra($),ua={on:(Aa,Ba)=>pa.on('data:'+Aa,Ba),once:(Aa,Ba)=>pa.once('data:'+Aa,Ba),emit(Aa,...Ba){return pa.emit('data:'+Aa,...Ba),ua},isInput:F(ma)},va=Aa=>r(Aa)?Aa.bind(ma):Aa,wa=Aa=>{const Ba=va(Reflect.get(ua,Aa));return ua.emit('get',Ba).emit('get:'+Aa,Ba),Ba},xa=ua.isInput?'value':'innerHTML',ya=ua.isInput?'value':'textContent',za=new Proxy(ma,{get(Aa,Ba){return Ba in ha?ha[Ba].bind(Aa,Aa,za):'children'==Ba?Array.from(Aa.children).map(Ca=>ja(Ca)):Ba in Aa?va(Reflect.get(Aa,Ba)):'class'==Ba?oa:'attr'==Ba?na:'pure'==Ba?Aa:'listeners'==Ba?qa:'informer'==Ba||'inf'==Ba?pa:'on'==Ba?sa:'once'==Ba?ta:'html'==Ba?Aa[xa]:'txt'==Ba?Aa[ya]:'mounted'==Ba?U(ma):'data'==Ba?ua:Ba in ua?wa(Ba):Ba in ga.methods?ga.methods[Ba].bind(Aa,Aa,za):g},set(Aa,Ba,Ca,Da){if(Ba in Aa)return Reflect.set(Aa,Ba,Ca);if('class'==Ba&&t(Ca))Ca.includes(' ')?Ca.split(' ').forEach(Ea=>Aa.classList.add(Ea)):Aa.classList.add(Ca);else if('html'==Ba||'txt'==Ba)r(Ca)&&(Ca=Ca(Aa['txt'==Ba?ya:xa])),Ca==g&&(Ca=''),Aa['txt'==Ba?ya:xa]=Ca;else if('attr'==Ba&&z(Ca))J(Ca,(Ea,Fa)=>ma.setAttribute(Fa,Ea));else if('data'==Ba&&z(Ca))for(let Ea in Ca){const Fa=M(Ca,Ea);Fa.get&&(Fa.get=Fa.get.bind(Da)),Fa.set&&(Fa.set=Fa.set.bind(Da)),r(Fa.value)&&(Fa.value=Fa.value.bind(Da)),Object.defineProperty(ua,Ea,Fa)}else if('css'==Ba&&z(Ca))Aa.css(Ca);else return Reflect.set(ua.emit('set',Ca).emit('set:'+Ba,Ca),Ba,Ca);return!0},deleteProperty(Aa,Ba){return'self'==Ba?void Aa.remove():Reflect.deleteProperty(ua,Ba)}});return pa.once('destroy',()=>ia.delete(ma)),ia.set(ma,za),za}},{get(ma,na){return na in ma?Reflect.get(ma,na):ka.bind(g,na)},set(ma,na){return Reflect.set(ma,na)}}),ka=(ma,na,...oa)=>{const pa=ja(f.createElement(ma));if(z(na)){const{attr:qa,lifecycle:ra}=na;if(ra)for(let sa of aa)r(ra[sa])&&pa.inf.once(sa,(...ta)=>ra[sa].apply(pa,ta));for(let sa of ga.handles)sa(na,pa);J(na,(sa,ta)=>{'class'==ta||'className'==ta?pa.className=sa:'style'==ta||'css'==ta?pa.css(sa):'on'==ta||'once'==ta?J(sa,(ua,va)=>pa[ta][va]=ua):('props'==ta||'data'==ta)&&z(sa)?pa.data=sa:ta in pa?pa[ta]=sa:x(sa)&&(pa.attr=sa)}),qa&&!C(qa)&&(pa.attr=qa)}return C(oa)||pa.inner(...oa),pa.tagName.includes('-')||pa.mounted||pa.inf.emit('create',pa),na&&na.render?da(pa)(na.render):pa.render=(qa=f.body)=>da(pa)(qa),pa},la=X();return Z(e,'hashchange',()=>la.has(location.hash)?la.emit(location.hash):la.emit('default',location.hash)),(ja.extend=N(ja))({query:Q,queryAll:R,queryEach:(ma,na,oa=f)=>{r(na)||(na=oa,oa=f),J(R(ma,oa),na)},on:Z,once:$,html:ea}),new MutationObserver(ma=>{for(let na of ma){const{removedNodes:oa,addedNodes:pa,target:qa,attributeName:ra}=na;let sa;if(0<oa.length)for(sa of oa)E(sa)&&!sa.tagName.includes('-')&&(sa=ja(sa)).inf.emit('destroy',sa);if(0<pa.length)for(sa of pa)E(sa)&&!sa.tagName.includes('-')&&(sa=ja(sa)).inf.emit('mount',sa);'style'!=ra&&E(qa)&&(sa=ja(qa)).inf.emit('attr:'+ra,sa.attr[ra],na.oldValue,sa.attr.has(ra),sa)}}).observe(f,{attributes:!0,childList:!0,subtree:!0}),{dom:ja,evtsys:X,EventManager:W,plugins:ga,extend:N,safeExtend:O,def:K,getdesc:M,route:(ma,na)=>{return r(ma)&&(na=ma,ma='default'),location.hash===ma&&na(),la.on(ma,na)},render:da,run:ca,curry:b,each:J,DOMcontains:U,flatten:P,isDef:q,isUndef:ma=>ma===g,isPrimitive:x,isNativeEvent:ma=>V.includes(ma),isNull:ma=>null===ma,isFunc:r,isStr:t,isBool:u,isNum:w,isInt:y,isObj:z,isArr:A,isArrlike:B,isEmpty:C,isEl:E,isEq:I,isNode:D,isNodeList:ma=>ma instanceof NodeList||B(ma)&&j(ma,D),isInput:F,isMap:G,isSet:H,ready:()=>'complete'==f.readyState}});
