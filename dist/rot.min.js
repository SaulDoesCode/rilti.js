var _this=this;((b,e)=>{const f='rot';b[f]=e(),'undefined'!=typeof module&&module.exports?module.exports=e():'function'==typeof define&&define.amd&&define(f,e)})(this,()=>{'use strict';const b=window||global||_this,e=document,f=void 0,g=(sa,ta=sa.length)=>{const ua=(...va)=>(...wa)=>{const xa=va.concat(wa);return(xa.length>=ta?sa:ua)(...xa)};return ua()},h=(sa,ta)=>Array.prototype.every.call(sa,ta),j=toString.call,l=(sa)=>(ta)=>typeof ta===sa,m=(sa)=>(ta)=>toString.call(ta).includes(sa),p=(sa)=>sa!==f,t=l('function'),u=l('string'),w=l('boolean'),x=(sa)=>!w(sa)&&!isNaN(+sa),y=(sa)=>u(sa)||w(sa)||!isNaN(sa),z=(sa)=>x(sa)&&0==sa%1,A=m('Object'),B=Array.isArray,C=(sa)=>sa!==f&&'undefined'!=typeof sa.length,D=(sa)=>(A(sa)?!Object.keys(sa).length:C(sa)?!sa.length:!sa.size)||t(sa),E=(sa)=>sa&&(sa instanceof Node||sa.pure instanceof Node),G=m('HTML'),H=(sa)=>G(sa)&&'INPUT TEXTAREA'.includes(sa.tagName),I=m('Map'),J=m('Set'),K=g((sa,ta)=>sa===ta),L=(sa,ta)=>{if(p(sa)&&t(ta))if(C(sa)&&(sa=[...sa]),sa.forEach)sa.forEach(ta);else{let ua=0;if(A(sa))for(ua in sa)ta(sa[ua],ua,sa);else if(z(sa))for(;sa!=ua;)ta(ua+=1)}},M=g(Object.defineProperty),N=Object.getOwnPropertyDescriptor,O=g((sa,ta)=>{for(let ua of Object.keys(ta))M(sa,ua,N(ta,ua));return sa}),P=(sa,ta)=>{for(let ua of Object.keys(ta))ua in sa||M(sa,ua,N(ta,ua));return sa},Q=(sa)=>C(sa)?Array.prototype.reduce.call(sa,(ta,ua)=>ta.concat(B(ua)?Q(ua):ua),[]):[sa],R=(sa,ta=e)=>(u(ta)?e.querySelector(ta):ta).querySelector(sa),S=(sa,ta=e)=>Array.from((u(ta)?R(ta):ta).querySelectorAll(sa)),U=(sa)=>new TypeError(sa),V=(sa)=>new Error(sa),W=(sa,ta=e)=>ta==sa||!!(16&ta.compareDocumentPosition(sa)),X='DOMContentLoaded hashchange blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu pointerdown pointerup pointermove pointerover pointerout pointerenter pointerleave touchstart touchend touchmove touchcancel'.split(' '),Z=g((sa,ta,ua,va=!1)=>{function wa(Ba){ua.call(sa,Ba,sa),za&&ya(wa)}if(!u(ta))throw U('event type not string');if(u(sa)&&(sa=R(sa)),!sa||!sa.addEventListener)throw V('EventManager: Target Invalid');const xa=sa.addEventListener.bind(sa,ta),ya=sa.removeEventListener.bind(sa,ta);let za=!1;G(sa)&&(sa=oa(sa));const Aa={off(){return ya(wa),sa.listeners&&sa.listeners.delete(Aa),Aa},on(){return za=!1,xa(wa,va),sa.listeners&&sa.listeners.add(Aa),Aa},once(){return ya(wa),za=!0,xa(wa,va),sa.listeners&&sa.listeners.add(Aa),Aa},activate:(Ba)=>Aa[Ba?'once':'on']()};return Aa},3),$=(sa=new Map)=>{const ta={handle(ua,va,wa){return wa.one=!!ua,(sa.has(va)?sa:sa.set(va,new Set)).get(va).add(wa),wa.off=()=>ta.off(va,wa),wa},on:(ua,va)=>ta.handle(!1,ua,va),once:(ua,va)=>ta.handle(!0,ua,va),off(ua,va){sa.has(ua)&&!sa.get(ua).delete(va).size&&sa.delete(ua)},has:(ua)=>sa.has(ua),emit(ua,...va){sa.has(ua)&&sa.get(ua).forEach((wa)=>{wa(...va),wa.one&&wa.off()})}};return ta},aa=g((sa,...ta)=>Z(...ta).activate(!!sa),4),ba=aa(!1),ca=aa(!0),da='create mount destroy attr'.split(' ');let ea=!1,fa=new Set;ca(b,'DOMContentLoaded',()=>{ea=!0,fa.forEach((sa)=>sa()),fa.clear(),fa=null});const ga=(sa)=>ea?sa():fa.add(sa),ha=(...sa)=>(ta='body')=>{E(ta)?(ta=oa(ta),L(Q(sa),(ua)=>J(ua)||C(ua)?L(ua,(va)=>ta.append(va)):ta.append(ua))):u(ta)&&ga(()=>{if(!E(ta=oa('body'==ta?e.body:R(ta))))throw V('rot.render: invalid render node');L(Q(sa),(ua)=>J(ua)||C(ua)?L(ua,(va)=>ta.append(va)):ta.append(ua))})},ja=(sa)=>e.createRange().createContextualFragment(sa||''),ka=(sa)=>y(sa)?ja(sa):e.createDocumentFragment(),la=(sa)=>P(rot,sa);O(la,{methods:{},handles:new Set});const ma={replace:(sa,ta,ua)=>sa.replaceWith?sa.replaceWith(ua):sa.parentNode.replaceChild(ua,sa),clone:(sa)=>oa(sa.cloneNode()),css(sa,ta,ua,va){if(A(ua))L(ua,(wa,xa)=>sa.style[xa]=wa);else if(u(ua)&&u(va))sa.style[ua]=va;else throw U('CSS : Styles is not an object or string pair');return ta},inner(sa,ta,...ua){ta.html='';for(let va of Q(ua))va.appendTo?(ta.children.includes(va)||va.inf.emit('mount',va),va.appendTo(sa)):(y(va)&&(va=e.createTextNode(va)),E(va)&&ta.append(va));return ta},append(sa,ta,...ua){const va=ka();return ua.forEach((wa)=>{E(wa.pure)&&(wa=wa.pure),va.appendChild(E(wa)?wa:ja(wa))}),sa.appendChild(va),ta},prepend(sa,ta,...ua){const va=ka();return ua.forEach((wa)=>{E(wa.pure)&&(wa=wa.pure),va.appendChild(E(wa)?wa:ja(wa))}),sa.prepend(va),ta},appendTo(sa,ta,ua){return(u(ua)?R(ua):ua).appendChild(sa),ta},prependTo(sa,ta,ua){return(u(ua)?R(ua):ua).prepend(),ta},find(sa,ta,ua){let va=R(ua,sa);if(E(va))return oa(va)},modify(sa,ta,ua){return ua.call(ta,ta,sa),ta},remove(sa,ta,ua){return x(ua)?setTimeout(()=>sa.remove(),ua):sa.remove(),ta}},na=new Map,oa=new Proxy((sa)=>{if(u(sa)&&(sa=R(sa)),G(sa)){if(na.has(sa))return na.get(sa);const ta=new Proxy((Ga,Ha)=>{if(A(Ga))L(Ga,(Ia,Ja)=>sa.setAttribute(Ia,Ja));else if(p(Ha))sa.setAttribute(Ga,Ha);else return sa.getAttribute(Ga)},{get(Ga,Ha){return'has'==Ha?(Ia)=>sa.hasAttribute(Ia):sa.getAttribute(Ha)},set(Ga,Ha,Ia){return sa.setAttribute(Ha,Ia),!0},deleteProperty(Ga,Ha){return sa.removeAttribute(Ha),!0}}),ua=new Proxy((Ga,Ha=!sa.classList.contains(Ga))=>{return sa.classList[Ha?'add':'remove'](Ga),Fa},{get(Ga,Ha){return'remove'==Ha?(Ia)=>{return sa.classList.remove(Ia),Fa}:sa.classList.contains(Ha)},set(Ga,Ha,Ia){return Ga(Ha,Ia),!0},deleteProperty(Ga,Ha){return sa.classList.remove(Ha),!0}}),va=$(),wa=new Set,xa=(Ga)=>new Proxy(Ga.bind(sa,sa),{get(Ha,Ia){return Ha(Ia)},set(Ha,Ia,Ja){if(t(Ja))return Ha(Ia,Ja)}}),ya=xa(ba),za=xa(ca),Aa={on:(Ga,Ha)=>va.on('data:'+Ga,Ha),once:(Ga,Ha)=>va.once('data:'+Ga,Ha),emit(Ga,...Ha){return va.emit('data:'+Ga,...Ha),Aa},isInput:H(sa)},Ba=(Ga)=>t(Ga)?Ga.bind(sa):Ga,Ca=(Ga)=>{const Ha=Ba(Reflect.get(Aa,Ga));return Aa.emit('get',Ha).emit('get:'+Ga,Ha),Ha},Da=Aa.isInput?'value':'innerHTML',Ea=Aa.isInput?'value':'textContent',Fa=new Proxy(sa,{get(Ga,Ha){return Ha in ma?ma[Ha].bind(Ga,Ga,Fa):'children'==Ha?Array.prototype.map.call(Ga.children,(Ia)=>oa(Ia)):Ha in Ga?Ba(Reflect.get(Ga,Ha)):'class'==Ha?ua:'attr'==Ha?ta:'pure'==Ha?Ga:'listeners'==Ha?wa:'informer'==Ha||'inf'==Ha?va:'on'==Ha?ya:'once'==Ha?za:'html'==Ha?Ga[Da]:'txt'==Ha?Ga[Ea]:'mounted'==Ha?W(sa):'data'==Ha?Aa:Ha in Aa?Ca(Ha):Ha in la.methods?la.methods[Ha].bind(Ga,Ga,Fa):f},set(Ga,Ha,Ia,Ja){if(Ha in Ga)return Reflect.set(Ga,Ha,Ia);if('class'==Ha&&u(Ia))Ia.includes(' ')?Ia.split(' ').forEach((Ka)=>Ga.classList.add(Ka)):Ga.classList.add(Ia);else if('html'==Ha||'txt'==Ha)t(Ia)&&(Ia=Ia(Ga['txt'==Ha?Ea:Da])),Ia==f&&(Ia=''),Ga['txt'==Ha?Ea:Da]=Ia;else if('attr'==Ha&&A(Ia))L(Ia,(Ka,La)=>sa.setAttribute(La,Ka));else if('data'==Ha&&A(Ia))for(let Ka in Ia){const La=N(Ia,Ka);La.get&&(La.get=La.get.bind(Ja)),La.set&&(La.set=La.set.bind(Ja)),t(La.value)&&(La.value=La.value.bind(Ja)),Object.defineProperty(Aa,Ka,La)}else if('css'==Ha&&A(Ia))Ja.css(Ia);else return Reflect.set(Aa.emit('set',Ia).emit('set:'+Ha,Ia),Ha,Ia);return!0},deleteProperty(Ga,Ha){return'self'==Ha?void Ga.remove():Reflect.deleteProperty(Aa,Ha)}});return va.once('destroy',()=>na.delete(sa)),na.set(sa,Fa),Fa}},{get(sa,ta){return ta in sa?Reflect.get(sa,ta):pa.bind(f,ta)},set(sa,ta){return Reflect.set(sa,ta)}}),pa=(sa,ta,...ua)=>{const va=oa(e.createElement(sa));if(C(ta)||E(ta))ua=u(ta)||E(ta)?[ta]:ta,ta=null;else if(A(ta)){const{attr:wa,lifecycle:xa}=ta;if(xa)for(let ya of da)t(xa[ya])&&va.inf.once(ya,(...za)=>xa[ya].apply(va,za));for(let ya of la.handles)ya(ta,va);L(ta,(ya,za)=>{'class'==za||'className'==za?va.className=ya:'style'==za||'css'==za?va.css(ya):'on'==za||'once'==za?L(ya,(Aa,Ba)=>va[za][Ba]=Aa):('props'==za||'data'==za)&&A(ya)?va.data=ya:za in va?va[za]=ya:y(ya)&&(va.attr=ya)}),wa&&!D(wa)&&(va.attr=wa)}return D(ua)||va.inner(...ua),va.tagName.includes('-')||va.mounted||va.inf.emit('create',va),ta&&ta.render?ha(va)(ta.render):va.render=(wa='body')=>ha(va)(wa),va},qa=$();return ba(b,'hashchange',()=>qa.has(location.hash)?qa.emit(location.hash):qa.emit('default',location.hash)),(oa.extend=O(oa))({query:R,queryAll:S,queryEach:(sa,ta,ua=e)=>{t(ta)||(ta=ua,ua=e),L(S(sa,ua),ta)},on:ba,once:ca,html:ja}),new MutationObserver((sa)=>{for(let ta of sa){const{removedNodes:ua,addedNodes:va,target:wa,attributeName:xa}=ta;let ya;if(0<ua.length)for(ya of ua)G(ya)&&!ya.tagName.includes('-')&&(ya=oa(ya)).inf.emit('destroy',ya);if(0<va.length)for(ya of va)G(ya)&&!ya.tagName.includes('-')&&(ya=oa(ya)).inf.emit('mount',ya);'style'!=xa&&G(wa)&&(ya=oa(wa)).inf.emit('attr:'+xa,ya.attr[xa],ta.oldValue,ya.attr.has(xa),ya)}}).observe(e,{attributes:!0,childList:!0,subtree:!0}),{dom:oa,evtsys:$,EventManager:Z,plugins:la,extend:O,safeExtend:P,def:M,getdesc:N,route:(sa,ta)=>{return t(sa)&&(ta=sa,sa='default'),location.hash===sa&&ta(),qa.on(sa,ta)},render:ha,run:ga,curry:g,each:L,DOMcontains:W,flatten:Q,isDef:p,isUndef:(sa)=>sa===f,isPrimitive:y,isNativeEvent:(sa)=>X.includes(sa),isNull:(sa)=>null===sa,isFunc:t,isStr:u,isBool:w,isNum:x,isInt:z,isObj:A,isArr:B,isArrlike:C,isEmpty:D,isEl:G,isEq:K,isNode:E,isNodeList:(sa)=>sa instanceof NodeList||C(sa)&&h(sa,E),isInput:H,isMap:I,isSet:J}});
