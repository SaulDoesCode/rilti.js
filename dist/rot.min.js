(function(d,f){const h='rot';'undefined'!=typeof module&&module.exports?module.exports=f():'function'==typeof define&&define.amd?define(h,f):d[h]=f()})(this,()=>{'use strict';function d(da,ea){D(ea)||(ea=u(ea)?N(ea):h.createElement(da.tag));const fa=_(ea);return ea.dm=fa,da.class&&(ea.className=da.class),da.inner?fa.html(t(da.inner)?da.inner(fa,ea):da.inner):da.text&&fa.Text(da.text),da.style&&fa.css(da.style),da.attr&&fa.setAttr(da.attr),da.on&&I(da.on,ba(fa.on,fa)),da.once&&I(da.once,ba(fa.once,fa)),fa.extend=L(fa),I(aa,ga=>{fa.lifecycle[ga]=new U,z(da.lifecycle)&&t(da.lifecycle[ga])&&(da.lifecycle[ga]=fa.lifecycle[ga]['update'===ga?'on':'once'](da.lifecycle[ga]))}),z(da.props)&&L(fa,da.props),V.methods&&L(fa,V.methods),V.handles&&I(V.handles,ga=>ga(da,fa,ea)),fa.lifecycle[fa.mounted?'mount':'create'].inform(fa,ea),fa}const f=window||global,h=document,j=(da,ea)=>{return isNaN(ea)&&(ea=da.length),function fa(...ga){return(...ha)=>{const ia=ga.slice().concat(ha);return(ia.length>=ea?da:fa)(...ia)}}()},k=j((da,ea)=>da.includes(ea)),l=Object.keys,m=(da,ea)=>Array.prototype.every.call(da,ea),n=toString.call,p=da=>ea=>toString.call(ea).includes(da),q=da=>void 0!==da,r=da=>void 0===da,t=da=>'function'==typeof da,u=da=>'string'==typeof da,w=da=>'boolean'==typeof da,x=da=>!w(da)&&!isNaN(+da),y=da=>x(da)&&0==da%1,z=p('Object'),A=Array.isArray,B=da=>void 0!==da&&'undefined'!=typeof da.length,C=da=>{try{return(z(da)?!l(da).length:B(da)?!da.length:!da.size)||''===da}catch(ea){}return!1},D=da=>da instanceof Node,E=p('HTML'),F=da=>E(da)&&['INPUT','TEXTAREA'].some(k(da.tagName)),G=p('Map'),H=p('Set'),I=(da,ea)=>{if(t(ea))if(da.forEach&&!C(da))da.forEach(ea);else{let fa=0;if(B(da)&&!localStorage)for(;fa<da.length;fa+=1)ea(da[fa],fa,da);else if(y(da)&&!u(da))for(;da!=fa;)ea(fa+=1);else for(fa in da)da.hasOwnProperty(fa)&&ea(da[fa],fa,da)}},J=j(Object.defineProperty),K=Object.getOwnPropertyDescriptor,L=j((da,ea)=>{return I(l(ea),fa=>J(da,fa,K(ea,fa))),da}),M=da=>Array.prototype.reduce.call(da,(ea,fa)=>ea.concat(A(fa)?M(fa):fa),[]),N=(da,ea=h)=>{try{return(u(ea)?h.querySelector(ea):ea).querySelector(da)}catch(fa){return!1}},O=(da,ea=h)=>{try{if(u(ea)&&(ea=N(ea)),D(ea))return Array.from(ea.querySelectorAll(da))}catch(fa){}return!1},P=(da,ea,fa)=>{t(ea)&&(fa=ea,ea=null);const ga=O(da,ea);return B(ga)&&I(ga,fa),ga},Q=(da,ea=h)=>ea==da||!!(16&ea.compareDocumentPosition(da)),R=(da,ea)=>null==da||null==ea?!1:da===ea||da.length==ea.length&&m(da,(fa,ga)=>fa==ea[ga]),S=da=>'DOMContentLoaded blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu pointerdown pointerup pointermove pointerover pointerout pointerenter pointerleave touchstart touchend touchmove touchcancel'.includes(da),T=j((da,ea,fa,ga=!1)=>{if(u(da)&&(da=N(da)),!da||!da.addEventListener)throw new Error('EventManager: Target Invalid');let ha=!1;return{on(){return ha||(da.addEventListener(ea,fa,ga),ha=!0),this},off(){return ha&&(da.removeEventListener(ea,fa),ha=!1),this},once(){return this.off(),ha=!0,da.addEventListener(ea,function ia(){fa.apply(this,arguments),da.removeEventListener(ea,ia)},ga),this}}},3);class U{constructor(){this.handles=new Set,this.isInformer=!0}handle(da,ea){if(t(da)&&(ea=da,da=!1),!t(ea))throw new TypeError('informer.handle : ought to be a function');const fa=this.handles,ga=ha=>{return ea._once=!!ha,fa.add(ea),ea};return ea.off=()=>{return fa.delete(ea),ea},ea.on=ga,ea.once=ga.bind(null,!0),ga(da)}has(da){return this.handles.has(da)}on(da){return this.handle(da)}once(da){return this.handle(!0,da)}off(da){this.handles.delete(da)}get empty(){return 0==this.handles.size}get size(){return this.handles.size}inform(...da){R(this.lastInform,da)||(this.lastInform=da,0!=this.handles.size&&this.handles.forEach(ea=>{ea(...da),ea._once&&ea.off()}))}forceInform(...da){this.lastInform=da,this.handles.forEach(ea=>{ea(...da),ea._once&&ea.off()})}static fromEvent(da,ea,fa=!1,ga){if(u(da)&&S(da)?(ga=fa,fa=ea,ea=da,da=f):da=N(da),!da.addEventListener)throw new Error('informer.fromEvent: target.addEventListener not found');if(1==arguments.length)return U.fromEvent.bind(null,da);if(!u(ea))throw new TypeError('informer.fromEvent: eventtype isn\'t a string');w(fa)||(ga=fa,fa=!1);let ha=new U;const ia=T(da,ea,ja=>{ha.inform(ja,ia),fa&&(ha=null)},ga)[fa?'once':'on']();return ha}static propHook(da,ea,fa){const ga=new U,ha=K(da,ea);ha.enumerable=!1;const ia='informer-'+ea,ja='get',ka='set';return J(da,ia,ha),J(da,ea,{get(){const la=fa?fa(ja,da[ia]):da[ia];return ga.inform(ja,la),la},set(la){const ma=da[ia],na=fa?fa(ka,ma,la):la;ga.inform(ka,ma,na),da[ia]=na}}),ga}}const V={methods:{},handles:new Set};J(V,'extend',{value:L(V.methods),enumerable:!1});const W=da=>h.createRange().createContextualFragment(da||''),X=da=>{if(u(da))return W(da);const ea=h.createDocumentFragment();return ea.appendChild(da),ea},Y=(da,ea)=>{return D(da.node)&&(da=da.node),ea=F(da)?'value':ea,function(){return arguments.length?(da[ea]&&da[ea].length&&(da[ea]=''),I(arguments,function fa(ga){u(ga)?da[ea]+=ga:A(ga)?I(ga,fa):q(ga)&&(ga.appendTo?ga.appendTo(da):D(ga)?da.appendChild(ga):z(ga)&&ga.isInformer&&ga.on(Y(da,ea)))}),this):da[ea]}},Z=j((da,ea,fa,ga)=>T(da,ea,fa,ga).on(),3),$=j((da,ea,fa,ga)=>T(da,ea,fa,ga).once(),3),_=da=>({node:da,hasAttr:da.hasAttribute.bind(da),getAttr:da.getAttribute.bind(da),setAttr(ea,fa){const ga=da.setAttribute.bind(da);return r(fa)?z(ea)?I(ea,(ha,ia)=>ga(ia,ha)):u(ea)&&(ea.includes('=')||ea.includes('&')?I(ea.split('&'),ha=>{const ia=ha.split('=');ga(ia[0],q(ia[1])?ia[1]:'')}):ga(ea,'')):ga(ea,''),this},removeAttr(...ea){return ea.map(da.removeAttribute.bind(da)),this},toggleAttr(ea,fa=''){return this[(w(fa)?fa:da.hasAttribute(ea))?'removeAttr':'setAttr'](ea,fa)},hasClass:(...ea)=>1==ea.length?da.classList.contains(ea[0]):ea.every(fa=>da.classList.contains(fa)),addClass(){return I(arguments,ea=>da.classList.add(ea)),this},removeClass(){return I(arguments,ea=>da.classList.remove(ea)),this},toggleClass(ea,fa){return da.classList[(w(fa)?fa:da.classList.contains(ea))?'remove':'add'](ea),this},replace(ea){return da.parentNode.replaceChild(ea,da),this},css(ea,fa){if(z(ea))I(ea,(ga,ha)=>da.style[ha]=ga);else if(u(ea)&&u(fa))da.style[ea]=fa;else throw new TypeError('CSS : Styles is not an object or string pair');return this},html:Y(da,'innerHTML'),Text:Y(da,'textContent'),on:Z(da),once:$(da),append(...ea){const fa=X();return I(ea,ga=>ga.appendTo?ga.appendTo(fa):D(ga)?fa.appendChild(ga):fa.innerHTML+=ga),da.appendChild(X),this},prepend(...ea){const fa=X();return I(ea,ga=>ga.appendTo?ga.appendTo(fa):D(ga)?fa.appendChild(ga):fa.innerHTML+=ga),t(da.prepend)?da.prepend(X):da.insertBefore(X,da.firstChild),this},appendTo(ea,fa){return u(ea)&&(ea=N(ea,fa)),ea.append?ea.append(da):ea.appendChild&&ea.appendChild(da),this},prependTo(ea,fa){return u(ea)&&(ea=N(ea,fa)),ea.prepend?ea.prepend(da):D(ea)&&ea.insertBefore(da,ea.firstChild),this},modify(ea){return ea(this,da),this},listeners:[],get mounted(){return Q(da)},lifecycle:{},attrupdate:new U,observeAttr(ea,fa,ga=!1){return this.attrupdate[ga?'once':'on']((ha,...ia)=>ea===ha&&fa(ha,...ia))}}),aa='create mount destroy update'.split(' '),ba=(da,ea)=>(fa,ga)=>{let ha;da=da(ga),t(fa)?ha=da(fa):z(fa)&&(ha=fa.isInformer?da(fa.inform.bind(fa)):da(fa.handle,fa.options)),console.log(ha),ha&&ea.listeners.push(ha)},ca=j((da,ea)=>{if(!u(da))throw new TypeError('invalid element instantiation parameters');return z(ea)||(ea=B(ea)||D(ea)?{inner:ea}:{}),ea.tag=da,d(ea)});return new MutationObserver(da=>I(da,ea=>{if(0<ea.removedNodes.length&&I(ea.removedNodes,fa=>{fa.dm&&fa.dm.lifecycle.destroy.inform(fa.dm,fa)}),0<ea.addedNodes.length&&I(ea.addedNodes,fa=>{fa.dm&&fa.dm.lifecycle.mount.inform(fa.dm,fa)}),'attributes'==ea.type&&'style'!=ea.attributeName&&ea.target.dm){const fa=ea.target.dm,ga=ea.attributeName;fa.attrupdate.inform(ga,fa.getAttr(ga),ea.oldValue,fa.hasAttr(ga),fa)}})).observe(h,{attributes:!0,childList:!0,subtree:!0}),L(ca,{extend:L,query:N,queryAll:O,queryEach:P,on:Z,once:$}),I('picture img input list a script table td th tr article aside ul ol li h1 h2 h3 h4 h5 h6 div span pre code section button br label header i style nav menu main menuitem'.split(' '),da=>ca[da]=ca(da)),{informer:U,EventManager:T,isNativeEvent:S,dom:ca,plugins:V,extend:L,safeExtend:(da,ea)=>{return I(l(ea),fa=>!(fa in da)&&J(da,fa,K(ea,fa))),da},def:J,getdesc:K,get:(da,ea)=>new Promise((fa,ga)=>{ea.replace(/\[(\w+)\]/g,'.$1').replace(/^\./,'').split('.').map(ha=>{da=ha in da?da[ha]:void 0}),q(da)?fa(da):ga()}),set:(da,ea,fa)=>new Promise(ga=>{ea=ea.split('.');const ha=ea.length-1;ea.map((ia,ja)=>{void 0==da[ia]&&(da[ia]={}),ha==ja?da[ia]=fa:da=da[ia]}),ga()}),rename:(da,ea,fa)=>{return I(ea,(ga,ha)=>{J(da,fa[ha],K(da,ga)),delete da[ga]}),da},run:da=>'complete'==h.readyState?da():U.fromEvent('DOMContentLoaded',!0).once(da),curry:j,each:I,query:N,queryAll:O,queryEach:P,DOMcontains:Q,arraysEqual:R,flatten:M,isDef:q,isUndef:r,isPrimitive:da=>'string'==typeof da||'number'==typeof da,isNull:da=>null===da,isFunc:t,isStr:u,isBool:w,isNum:x,isInt:y,isObj:z,isArr:A,isArrlike:B,isEmpty:C,isEl:E,isNode:D,isNodeList:da=>da instanceof NodeList||B(da)&&!C(da)&&m(da,D),isInput:F,isMap:G,isSet:H}});
