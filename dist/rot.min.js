var _this=this;((b,f)=>{const g='rot';b[g]=f(),'undefined'!=typeof module&&module.exports?module.exports=f():'function'==typeof define&&define.amd&&define(g,f)})(this,()=>{'use strict';const b=(ma,na=ma.length)=>{const oa=(...pa)=>(...qa)=>{const ra=pa.concat(qa);return(ra.length>=na?ma:oa)(...ra)};return oa()},f=window||global||_this,g=document,h=void 0,j=Object.keys,l=(ma,na)=>Array.prototype.every.call(ma,na),m=toString.call,p=ma=>na=>typeof na===ma,q=ma=>na=>toString.call(na).includes(ma),r=ma=>ma!==h,t=p('function'),u=p('string'),w=p('boolean'),x=ma=>!w(ma)&&!isNaN(+ma),y=ma=>u(ma)||w(ma)||!isNaN(ma),z=ma=>x(ma)&&0==ma%1,A=q('Object'),B=Array.isArray,C=ma=>ma!==h&&'undefined'!=typeof ma.length,D=ma=>(A(ma)?!j(ma).length:C(ma)?!ma.length:!ma.size)||t(ma),E=ma=>ma instanceof Node,F=q('HTML'),G=ma=>F(ma)&&'INPUT TEXTAREA'.includes(ma.tagName),H=q('Map'),I=q('Set'),J=b((ma,na)=>ma===na),K=(ma,na)=>{if(r(ma)&&t(na))if(C(ma)&&(ma=Array.from(ma)),ma.forEach)ma.forEach(na);else{let oa=0;if(A(ma))for(oa in ma)na(ma[oa],oa,ma);else if(z(ma))for(;ma!=oa;)na(oa+=1)}},M=b(Object.defineProperty),N=Object.getOwnPropertyDescriptor,O=b((ma,na)=>{for(let oa of j(na))M(ma,oa,N(na,oa));return ma}),P=(ma,na)=>{for(let oa of j(na))oa in ma||M(ma,oa,N(na,oa));return ma},Q=ma=>C(ma)?Array.prototype.reduce.call(ma,(na,oa)=>na.concat(B(oa)?Q(oa):oa),[]):[ma],R=(ma,na=g)=>(u(na)?g.querySelector(na):na).querySelector(ma),S=(ma,na=g)=>Array.from((u(na)?R(na):na).querySelectorAll(ma)),T=ma=>new TypeError(ma),U=ma=>new Error(ma),V=(ma,na=g)=>na==ma||!!(16&na.compareDocumentPosition(ma)),W='DOMContentLoaded hashchange blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu pointerdown pointerup pointermove pointerover pointerout pointerenter pointerleave touchstart touchend touchmove touchcancel'.split(' '),X=b((ma,na,oa,pa=!1)=>{function qa(va){oa.call(ma,va,ma),ta&&sa(qa)}if(!u(na))throw T('event type not string');if(u(ma)&&(ma=R(ma)),!ma||!ma.addEventListener)throw U('EventManager: Target Invalid');const ra=ma.addEventListener.bind(ma,na),sa=ma.removeEventListener.bind(ma,na);let ta=!1;F(ma)&&ja.has(ma)&&(ma=ja.get(ma));const ua={off(){return sa(qa),ma.listeners&&ma.listeners.delete(ua),ua},on(){return ta=!1,ra(qa,pa),ma.listeners&&ma.listeners.add(ua),ua},once(){return sa(qa),ta=!0,ra(qa,pa),ma.listeners&&ma.listeners.add(ua),ua},activate:va=>ua[va?'once':'on']()};return ua},3),Y=(ma=new Set)=>({handles:ma,isInformer:!0,handle(na,oa=na){if(!t(oa))throw T('informer.handle: is not a function');return oa.off=()=>{return ma.delete(oa),oa},oa.on=pa=>{return oa.off().one=!!pa,ma.add(oa),oa},oa.once=oa.on.bind(h,!0),oa.on(w(na)&&na)},on(na){return this.handle(na)},once(na){return this.handle(!0,na)},off:na=>na.off(),get empty(){return 1>ma.size},inform(...na){if(ma.size)for(let oa of ma)oa.apply(h,na),oa.one&&oa.off();return this}}),Z=b((ma,...na)=>X(...na).activate(!!ma),4),$=Z(!1),aa=Z(!0);Y.fromEvent=(ma,na,oa,pa)=>{const qa=Y(),ra=Z(oa,ma,na,sa=>qa.inform(sa,ra),pa);return qa};const ba=Y.fromEvent(f,'DOMContentLoaded',!0),ca='create mount destroy update attr'.split(' '),da=ma=>'complete'==g.readyState?ma():ba.once(ma),ea=(...ma)=>na=>{E(na)?(na=ka(na),K(Q(ma),oa=>I(oa)||C(oa)?K(oa,pa=>na.append(pa)):na.append(oa))):da(()=>{if(r(na)?u(na)&&(na=R(na)):na=g.body,!E(na))throw U('rot.render: invalid render node');na=ka(na),K(Q(ma),oa=>I(oa)||C(oa)?K(oa,pa=>na.append(pa)):na.append(oa))})},fa=ma=>g.createRange().createContextualFragment(ma||''),ga=ma=>y(ma)?fa(ma):g.createDocumentFragment(),ha=ma=>P(rot,ma);O(ha,{methods:{},handles:new Set});const ia={replace:(ma,na,oa)=>ma.replaceWith?ma.replaceWith(oa):ma.parentNode.replaceChild(oa,ma),clone:ma=>ka(ma.cloneNode()),css(ma,na,oa,pa){if(A(oa))K(oa,(qa,ra)=>ma.style[ra]=qa);else if(u(oa)&&u(pa))ma.style[oa]=pa;else throw T('CSS : Styles is not an object or string pair')},inner(ma,na,...oa){na.html='';for(let pa of Q(oa))pa.appendTo?(na.children.includes(pa)||pa.lifecycle.mount.inform(pa),pa.appendTo(ma)):(y(pa)&&(pa=g.createTextNode(pa)),E(pa)?na.append(pa):pa.isInformer&&pa.on(na.inner));return na},append(ma,na,...oa){const pa=ga();return oa.forEach(qa=>{E(qa.pure)&&(qa=qa.pure),pa.appendChild(E(qa)?qa:fa(qa))}),ma.appendChild(pa),na},prepend(ma,na,...oa){const pa=ga();return oa.forEach(qa=>{E(qa.pure)&&(qa=qa.pure),pa.appendChild(E(qa)?qa:fa(qa))}),ma.prepend(pa),na},appendTo(ma,na,oa){return(u(oa)?R(oa):oa).appendChild(ma),na},prependTo(ma,na,oa){return(u(oa)?R(oa):oa).prepend(),na},modify(ma,na,oa){return oa.call(na,na,ma),na},remove(ma,na,oa){return x(oa)?setTimeout(()=>ma.remove(),oa):ma.remove(),na}},ja=new Map,ka=new Proxy(ma=>{if(u(ma)&&(ma=R(ma)),F(ma)){if(ja.has(ma))return ja.get(ma);const na=new Proxy({},{get(Ca,Da){return'has'==Da?Ea=>ma.hasAttribute(Ea):ma.getAttribute(Da)},set(Ca,Da,Ea){return ma.setAttribute(Da,Ea),!0},delete(Ca,Da){return ma.removeAttribute(Da),!0}}),oa=new Proxy({},{get(Ca,Da){return'toggle'==Da?(Ea,Fa=!ma.classList.contains(Ea))=>ma.classList[Fa?'add':'remove'](Ea):'remove'==Da?Ea=>ma.classList.remove(Ea):ma.classList.contains(Da)},set(Ca,Da,Ea){return'toggle'==Da?ma.classList.contains(Da)?ma.classList.remove(Ea):ma.classList.add(Ea):'remove'==Da?ma.classList.remove(Ea):ma.classList.add(Ea),!0},delete(Ca,Da){return console.log(Da),ma.classList.remove(Da),!0}}),pa={create:Y(),mount:Y(),destroy:Y(),attr:Y()},qa=new Set,ra=Ca=>new Proxy(Ca.bind(h,ma),{get(Da,Ea){return Da(Ea)},set(Da,Ea,Fa){if(t(Fa))return Da(Ea,Fa)}}),sa=ra($),ta=ra(aa),ua={},va=Y(),wa=Ca=>(Da,Ea)=>t(Da)?va.handle(Ca,Da):va.handle(Ca,(Fa,Ga)=>{Da===Fa&&Ea(Ga)});ua.on=wa(!1),ua.once=wa(!0),ua.isInput=G(ma);const xa=Ca=>t(Ca)?Ca.bind(ma):Ca,ya=Ca=>{const Da=xa(Reflect.get(ua,Ca));return va.inform('get',Da).inform('get:'+Ca,Da),Da},za=ua.isInput?'value':'innerHTML',Aa=ua.isInput?'value':'textContent',Ba=new Proxy(ma,{get(Ca,Da){return Da in ia?ia[Da].bind(Ca,Ca,Ba):'children'==Da?Array.from(Ca.children).map(Ea=>ka(Ea)):Da in Ca?xa(Reflect.get(Ca,Da)):'class'==Da?oa:'attr'==Da?na:'pure'==Da?Ca:'listeners'==Da?qa:'lifecycle'==Da?pa:'on'==Da?sa:'once'==Da?ta:'html'==Da?Ca[za]:'txt'==Da?Ca[Aa]:'mounted'==Da?V(ma):'data'==Da?ua:Da in ua?ya(Da):Da in ha.methods?ha.methods[Da].bind(Ca,Ca,Ba):h},set(Ca,Da,Ea,Fa){if(Da in Ca)return Reflect.set(Ca,Da,Ea);if('class'==Da&&u(Ea))Ea.includes(' ')?Ea.split(' ').forEach(Ga=>{Ca.classList.add(Ga)}):Ca.classList.add(Ea);else if('html'==Da)t(Ea)&&(Ea=Ea(Ca[za])),Ea==h&&(Ea=''),Ca[za]=Ea;else if('txt'==Da)t(Ea)&&(Ea=Ea(Ca[Aa])),Ea==h&&(Ea=''),Ca[Aa]=Ea;else if('attr'==Da&&A(Ea))K(Ea,(Ga,Ha)=>ma.setAttribute(Ha,Ga));else if('data'==Da&&A(Ea))for(let Ga in Ea){const Ha=N(Ea,Ga);Ha.get&&(Ha.get=Ha.get.bind(Fa)),Ha.set&&(Ha.set=Ha.set.bind(Fa)),t(Ha.value)&&(Ha.value=Ha.value.bind(Fa)),Object.defineProperty(ua,Ga,Ha)}else if('css'==Da&&A(Ea))Ca.css(Ea);else return va.inform('set',Ea).inform('set:'+Da,Ea),Reflect.set(ua,Da,Ea);return!0},delete(Ca,Da){return'self'==Da?Ca.remove():ua.delete(Da),!0}});return ja.set(ma,Ba),Ba}},{get(ma,na){return na in ma?Reflect.get(ma,na):la.bind(h,na)},set(ma,na){return Reflect.set(ma,na)}}),la=(ma,na,...oa)=>{const pa=ka(g.createElement(ma));if(A(na)){const{attr:qa,lifecycle:ra}=na;if(ra)for(let sa of ca)t(ra[sa])&&pa.lifecycle[sa].once((...ta)=>ra[sa].apply(pa,ta));for(let sa of ha.handles)sa(na,pa);K(na,(sa,ta)=>{'class'==ta||'className'==ta?pa.className=sa:'style'==ta||'css'==ta?pa.css(sa):'on'==ta||'once'==ta?K(sa,(ua,va)=>pa[ta][va]=ua):('props'==ta||'data'==ta)&&A(sa)?pa.data=sa:ta in pa?pa[ta]=sa:y(sa)&&(pa.attr=sa)}),qa&&!D(qa)&&(pa.attr=qa)}return D(oa)||pa.inner(...oa),pa.mounted||pa.lifecycle.create.inform(pa),na&&na.render?ea(pa)(na.render):pa.render=(qa=g.body)=>ea(pa)(qa),pa};return(ka.extend=O(ka))({query:R,queryAll:S,queryEach:(ma,na,oa=g)=>{t(na)||(na=oa,oa=g),K(S(ma,oa),na)},on:$,once:aa,html:fa}),new MutationObserver(ma=>{for(let na of ma){const{removedNodes:oa,addedNodes:pa,target:qa,attributeName:ra}=na;let sa;if(0<oa.length)for(sa of oa)F(sa)&&(sa=ka(sa)).lifecycle.destroy.inform(sa);if(0<pa.length)for(sa of pa)F(sa)&&(sa=ka(sa)).lifecycle.mount.inform(sa);'style'!=ra&&F(qa)&&(sa=ka(qa)).lifecycle.attr.inform(ra,sa.attr[ra],na.oldValue,sa.attr.has(ra),sa)}}).observe(g,{attributes:!0,childList:!0,subtree:!0}),{dom:ka,informer:Y,EventManager:X,plugins:ha,extend:O,safeExtend:P,def:M,getdesc:N,render:ea,run:da,curry:b,each:K,DOMcontains:V,flatten:Q,isDef:r,isUndef:ma=>ma===h,isPrimitive:y,isNativeEvent:ma=>W.includes(ma),isNull:ma=>null===ma,isFunc:t,isStr:u,isBool:w,isNum:x,isInt:z,isObj:A,isArr:B,isArrlike:C,isEmpty:D,isEl:F,isEq:J,isNode:E,isNodeList:ma=>ma instanceof NodeList||C(ma)&&l(ma,E),isInput:G,isMap:H,isSet:I,ready:()=>'complete'==g.readyState}});
