(function(b,d){const f='rot';'undefined'!=typeof module&&module.exports?module.exports=d():'function'==typeof define&&define.amd?define(f,d):b[f]=d()})(this,()=>{'use strict';const b=window||global,d=document,f=void 0,g=(ha,ia=ha.length)=>{const ja=(...ka)=>(...la)=>{const ma=ka.concat(la);return(ma.length>=ia?ha:ja)(...ma)};return ja()},j=Object.keys,k=(ha,ia)=>Array.prototype.every.call(ha,ia),m=toString.call,n=ha=>ia=>typeof ia===ha,p=ha=>ia=>toString.call(ia).includes(ha),q=ha=>ha!==f,r=n('function'),u=n('string'),w=n('boolean'),x=ha=>!w(ha)&&!isNaN(+ha),y=ha=>x(ha)&&0==ha%1,z=p('Object'),A=Array.isArray,B=ha=>ha!==f&&'undefined'!=typeof ha.length,C=ha=>z(ha)?!j(ha).length:B(ha)?!ha.length:!ha.size,D=ha=>ha instanceof Node,E=p('HTML'),F=p('Map'),G=p('Set'),H=(ha,ia)=>{if(q(ha)&&r(ia))if(B(ha)&&!C(ha))Array.prototype.forEach.call(ha,ia);else{let ja=0;if(z(ha))for(ja in ha)ia(ha[ja],ja,ha);else if(y(ha))for(;ha!=ja;)ia(ja+=1)}},I=g(Object.defineProperty),J=Object.getOwnPropertyDescriptor,K=g((ha,ia)=>{for(const ja of j(ia))I(ha,ja,J(ia,ja));return ha}),L=(ha,ia)=>{for(const ja of j(ia))ja in ha||I(ha,ja,J(ia,ja));return ha},M=ha=>Array.prototype.reduce.call(ha,(ia,ja)=>ia.concat(A(ja)?M(ja):ja),[]),N=(ha,ia=d)=>(u(ia)?d.querySelector(ia):ia).querySelector(ha),O=(ha,ia=d)=>Array.from((u(ia)?N(ia):ia).querySelectorAll(ha)),P=ha=>new TypeError(ha),Q=ha=>new Error(ha),R=(ha,ia=d)=>ia==ha||!!(16&ia.compareDocumentPosition(ha)),S='DOMContentLoaded hashchange blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu pointerdown pointerup pointermove pointerover pointerout pointerenter pointerleave touchstart touchend touchmove touchcancel'.split(' '),T=g((ha,ia,ja,ka=!1)=>{if(u(ha)&&(ha=N(ha)),!ha||!ha.addEventListener)throw Q('EventManager: Target Invalid');const la=ha.addEventListener.bind(ha),ma=ha.removeEventListener.bind(ha);return{off(){return ma(ia,ja),this},on(){return la(ia,ja,ka),this},once(){return this.off(),la(ia,function na(){ja.apply(this,arguments),ma(ia,na)},ka),this}}},3),U=()=>{const ha=new Set;return{isInformer:!0,handle(ia,ja){if(r(ia)&&(ja=ia,ia=!1),!r(ja))throw P('informer.handle : ought to be a function');return ja.off=()=>{return ha.delete(ja),ja},ja.on=ka=>{return ja._once=!!ka,ha.add(ja),ja},ja.once=ja.on(!0),ja.on(ia)},has:ia=>ha.has(ia),on(ia){return this.handle(ia)},once(ia){return this.handle(!0,ia)},off(ia){ha.delete(ia)},get empty(){return 1>ha.size},get size(){return ha.size},inform(){if(ha.size)for(const ia of ha)ia(...arguments),ia._once&&ia.off()}}},V=ha=>g((...ia)=>T(...ia)[ha](),3),// listener type
W=V('on'),X=V('once');U.fromEvent=(ha,ia,ja=!1,ka)=>{if(u(ha)&&(ha=N(ha)),!ha.addEventListener)throw Q('invalid event target');if(!u(ia))throw P('event type not string');z(ja)&&(ka=ja,ja=!1);const la=U(),ma=V(ja?'once':'on')(ha,ia,na=>la.inform(na,ma),ka);return la};const Y=U.fromEvent(b,'DOMContentLoaded',!0),Z=ha=>'complete'==d.readyState?ha():Y.once(ha),$=ha=>d.createRange().createContextualFragment(ha||''),_=ha=>{if(u(ha))return $(ha);const ia=d.createDocumentFragment();return ia.appendChild(ha),ia},aa=(ha,ia)=>(...ja)=>{if(!ja.length)return ha[ia];for(let ka of ja)ka.appendTo&&(!R(ka.node,ha)&&ka.lifecycle.mount.inform(ka,ka.node,ka.parent=ha.dm),ka.appendTo(ha)),u(ka)&&(ka=d.createTextNode(ka)),D(ka)?ha.appendChild(ka):z(ka)&&ka.isInformer&&ka.on(aa(ha,ia));return ha.dm},ba=ha=>L(rot,ha);K(ba,{methods:{},handles:new Set,muthandles:new Set});const ca=ha=>({node:ha,hasAttr:ha.hasAttribute.bind(ha),getAttr:ha.getAttribute.bind(ha),setAttr(ia,ja=''){return z(ia)?H(ia,(ka,la)=>ha.setAttribute(la,ka)):ha.setAttribute(ia,ja),this},removeAttr(...ia){return H(ia,ha.removeAttribute.bind(ha)),this},toggleAttr(ia,ja=''){return this[(w(ja)?ja:ha.hasAttribute(ia))?'removeAttr':'setAttr'](ia,ja)},hasClass:(...ia)=>1==ia.length?ha.classList.contains(ia[0]):ia.every(ja=>ha.classList.contains(ja)),addClass(){for(const ia of arguments)ha.classList.add(ia);return this},removeClass(){for(const ia of arguments)ha.classList.remove(ia);return this},toggleClass(ia,ja){return ha.classList[(w(ja)?ja:ha.classList.contains(ia))?'remove':'add'](ia),this},replace(ia){return ha.parentNode.replaceChild(ia,ha),this},css(ia,ja){if(z(ia))H(ia,(ka,la)=>ha.style[la]=ka);else if(u(ia)&&u(ja))ha.style[ia]=ja;else throw P('CSS : Styles is not an object or string pair');return this},html:aa(ha,'innerHTML'),text:aa(ha,'textContent'),on:W(ha),once:X(ha),append(){const ia=_();for(const ja of arguments)ja.appendTo?ja.appendTo(ia):ia.appendChild(D(ja)?ja:$(ja));return ha.appendChild(_),this},prepend(){const ia=_();for(const ja of arguments)ja.appendTo?ja.appendTo(ia):ia.appendChild(D(ja)?ja:$(ja));return r(ha.prepend)?ha.prepend(_):ha.insertBefore(_,ha.firstChild),this},appendTo(ia,ja){return u(ia)&&(ia=N(ia,ja)),ia.appendChild&&ia.appendChild(ha),this},prependTo(ia,ja){return u(ia)&&(ia=N(ia,ja)),r(ia.prepend)?ia.prepend(ha):ia.insertBefore(ha,ia.firstChild),this},modify(ia){return ia(this,ha),this},extend(ia){return K(this,ia)},get mounted(){return R(ha)},listeners:[],lifecycle:{},update(ia){return this.lifecycle.update.inform('options',ia,this.options,this,ha),fa(ia,ha)},attrupdate:U(),observeAttr(ia,ja,ka=!1){return this.attrupdate.handle(ka,(la,...ma)=>ia===la&&ja(la,...ma))}}),da='create mount destroy update'.split(' '),ea=(ha,ia)=>{return ia=ha[ia],(ja,ka)=>{C(ha.listeners)||(H(ha.listeners,na=>na.off()),ha.listeners=[]);let la;const ma=ia(ka);r(ja)?la=ma(ja):ja.isInformer&&(la=ma(na=>ja.inform(na,la,ja))),la&&ha.listeners.push(la)}},fa=(ha,ia)=>{ia=u(ia)?N(ia):D(ia)?ia:d.createElement(ha.tag);let ja=ia.dm||(ia.dm=ca(ia)),{children:ka,style:la,lifecycle:ma}=ja.options=ha;if(ha.class&&(ia.className=ha.class),ka&&(A(r(ka)?ka=ka(ja,ia):ka)?ja.html(...M(ka)):ja.html(ka)),ha.style&&ja.css(ha.style),ha.attr&&ja.setAttr(ha.attr),ha.on&&H(ha.on,ea(ja,'on')),ha.once&&H(ha.once,ea(ja,'once')),!ja.lifecycle.create)for(const na of da){const oa=ja.lifecycle[na]=U();z(ma)&&r(ma[na])&&(ma[na]=oa.handle('update'==na,ma[na]))}if(z(ha.props)&&K(ja,ha.props),!ja.plugged){if(ba.methods&&K(ja,ba.methods),ba.handles)for(const na of ba.handles)na(ha,ja,ia);ja.plugged=!0}return ja.mounted||ja.lifecycle.create.inform(ja,ia),ja},ga=g((ha,ia,...ja)=>{return z(ia)&&ia.node||B(ia)?ia={children:ia||f}:ia.children=ja,ia.tag=ha,fa(ia)});new MutationObserver(ha=>{for(const ia of ha){const{removedNodes:ja,addedNodes:ka,target:la,attributeName:ma}=ia;let na;if(0<ja.length)for(na of ja)na.dm&&na.dm.lifecycle.destroy.inform(na.dm,na);if(0<ka.length)for(na of ka)na.dm&&na.dm.lifecycle.mount.inform(na.dm,na);if('style'!=ma&&(na=la.dm)&&na.attrupdate.inform(ma,na.getAttr(ma),ia.oldValue,na.hasAttr(ma),na),0<ba.muthandles.size)for(const oa of ba.muthandles)oa(la,ia.type,ia)}}).observe(d,{attributes:!0,childList:!0,subtree:!0}),(ga.extend=K(ga))({query:N,queryAll:O,queryEach:(ha,ia,ja=d)=>{r(ia)||(ia=ja,ja=d),H(O(ha,ja),ia)},on:W,once:X,actualize:fa});for(const ha of'picture img input list a script table td th tr article aside ul ol li h1 h2 h3 h4 h5 h6 div span pre code section button br label header i style nav menu main menuitem'.split(' '))ga[ha]=ga(ha);return{informer:U,EventManager:T,on:W,once:X,dom:ga,plugins:ba,extend:K,safeExtend:L,def:I,getdesc:J,render:(...ha)=>(ia=d.body)=>Z(()=>H(ha,ja=>ja.appendTo(ia))),run:Z,curry:g,each:H,DOMcontains:R,flatten:M,isDef:q,isUndef:ha=>ha===f,isPrimitive:ha=>u(ha)||w(ha)||!isNaN(ha),isNativeEvent:ha=>S.includes(ha),isNull:ha=>null===ha,isFunc:r,isStr:u,isBool:w,isNum:x,isInt:y,isObj:z,isArr:A,isArrlike:B,isEmpty:C,isEl:E,isNode:D,isNodeList:ha=>ha instanceof NodeList||B(ha)&&k(ha,D),isInput:ha=>E(ha)&&'INPUT TEXTAREA'.includes(ha.tagName),isMap:F,isSet:G}});
