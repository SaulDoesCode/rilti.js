var _this=this;((b,e)=>{const f='rot';b[f]=e(),'undefined'!=typeof module&&module.exports?module.exports=e():'function'==typeof define&&define.amd&&define(f,e)})(this,()=>{'use strict';const b=window||global||_this,e=document,f=void 0,g=(ra,sa=ra.length)=>{const ta=(...ua)=>(...va)=>{const wa=ua.concat(va);return(wa.length>=sa?ra:ta)(...wa)};return ta()},h=(ra,sa)=>Array.prototype.every.call(ra,sa),j=toString.call,l=(ra)=>(sa)=>typeof sa===ra,m=(ra)=>(sa)=>toString.call(sa).includes(ra),p=(ra)=>ra!==f,t=l('function'),u=l('string'),w=l('boolean'),x=(ra)=>!w(ra)&&!isNaN(+ra),y=(ra)=>u(ra)||w(ra)||!isNaN(ra),z=(ra)=>x(ra)&&0==ra%1,A=m('Object'),B=Array.isArray,C=(ra)=>ra!==f&&'undefined'!=typeof ra.length,D=(ra)=>(A(ra)?!Object.keys(ra).length:C(ra)?!ra.length:!ra.size)||t(ra),E=(ra)=>ra instanceof Node,G=m('HTML'),H=(ra)=>G(ra)&&'INPUT TEXTAREA'.includes(ra.tagName),I=m('Map'),J=m('Set'),K=g((ra,sa)=>ra===sa),L=(ra,sa)=>{if(p(ra)&&t(sa))if(C(ra)&&(ra=[...ra]),ra.forEach)ra.forEach(sa);else{let ta=0;if(A(ra))for(ta in ra)sa(ra[ta],ta,ra);else if(z(ra))for(;ra!=ta;)sa(ta+=1)}},M=g(Object.defineProperty),N=Object.getOwnPropertyDescriptor,O=g((ra,sa)=>{for(let ta of Object.keys(sa))M(ra,ta,N(sa,ta));return ra}),P=(ra,sa)=>{for(let ta of Object.keys(sa))ta in ra||M(ra,ta,N(sa,ta));return ra},Q=(ra)=>C(ra)?Array.prototype.reduce.call(ra,(sa,ta)=>sa.concat(B(ta)?Q(ta):ta),[]):[ra],R=(ra,sa=e)=>(u(sa)?e.querySelector(sa):sa).querySelector(ra),S=(ra,sa=e)=>Array.from((u(sa)?R(sa):sa).querySelectorAll(ra)),U=(ra)=>new TypeError(ra),V=(ra)=>new Error(ra),W=(ra,sa=e)=>sa==ra||!!(16&sa.compareDocumentPosition(ra)),X='DOMContentLoaded hashchange blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu pointerdown pointerup pointermove pointerover pointerout pointerenter pointerleave touchstart touchend touchmove touchcancel'.split(' '),Z=g((ra,sa,ta,ua=!1)=>{function va(Aa){ta.call(ra,Aa,ra),ya&&xa(va)}if(!u(sa))throw U('event type not string');if(u(ra)&&(ra=R(ra)),!ra||!ra.addEventListener)throw V('EventManager: Target Invalid');const wa=ra.addEventListener.bind(ra,sa),xa=ra.removeEventListener.bind(ra,sa);let ya=!1;G(ra)&&(ra=na(ra));const za={off(){return xa(va),ra.listeners&&ra.listeners.delete(za),za},on(){return ya=!1,wa(va,ua),ra.listeners&&ra.listeners.add(za),za},once(){return xa(va),ya=!0,wa(va,ua),ra.listeners&&ra.listeners.add(za),za},activate:(Aa)=>za[Aa?'once':'on']()};return za},3),$=(ra=new Map)=>{const sa={handle(ta,ua,va){return va.one=!!ta,(ra.has(ua)?ra:ra.set(ua,new Set)).get(ua).add(va),va.off=()=>sa.off(ua,va),va},on:(ta,ua)=>sa.handle(!1,ta,ua),once:(ta,ua)=>sa.handle(!0,ta,ua),off(ta,ua){ra.has(ta)&&!ra.get(ta).delete(ua).size&&ra.delete(ta)},has:(ta)=>ra.has(ta),emit(ta,...ua){ra.has(ta)&&ra.get(ta).forEach((va)=>{va(...ua),va.one&&va.off()})}};return sa},aa=g((ra,...sa)=>Z(...sa).activate(!!ra),4),ba=aa(!1),ca=aa(!0),da='create mount destroy attr'.split(' ');ca(b,'DOMContentLoaded',()=>ea.forEach((ra)=>ra()));const ea=new Set,fa=(ra)=>'complete'==e.readyState?ra():ea.add(ra),ga=(...ra)=>(sa)=>{E(sa)?(sa=na(sa),L(Q(ra),(ta)=>J(ta)||C(ta)?L(ta,(ua)=>sa.append(ua)):sa.append(ta))):fa(()=>{if(p(sa)?u(sa)&&(sa=R(sa)):sa=e.body,!E(sa))throw V('rot.render: invalid render node');sa=na(sa),L(Q(ra),(ta)=>J(ta)||C(ta)?L(ta,(ua)=>sa.append(ua)):sa.append(ta))})},ia=(ra)=>e.createRange().createContextualFragment(ra||''),ja=(ra)=>y(ra)?ia(ra):e.createDocumentFragment(),ka=(ra)=>P(rot,ra);O(ka,{methods:{},handles:new Set});const la={replace:(ra,sa,ta)=>ra.replaceWith?ra.replaceWith(ta):ra.parentNode.replaceChild(ta,ra),clone:(ra)=>na(ra.cloneNode()),css(ra,sa,ta,ua){if(A(ta))L(ta,(va,wa)=>ra.style[wa]=va);else if(u(ta)&&u(ua))ra.style[ta]=ua;else throw U('CSS : Styles is not an object or string pair');return sa},inner(ra,sa,...ta){sa.html='';for(let ua of Q(ta))ua.appendTo?(sa.children.includes(ua)||ua.inf.emit('mount',ua),ua.appendTo(ra)):(y(ua)&&(ua=e.createTextNode(ua)),E(ua)&&sa.append(ua));return sa},append(ra,sa,...ta){const ua=ja();return ta.forEach((va)=>{E(va.pure)&&(va=va.pure),ua.appendChild(E(va)?va:ia(va))}),ra.appendChild(ua),sa},prepend(ra,sa,...ta){const ua=ja();return ta.forEach((va)=>{E(va.pure)&&(va=va.pure),ua.appendChild(E(va)?va:ia(va))}),ra.prepend(ua),sa},appendTo(ra,sa,ta){return(u(ta)?R(ta):ta).appendChild(ra),sa},prependTo(ra,sa,ta){return(u(ta)?R(ta):ta).prepend(),sa},modify(ra,sa,ta){return ta.call(sa,sa,ra),sa},remove(ra,sa,ta){return x(ta)?setTimeout(()=>ra.remove(),ta):ra.remove(),sa}},ma=new Map,na=new Proxy((ra)=>{if(u(ra)&&(ra=R(ra)),G(ra)){if(ma.has(ra))return ma.get(ra);const sa=new Proxy((Fa,Ga)=>{if(A(Fa))L(Fa,(Ha,Ia)=>ra.setAttribute(Ha,Ia));else if(p(Ga))ra.setAttribute(Fa,Ga);else return ra.getAttribute(Fa)},{get(Fa,Ga){return'has'==Ga?(Ha)=>ra.hasAttribute(Ha):ra.getAttribute(Ga)},set(Fa,Ga,Ha){return ra.setAttribute(Ga,Ha),!0},deleteProperty(Fa,Ga){return ra.removeAttribute(Ga),!0}}),ta=new Proxy((Fa,Ga=!ra.classList.contains(Fa))=>{return ra.classList[Ga?'add':'remove'](Fa),Ea},{get(Fa,Ga){return'remove'==Ga?(Ha)=>{return ra.classList.remove(Ha),Ea}:ra.classList.contains(Ga)},set(Fa,Ga,Ha){return Fa(Ga,Ha),!0},deleteProperty(Fa,Ga){return ra.classList.remove(Ga),!0}}),ua=$(),va=new Set,wa=(Fa)=>new Proxy(Fa.bind(ra,ra),{get(Ga,Ha){return Ga(Ha)},set(Ga,Ha,Ia){if(t(Ia))return Ga(Ha,Ia)}}),xa=wa(ba),ya=wa(ca),za={on:(Fa,Ga)=>ua.on('data:'+Fa,Ga),once:(Fa,Ga)=>ua.once('data:'+Fa,Ga),emit(Fa,...Ga){return ua.emit('data:'+Fa,...Ga),za},isInput:H(ra)},Aa=(Fa)=>t(Fa)?Fa.bind(ra):Fa,Ba=(Fa)=>{const Ga=Aa(Reflect.get(za,Fa));return za.emit('get',Ga).emit('get:'+Fa,Ga),Ga},Ca=za.isInput?'value':'innerHTML',Da=za.isInput?'value':'textContent',Ea=new Proxy(ra,{get(Fa,Ga){return Ga in la?la[Ga].bind(Fa,Fa,Ea):'children'==Ga?Array.from(Fa.children).map((Ha)=>na(Ha)):Ga in Fa?Aa(Reflect.get(Fa,Ga)):'class'==Ga?ta:'attr'==Ga?sa:'pure'==Ga?Fa:'listeners'==Ga?va:'informer'==Ga||'inf'==Ga?ua:'on'==Ga?xa:'once'==Ga?ya:'html'==Ga?Fa[Ca]:'txt'==Ga?Fa[Da]:'mounted'==Ga?W(ra):'data'==Ga?za:Ga in za?Ba(Ga):Ga in ka.methods?ka.methods[Ga].bind(Fa,Fa,Ea):f},set(Fa,Ga,Ha,Ia){if(Ga in Fa)return Reflect.set(Fa,Ga,Ha);if('class'==Ga&&u(Ha))Ha.includes(' ')?Ha.split(' ').forEach((Ja)=>Fa.classList.add(Ja)):Fa.classList.add(Ha);else if('html'==Ga||'txt'==Ga)t(Ha)&&(Ha=Ha(Fa['txt'==Ga?Da:Ca])),Ha==f&&(Ha=''),Fa['txt'==Ga?Da:Ca]=Ha;else if('attr'==Ga&&A(Ha))L(Ha,(Ja,Ka)=>ra.setAttribute(Ka,Ja));else if('data'==Ga&&A(Ha))for(let Ja in Ha){const Ka=N(Ha,Ja);Ka.get&&(Ka.get=Ka.get.bind(Ia)),Ka.set&&(Ka.set=Ka.set.bind(Ia)),t(Ka.value)&&(Ka.value=Ka.value.bind(Ia)),Object.defineProperty(za,Ja,Ka)}else if('css'==Ga&&A(Ha))Fa.css(Ha);else return Reflect.set(za.emit('set',Ha).emit('set:'+Ga,Ha),Ga,Ha);return!0},deleteProperty(Fa,Ga){return'self'==Ga?void Fa.remove():Reflect.deleteProperty(za,Ga)}});return ua.once('destroy',()=>ma.delete(ra)),ma.set(ra,Ea),Ea}},{get(ra,sa){return sa in ra?Reflect.get(ra,sa):oa.bind(f,sa)},set(ra,sa){return Reflect.set(ra,sa)}}),oa=(ra,sa,...ta)=>{const ua=na(e.createElement(ra));if(C(sa)||E(sa))ta=u(sa)||E(sa)?[sa]:sa,sa=null;else if(A(sa)){const{attr:va,lifecycle:wa}=sa;if(wa)for(let xa of da)t(wa[xa])&&ua.inf.once(xa,(...ya)=>wa[xa].apply(ua,ya));for(let xa of ka.handles)xa(sa,ua);L(sa,(xa,ya)=>{'class'==ya||'className'==ya?ua.className=xa:'style'==ya||'css'==ya?ua.css(xa):'on'==ya||'once'==ya?L(xa,(za,Aa)=>ua[ya][Aa]=za):('props'==ya||'data'==ya)&&A(xa)?ua.data=xa:ya in ua?ua[ya]=xa:y(xa)&&(ua.attr=xa)}),va&&!D(va)&&(ua.attr=va)}return D(ta)||ua.inner(...ta),ua.tagName.includes('-')||ua.mounted||ua.inf.emit('create',ua),sa&&sa.render?ga(ua)(sa.render):ua.render=(va=e.body)=>ga(ua)(va),ua},pa=$();return ba(b,'hashchange',()=>pa.has(location.hash)?pa.emit(location.hash):pa.emit('default',location.hash)),(na.extend=O(na))({query:R,queryAll:S,queryEach:(ra,sa,ta=e)=>{t(sa)||(sa=ta,ta=e),L(S(ra,ta),sa)},on:ba,once:ca,html:ia}),new MutationObserver((ra)=>{for(let sa of ra){const{removedNodes:ta,addedNodes:ua,target:va,attributeName:wa}=sa;let xa;if(0<ta.length)for(xa of ta)G(xa)&&!xa.tagName.includes('-')&&(xa=na(xa)).inf.emit('destroy',xa);if(0<ua.length)for(xa of ua)G(xa)&&!xa.tagName.includes('-')&&(xa=na(xa)).inf.emit('mount',xa);'style'!=wa&&G(va)&&(xa=na(va)).inf.emit('attr:'+wa,xa.attr[wa],sa.oldValue,xa.attr.has(wa),xa)}}).observe(e,{attributes:!0,childList:!0,subtree:!0}),{dom:na,evtsys:$,EventManager:Z,plugins:ka,extend:O,safeExtend:P,def:M,getdesc:N,route:(ra,sa)=>{return t(ra)&&(sa=ra,ra='default'),location.hash===ra&&sa(),pa.on(ra,sa)},render:ga,run:fa,curry:g,each:L,DOMcontains:W,flatten:Q,isDef:p,isUndef:(ra)=>ra===f,isPrimitive:y,isNativeEvent:(ra)=>X.includes(ra),isNull:(ra)=>null===ra,isFunc:t,isStr:u,isBool:w,isNum:x,isInt:z,isObj:A,isArr:B,isArrlike:C,isEmpty:D,isEl:G,isEq:K,isNode:E,isNodeList:(ra)=>ra instanceof NodeList||C(ra)&&h(ra,E),isInput:H,isMap:I,isSet:J,ready:()=>'complete'==e.readyState}});
