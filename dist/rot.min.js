((b,d)=>{const f='rot';b[f]=d(),'undefined'!=typeof module&&module.exports?module.exports=d():'function'==typeof define&&define.amd&&define(f,d)})(this,()=>{'use strict';const b=window||global,d=document,f=void 0,g=(ja,ka=ja.length)=>{const la=(...ma)=>(...na)=>{const oa=ma.concat(na);return(oa.length>=ka?ja:la)(...oa)};return la()},j=Object.keys,k=(ja,ka)=>Array.prototype.every.call(ja,ka),m=toString.call,n=ja=>ka=>typeof ka===ja,p=ja=>ka=>toString.call(ka).includes(ja),q=ja=>ja!==f,r=n('function'),u=n('string'),w=n('boolean'),x=ja=>!w(ja)&&!isNaN(+ja),y=ja=>u(ja)||w(ja)||!isNaN(ja),z=ja=>x(ja)&&0==ja%1,A=p('Object'),B=Array.isArray,C=ja=>ja!==f&&'undefined'!=typeof ja.length,D=ja=>A(ja)?!j(ja).length:C(ja)?!ja.length:!ja.size,E=ja=>ja instanceof Node,F=p('HTML'),G=ja=>F(ja)&&'INPUT TEXTAREA'.includes(ja.tagName),H=p('Map'),I=p('Set'),J=(ja,ka)=>{if(q(ja)&&r(ka))if(C(ja)&&!D(ja))Array.prototype.forEach.call(ja,ka);else{let la=0;if(A(ja))for(la in ja)ka(ja[la],la,ja);else if(z(ja))for(;ja!=la;)ka(la+=1)}},K=g(Object.defineProperty),L=Object.getOwnPropertyDescriptor,M=g((ja,ka)=>{for(let la of j(ka))K(ja,la,L(ka,la));return ja}),N=(ja,ka)=>{for(let la of j(ka))la in ja||K(ja,la,L(ka,la));return ja},O=ja=>Array.prototype.reduce.call(ja,(ka,la)=>ka.concat(B(la)?O(la):la),[]),P=(ja,ka=d)=>(u(ka)?d.querySelector(ka):ka).querySelector(ja),Q=(ja,ka=d)=>Array.from((u(ka)?P(ka):ka).querySelectorAll(ja)),R=ja=>new TypeError(ja),S=ja=>new Error(ja),T=(ja,ka=d)=>ka==ja||!!(16&ka.compareDocumentPosition(ja)),U='DOMContentLoaded hashchange blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu pointerdown pointerup pointermove pointerover pointerout pointerenter pointerleave touchstart touchend touchmove touchcancel'.split(' '),V=g((ja,ka,la,ma=!1)=>{if(u(ja)&&(ja=P(ja)),!ja||!ja.addEventListener)throw S('EventManager: Target Invalid');const na=ja.addEventListener.bind(ja,ka),oa=ja.removeEventListener.bind(ja,ka),pa=(qa=!1)=>function ra(sa){la.call(ja,sa,ja.dm),qa&&oa(ra)};return{off(){return oa(pa()),this},on(){return na(pa(),ma),this},once(){return this.off(),na(pa(!0),ma),this}}},3),W=()=>{const ja=new Set;return{isInformer:!0,handle(ka,la=ka){if(!r(la))throw R('informer.handle: is not a function');return la.off=()=>{return ja.delete(la),la},la.on=ma=>{return la.off().one=!!ma,ja.add(la),la},la.once=()=>la.on(!0),la.on(!!w(ka)&&ka)},on(ka){return this.handle(ka)},once(ka){return this.handle(!0,ka)},off(ka){ja.delete(ka)},get empty(){return 1>ja.size},get handles(){return ja},inform(){if(ja.size)for(let ka of ja)ka(...arguments),ka.one&&ka.off()}}},X=ja=>g((...ka)=>V(...ka)[ja](),3),// listener type
Y=X('on'),Z=X('once');W.fromEvent=(ja,ka,la,ma)=>{if(u(ja)&&(ja=P(ja)),!ja.addEventListener)throw S('invalid event target');if(!u(ka))throw R('event type not string');const na=W(),oa=X(la?'once':'on')(ja,ka,pa=>na.inform(pa,oa),ma);return na};const $=W.fromEvent(b,'DOMContentLoaded',!0),_=ja=>'complete'==d.readyState?ja():$.once(ja),aa=ja=>d.createRange().createContextualFragment(ja||''),ba=ja=>y(ja)?aa(ja):d.createDocumentFragment(),ca=ja=>N(rot,ja);M(ca,{methods:{},handles:new Set,muthandles:new Set});const da=ja=>({node:ja,hasAttr:ja.hasAttribute.bind(ja),getAttr:ja.getAttribute.bind(ja),setAttr(ka,la=''){return A(ka)?J(ka,(ma,na)=>ja.setAttribute(na,ma)):ja.setAttribute(ka,la),this},removeAttr(...ka){return J(ka,ja.removeAttribute.bind(ja)),this},toggleAttr(ka,la=''){return this[(w(la)?la:ja.hasAttribute(ka))?'removeAttr':'setAttr'](ka,la)},hasClass:(...ka)=>1==ka.length?ja.classList.contains(ka[0]):ka.every(la=>ja.classList.contains(la)),addClass(){for(let ka of arguments)ja.classList.add(ka);return this},removeClass(){for(let ka of arguments)ja.classList.remove(ka);return this},toggleClass(ka,la=!ja.classList.contains(ka)){return ja.classList[la?'add':'remove'](ka),this},replace(ka){return ja.parentNode.replaceChild(ka,ja),this},css(ka,la){if(A(ka))J(ka,(ma,na)=>ja.style[na]=ma);else if(u(ka)&&u(la))ja.style[ka]=la;else throw R('CSS : Styles is not an object or string pair');return this},inner(...ka){ja[ja.isInput?'value':'innerHTML']=null;for(let la of O(ka))la.appendTo&&(!T(la.node,ja)&&(la.lifecycle.mount.inform(la,la.node,la.parent=ja.dm),ja.dm.children.push(la),la.lifecycle.destroy.once(()=>{ja.dm.children=ja.dm.children.map(ma=>ma!=la||ma.dm!=la||la.node!=ma)})),la.appendTo(ja)),y(la)&&(la=d.createTextNode(la)),E(la)?(ja.appendChild(la),ja.dm.children.push(la)):la.isInformer&&la.on(ja.dm.html);return ja.dm},on:Y(ja),once:Z(ja),append(){const ka=ba();for(let la of arguments)la.node&&(la=la.node),ka.appendChild(E(la)?la:aa(la));return ja.appendChild(ka),this},prepend(){const ka=ba();for(let la of arguments)la.node&&(la=la.node),ka.appendChild(E(la)?la:aa(la));return r(ja.prepend)?ja.prepend(ka):ja.insertBefore(ka,ja.firstChild),this},appendTo(ka,la){return ka.node&&(ka=ka.node),u(ka)&&(ka=P(ka,la)),ka.append?ka.append(ja):ka.appendChild&&ka.appendChild(ja),this},prependTo(ka,la){return ka.node&&(ka=ka.node),u(ka)&&(ka=P(ka,la)),ka.prepend?ka.prepend(ja):ka.insertBefore(ja,ka.firstChild),this},modify(ka){return ka(this,ja),this},remove(ka){return x(ka)?setTimeout(()=>ja.remove(),ka):ja.remove(),this},extend(ka){return M(this,ka)},get mounted(){return T(ja)},update(ka){return this.lifecycle.update.inform('options',ka,this.options,this,ja),ha(ka,ja)},observeAttr(ka,la,ma){return this.lifecycle.attr.handle(!!ma,(na,...oa)=>ka===na&&la(na,...oa))}}),ea='create mount destroy update attr'.split(' '),fa=(ja,ka)=>{return ka=ja[ka],B(ja.listeners)||(ja.listeners=[]),D(ja.listeners)||(J(ja.listeners,la=>la.off()),ja.listeners=[]),(la,ma)=>{let na;const oa=ka(ma);r(la)?na=oa(la):la.isInformer&&(na=oa(pa=>la.inform(pa,na,la))),na&&ja.listeners.push(na)}},ga=ja=>ka=>ja===ka,ha=(ja,ka,la)=>{E(ka)||(ka=u(ka)?P(ka):d.createElement(la));let ma=ka.dm||(ka.dm=da(ka)),{attr:na,lifecycle:oa}=ja;if(ka.isInput=G(ka),!ma.lifecycle){ma.lifecycle={};for(let pa of ea){const qa=ma.lifecycle[pa]=W();A(oa)&&r(oa[pa])&&qa.handle('update'==pa,(...ra)=>{oa[pa].apply(ma,ra)})}}if(!ma.plugged){M(ma,ca.methods);for(let pa of ca.handles)pa(ja,ma,ka);ma.plugged=!0}for(let pa in ma.options=ja){let qa=ga(pa),ra=ja[pa];qa('class')?ka.className=ra:qa('children')?(ma.children=[],!D(ra)&&ma.inner(r(ra)?ra(ma,ka):ra)):qa('style')?ma.css(ra):qa('on')||qa('once')?J(ra,fa(ma,pa)):qa('props')&&A(ra)?M(ma,ra):!(pa in ca.methods||qa('tag'))&&(pa in ka?ka[pa]=ra:y(ra)&&((A(na)?na:na={})[pa]=ra))}return na&&ma.setAttr(na),ma.mounted||ma.lifecycle.create.inform(ma,ka),ma},ia=(ja,ka,...la)=>{return A(ka)?ka.children=ka.children?[ka.children,...la]:la:ka={children:C(ka)||y(ka)?ka:la||f},E(ja)?ha(ka,ja):ha(ka,null,ja)};return(ia.extend=M(ia))({query:P,queryAll:Q,queryEach:(ja,ka,la=d)=>{r(ka)||(ka=la,la=d),J(Q(ja,la),ka)},on:Y,once:Z,actualize:ha}),J('picture img input list a script strong table td th tr article aside ul ol li h1 h2 h3 h4 h5 h6 div span pre code section button br label header i style nav menu main menuitem'.split(' '),ja=>ia[ja]=ia.bind(null,ja)),new MutationObserver(ja=>{for(let ka of ja){const{removedNodes:la,addedNodes:ma,target:na,attributeName:oa}=ka;let pa;if(0<la.length)for(pa of la)pa.dm&&pa.dm.lifecycle.destroy.inform(pa.dm,pa);if(0<ma.length)for(pa of ma)pa.dm&&pa.dm.lifecycle.mount.inform(pa.dm,pa);if('style'!=oa&&(pa=na.dm)&&pa.lifecycle.attr.inform(oa,pa.getAttr(oa),ka.oldValue,pa.hasAttr(oa),pa),0<ca.muthandles.size)for(let qa of ca.muthandles)qa(na,ka.type,ka)}}).observe(d,{attributes:!0,childList:!0,subtree:!0}),{informer:W,EventManager:V,on:Y,once:Z,dom:ia,plugins:ca,extend:M,safeExtend:N,def:K,getdesc:L,render:(...ja)=>(ka=d.body)=>_(()=>J(ja,la=>ka.appendChild(E(la)?la:la.node))),run:_,curry:g,each:J,DOMcontains:T,flatten:O,isDef:q,isUndef:ja=>ja===f,isPrimitive:y,isNativeEvent:ja=>U.includes(ja),isNull:ja=>null===ja,isFunc:r,isStr:u,isBool:w,isNum:x,isInt:z,isObj:A,isArr:B,isArrlike:C,isEmpty:D,isEl:F,isEq:ga,isNode:E,isNodeList:ja=>ja instanceof NodeList||C(ja)&&k(ja,E),isInput:G,isMap:H,isSet:I}});
