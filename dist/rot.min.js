var _this=this;((b,e)=>{const f='rot';b[f]=e(),'undefined'!=typeof module&&module.exports?module.exports=e():'function'==typeof define&&define.amd&&define(f,e)})(this,()=>{'use strict';const b=(la,ma=la.length)=>{const na=(...oa)=>(...pa)=>{const qa=oa.concat(pa);return(qa.length>=ma?la:na)(...qa)};return na()},e=window||global||_this,f=document,g=void 0,h=Object.keys,j=(la,ma)=>Array.prototype.every.call(la,ma),l=toString.call,m=la=>ma=>typeof ma===la,p=la=>ma=>toString.call(ma).includes(la),q=la=>la!==g,r=m('function'),t=m('string'),u=m('boolean'),w=la=>!u(la)&&!isNaN(+la),x=la=>t(la)||u(la)||!isNaN(la),y=la=>w(la)&&0==la%1,z=p('Object'),A=Array.isArray,B=la=>la!==g&&'undefined'!=typeof la.length,C=la=>(z(la)?!h(la).length:B(la)?!la.length:!la.size)||r(la),D=la=>la instanceof Node,E=p('HTML'),F=la=>E(la)&&'INPUT TEXTAREA'.includes(la.tagName),G=p('Map'),H=p('Set'),I=b((la,ma)=>la===ma),J=(la,ma)=>{if(q(la)&&r(ma))if(B(la)&&(la=Array.from(la)),la.forEach)la.forEach(ma);else{let na=0;if(z(la))for(na in la)ma(la[na],na,la);else if(y(la))for(;la!=na;)ma(na+=1)}},K=b(Object.defineProperty),M=Object.getOwnPropertyDescriptor,N=b((la,ma)=>{for(let na of h(ma))K(la,na,M(ma,na));return la}),O=(la,ma)=>{for(let na of h(ma))na in la||K(la,na,M(ma,na));return la},P=la=>B(la)?Array.prototype.reduce.call(la,(ma,na)=>ma.concat(A(na)?P(na):na),[]):[la],Q=(la,ma=f)=>(t(ma)?f.querySelector(ma):ma).querySelector(la),R=(la,ma=f)=>Array.from((t(ma)?Q(ma):ma).querySelectorAll(la)),S=la=>new TypeError(la),T=la=>new Error(la),U=(la,ma=f)=>ma==la||!!(16&ma.compareDocumentPosition(la)),V='DOMContentLoaded hashchange blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu pointerdown pointerup pointermove pointerover pointerout pointerenter pointerleave touchstart touchend touchmove touchcancel'.split(' '),W=b((la,ma,na,oa=!1)=>{function pa(ua){na.call(la,ua,la),sa&&ra(pa)}if(!t(ma))throw S('event type not string');if(t(la)&&(la=Q(la)),!la||!la.addEventListener)throw T('EventManager: Target Invalid');const qa=la.addEventListener.bind(la,ma),ra=la.removeEventListener.bind(la,ma);let sa=!1;E(la)&&(la=ja(la));const ta={off(){return ra(pa),la.listeners&&la.listeners.delete(ta),ta},on(){return sa=!1,qa(pa,oa),la.listeners&&la.listeners.add(ta),ta},once(){return ra(pa),sa=!0,qa(pa,oa),la.listeners&&la.listeners.add(ta),ta},activate:ua=>ta[ua?'once':'on']()};return ta},3),X=(la=new Map)=>{const ma={handle(na,oa,pa){return pa.one=!!na,(la.has(oa)?la:la.set(oa,new Set)).get(oa).add(pa),pa.off=()=>ma.off(oa,pa),pa},on:(na,oa)=>ma.handle(!1,na,oa),once:(na,oa)=>ma.handle(!0,na,oa),off(na,oa){la.has(na)&&!la.get(na).delete(oa).size&&la.delete(na)},has:na=>la.has(na),emit(na,...oa){la.has(na)&&la.get(na).forEach(pa=>{pa(...oa),pa.one&&pa.off()})}};return ma},Y=b((la,...ma)=>W(...ma).activate(!!la),4),Z=Y(!1),$=Y(!0),aa='create mount destroy attr'.split(' ');$(e,'DOMContentLoaded',()=>ba.forEach(la=>la()));const ba=new Set,ca=la=>'complete'==f.readyState?la():ba.add(la),da=(...la)=>ma=>{D(ma)?(ma=ja(ma),J(P(la),na=>H(na)||B(na)?J(na,oa=>ma.append(oa)):ma.append(na))):ca(()=>{if(q(ma)?t(ma)&&(ma=Q(ma)):ma=f.body,!D(ma))throw T('rot.render: invalid render node');ma=ja(ma),J(P(la),na=>H(na)||B(na)?J(na,oa=>ma.append(oa)):ma.append(na))})},ea=la=>f.createRange().createContextualFragment(la||''),fa=la=>x(la)?ea(la):f.createDocumentFragment(),ga=la=>O(rot,la);N(ga,{methods:{},handles:new Set});const ha={replace:(la,ma,na)=>la.replaceWith?la.replaceWith(na):la.parentNode.replaceChild(na,la),clone:la=>ja(la.cloneNode()),css(la,ma,na,oa){if(z(na))J(na,(pa,qa)=>la.style[qa]=pa);else if(t(na)&&t(oa))la.style[na]=oa;else throw S('CSS : Styles is not an object or string pair')},inner(la,ma,...na){ma.html='';for(let oa of P(na))oa.appendTo?(ma.children.includes(oa)||oa.inf.emit('mount',oa),oa.appendTo(la)):(x(oa)&&(oa=f.createTextNode(oa)),D(oa)&&ma.append(oa));return ma},append(la,ma,...na){const oa=fa();return na.forEach(pa=>{D(pa.pure)&&(pa=pa.pure),oa.appendChild(D(pa)?pa:ea(pa))}),la.appendChild(oa),ma},prepend(la,ma,...na){const oa=fa();return na.forEach(pa=>{D(pa.pure)&&(pa=pa.pure),oa.appendChild(D(pa)?pa:ea(pa))}),la.prepend(oa),ma},appendTo(la,ma,na){return(t(na)?Q(na):na).appendChild(la),ma},prependTo(la,ma,na){return(t(na)?Q(na):na).prepend(),ma},modify(la,ma,na){return na.call(ma,ma,la),ma},remove(la,ma,na){return w(na)?setTimeout(()=>la.remove(),na):la.remove(),ma}},ia=new Map,ja=new Proxy(la=>{if(t(la)&&(la=Q(la)),E(la)){if(ia.has(la))return ia.get(la);const ma=new Proxy((za,Aa)=>{if(z(za))J(za,(Ba,Ca)=>la.setAttribute(Ba,Ca));else if(q(Aa))la.setAttribute(za,Aa);else return la.getAttribute(za)},{get(za,Aa){return'has'==Aa?Ba=>la.hasAttribute(Ba):la.getAttribute(Aa)},set(za,Aa,Ba){return la.setAttribute(Aa,Ba),!0},deleteProperty(za,Aa){return la.removeAttribute(Aa),!0}}),na=new Proxy((za,Aa)=>q(Aa)?la.classList[Aa?'add':'remove'](za):la.classList.contains(za),{get(za,Aa){return'remove'==Aa?Ba=>la.classList.remove(Ba):la.classList.contains(Aa)},set(za,Aa,Ba){return za(Aa,Ba),!0},deleteProperty(za,Aa){return la.classList.remove(Aa),!0}}),oa=X(),pa=new Set,qa=za=>new Proxy(za.bind(g,la),{get(Aa,Ba){return Aa(Ba)},set(Aa,Ba,Ca){if(r(Ca))return Aa(Ba,Ca)}}),ra=qa(Z),sa=qa($),ta={on:(za,Aa)=>oa.on('data:'+za,Aa),once:(za,Aa)=>oa.once('data:'+za,Aa),emit(za,...Aa){return oa.emit('data:'+za,...Aa),ta},isInput:F(la)},ua=za=>r(za)?za.bind(la):za,va=za=>{const Aa=ua(Reflect.get(ta,za));return ta.emit('get',Aa).emit('get:'+za,Aa),Aa},wa=ta.isInput?'value':'innerHTML',xa=ta.isInput?'value':'textContent',ya=new Proxy(la,{get(za,Aa){return Aa in ha?ha[Aa].bind(za,za,ya):'children'==Aa?Array.from(za.children).map(Ba=>ja(Ba)):Aa in za?ua(Reflect.get(za,Aa)):'class'==Aa?na:'attr'==Aa?ma:'pure'==Aa?za:'listeners'==Aa?pa:'informer'==Aa||'inf'==Aa?oa:'on'==Aa?ra:'once'==Aa?sa:'html'==Aa?za[wa]:'txt'==Aa?za[xa]:'mounted'==Aa?U(la):'data'==Aa?ta:Aa in ta?va(Aa):Aa in ga.methods?ga.methods[Aa].bind(za,za,ya):g},set(za,Aa,Ba,Ca){if(Aa in za)return Reflect.set(za,Aa,Ba);if('class'==Aa&&t(Ba))Ba.includes(' ')?Ba.split(' ').forEach(Da=>za.classList.add(Da)):za.classList.add(Ba);else if('html'==Aa)r(Ba)&&(Ba=Ba(za[wa])),Ba==g&&(Ba=''),za[wa]=Ba;else if('txt'==Aa)r(Ba)&&(Ba=Ba(za[xa])),Ba==g&&(Ba=''),za[xa]=Ba;else if('attr'==Aa&&z(Ba))J(Ba,(Da,Ea)=>la.setAttribute(Ea,Da));else if('data'==Aa&&z(Ba))for(let Da in Ba){const Ea=M(Ba,Da);Ea.get&&(Ea.get=Ea.get.bind(Ca)),Ea.set&&(Ea.set=Ea.set.bind(Ca)),r(Ea.value)&&(Ea.value=Ea.value.bind(Ca)),Object.defineProperty(ta,Da,Ea)}else if('css'==Aa&&z(Ba))za.css(Ba);else return Reflect.set(ta.emit('set',Ba).emit('set:'+Aa,Ba),Aa,Ba);return!0},deleteProperty(za,Aa){return'self'==Aa?void za.remove():Reflect.deleteProperty(ta,Aa)}});return ia.set(la,ya),ya}},{get(la,ma){return ma in la?Reflect.get(la,ma):ka.bind(g,ma)},set(la,ma){return Reflect.set(la,ma)}}),ka=(la,ma,...na)=>{const oa=ja(f.createElement(la));if(z(ma)){const{attr:pa,lifecycle:qa}=ma;if(qa)for(let ra of aa)r(qa[ra])&&oa.inf.once(ra,(...sa)=>qa[ra].apply(oa,sa));for(let ra of ga.handles)ra(ma,oa);J(ma,(ra,sa)=>{'class'==sa||'className'==sa?oa.className=ra:'style'==sa||'css'==sa?oa.css(ra):'on'==sa||'once'==sa?J(ra,(ta,ua)=>oa[sa][ua]=ta):('props'==sa||'data'==sa)&&z(ra)?oa.data=ra:sa in oa?oa[sa]=ra:x(ra)&&(oa.attr=ra)}),pa&&!C(pa)&&(oa.attr=pa)}return C(na)||oa.inner(...na),oa.mounted||oa.inf.emit('create',oa),ma&&ma.render?da(oa)(ma.render):oa.render=(pa=f.body)=>da(oa)(pa),oa};return(ja.extend=N(ja))({query:Q,queryAll:R,queryEach:(la,ma,na=f)=>{r(ma)||(ma=na,na=f),J(R(la,na),ma)},on:Z,once:$,html:ea}),new MutationObserver(la=>{for(let ma of la){const{removedNodes:na,addedNodes:oa,target:pa,attributeName:qa}=ma;let ra;if(0<na.length)for(ra of na)E(ra)&&(ra=ja(ra)).inf.emit('destroy',ra);if(0<oa.length)for(ra of oa)E(ra)&&(ra=ja(ra)).inf.emit('mount',ra);'style'!=qa&&E(pa)&&(ra=ja(pa)).inf.emit('attr:'+qa,ra.attr[qa],ma.oldValue,ra.attr.has(qa),ra)}}).observe(f,{attributes:!0,childList:!0,subtree:!0}),{dom:ja,evtsys:X,EventManager:W,plugins:ga,extend:N,safeExtend:O,def:K,getdesc:M,render:da,run:ca,curry:b,each:J,DOMcontains:U,flatten:P,isDef:q,isUndef:la=>la===g,isPrimitive:x,isNativeEvent:la=>V.includes(la),isNull:la=>null===la,isFunc:r,isStr:t,isBool:u,isNum:w,isInt:y,isObj:z,isArr:A,isArrlike:B,isEmpty:C,isEl:E,isEq:I,isNode:D,isNodeList:la=>la instanceof NodeList||B(la)&&j(la,D),isInput:F,isMap:G,isSet:H,ready:()=>'complete'==f.readyState}});
