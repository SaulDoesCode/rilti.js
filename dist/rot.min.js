((b,d)=>{const f='rot';b[f]=d(),'undefined'!=typeof module&&module.exports?module.exports=d():'function'==typeof define&&define.amd&&define(f,d)})(this,()=>{'use strict';const b=window||global,d=document,f=void 0,g=(ia,ja=ia.length)=>{const ka=(...la)=>(...ma)=>{const na=la.concat(ma);return(na.length>=ja?ia:ka)(...na)};return ka()},j=Object.keys,k=(ia,ja)=>Array.prototype.every.call(ia,ja),m=toString.call,n=ia=>ja=>typeof ja===ia,p=ia=>ja=>toString.call(ja).includes(ia),q=ia=>ia!==f,r=n('function'),u=n('string'),w=n('boolean'),x=ia=>!w(ia)&&!isNaN(+ia),y=ia=>u(ia)||w(ia)||!isNaN(ia),z=ia=>x(ia)&&0==ia%1,A=p('Object'),B=Array.isArray,C=ia=>ia!==f&&'undefined'!=typeof ia.length,D=ia=>A(ia)?!j(ia).length:C(ia)?!ia.length:!ia.size,E=ia=>ia instanceof Node,F=p('HTML'),G=p('Map'),H=p('Set'),I=(ia,ja)=>{if(q(ia)&&r(ja))if(C(ia)&&!D(ia))Array.prototype.forEach.call(ia,ja);else{let ka=0;if(A(ia))for(ka in ia)ja(ia[ka],ka,ia);else if(z(ia))for(;ia!=ka;)ja(ka+=1)}},J=g(Object.defineProperty),K=Object.getOwnPropertyDescriptor,L=g((ia,ja)=>{for(let ka of j(ja))J(ia,ka,K(ja,ka));return ia}),M=(ia,ja)=>{for(let ka of j(ja))ka in ia||J(ia,ka,K(ja,ka));return ia},N=ia=>Array.prototype.reduce.call(ia,(ja,ka)=>ja.concat(B(ka)?N(ka):ka),[]),O=(ia,ja=d)=>(u(ja)?d.querySelector(ja):ja).querySelector(ia),P=(ia,ja=d)=>Array.from((u(ja)?O(ja):ja).querySelectorAll(ia)),Q=ia=>new TypeError(ia),R=ia=>new Error(ia),S=(ia,ja=d)=>ja==ia||!!(16&ja.compareDocumentPosition(ia)),T='DOMContentLoaded hashchange blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu pointerdown pointerup pointermove pointerover pointerout pointerenter pointerleave touchstart touchend touchmove touchcancel'.split(' '),U=g((ia,ja,ka,la=!1)=>{if(u(ia)&&(ia=O(ia)),!ia||!ia.addEventListener)throw R('EventManager: Target Invalid');const ma=ia.addEventListener.bind(ia),na=ia.removeEventListener.bind(ia);return{off(){return na(ja,ka),this},on(){return ma(ja,ka,la),this},once(){return this.off(),ma(ja,function oa(){ka.apply(this,arguments),na(ja,oa)},la),this}}},3),V=()=>{const ia=new Set;return{isInformer:!0,handle(ja,ka=ja){if(!r(ka))throw Q('informer.handle: is not a function');return ka.off=()=>{return ia.delete(ka),ka},ka.on=la=>{return ka.off().one=!!la,ia.add(ka),ka},ka.once=()=>ka.on(!0),ka.on(!!w(ja)&&ja)},on(ja){return this.handle(ja)},once(ja){return this.handle(!0,ja)},off(ja){ia.delete(ja)},get empty(){return 1>ia.size},get handles(){return ia},inform(){if(ia.size)for(let ja of ia)ja(...arguments),ja.one&&ja.off()}}},W=ia=>g((...ja)=>U(...ja)[ia](),3),// listener type
X=W('on'),Y=W('once');V.fromEvent=(ia,ja,ka,la)=>{if(u(ia)&&(ia=O(ia)),!ia.addEventListener)throw R('invalid event target');if(!u(ja))throw Q('event type not string');const ma=V(),na=W(ka?'once':'on')(ia,ja,oa=>ma.inform(oa,na),la);return ma};const Z=V.fromEvent(b,'DOMContentLoaded',!0),$=ia=>'complete'==d.readyState?ia():Z.once(ia),_=ia=>d.createRange().createContextualFragment(ia||''),aa=ia=>{if(u(ia))return _(ia);const ja=d.createDocumentFragment();return ja.appendChild(ia),ja},ba=ia=>M(rot,ia);L(ba,{methods:{},handles:new Set,muthandles:new Set});const ca=ia=>({node:ia,hasAttr:ia.hasAttribute.bind(ia),getAttr:ia.getAttribute.bind(ia),setAttr(ja,ka=''){return A(ja)?I(ja,(la,ma)=>ia.setAttribute(ma,la)):ia.setAttribute(ja,ka),this},removeAttr(...ja){return I(ja,ia.removeAttribute.bind(ia)),this},toggleAttr(ja,ka=''){return this[(w(ka)?ka:ia.hasAttribute(ja))?'removeAttr':'setAttr'](ja,ka)},hasClass:(...ja)=>1==ja.length?ia.classList.contains(ja[0]):ja.every(ka=>ia.classList.contains(ka)),addClass(){for(let ja of arguments)ia.classList.add(ja);return this},removeClass(){for(let ja of arguments)ia.classList.remove(ja);return this},toggleClass(ja,ka){return ia.classList[(w(ka)?ka:ia.classList.contains(ja))?'remove':'add'](ja),this},replace(ja){return ia.parentNode.replaceChild(ja,ia),this},css(ja,ka){if(A(ja))I(ja,(la,ma)=>ia.style[ma]=la);else if(u(ja)&&u(ka))ia.style[ja]=ka;else throw Q('CSS : Styles is not an object or string pair');return this},inner(...ja){for(let ka of ja)ka.appendTo&&(!S(ka.node,ia)&&ka.lifecycle.mount.inform(ka,ka.node,ka.parent=ia.dm),ka.appendTo(ia)),u(ka)&&(ka=d.createTextNode(ka)),E(ka)?ia.appendChild(ka):ka.isInformer&&ka.on(ia.dm.html);return ia.dm},on:X(ia),once:Y(ia),append(){const ja=aa();for(let ka of arguments)ka.appendTo?ka.appendTo(ja):ja.appendChild(E(ka)?ka:_(ka));return ia.appendChild(aa),this},prepend(){const ja=aa();for(let ka of arguments)ka.appendTo?ka.appendTo(ja):ja.appendChild(E(ka)?ka:_(ka));return r(ia.prepend)?ia.prepend(aa):ia.insertBefore(aa,ia.firstChild),this},appendTo(ja,ka){return u(ja)&&(ja=O(ja,ka)),ja.appendChild&&ja.appendChild(ia),this},prependTo(ja,ka){return u(ja)&&(ja=O(ja,ka)),r(ja.prepend)?ja.prepend(ia):ja.insertBefore(ia,ja.firstChild),this},modify(ja){return ja(this,ia),this},extend(ja){return L(this,ja)},get mounted(){return S(ia)},listeners:[],lifecycle:{},update(ja){return this.lifecycle.update.inform('options',ja,this.options,this,ia),ga(ja,ia)},attrupdate:V(),observeAttr(ja,ka,la=!1){return this.attrupdate.handle(la,(ma,...na)=>ja===ma&&ka(ma,...na))}}),da='create mount destroy update'.split(' '),ea=(ia,ja)=>{return ja=ia[ja],(ka,la)=>{D(ia.listeners)||(I(ia.listeners,oa=>oa.off()),ia.listeners=[]);let ma;const na=ja(la);r(ka)?ma=na(ka):ka.isInformer&&(ma=na(oa=>ka.inform(oa,ma,ka))),ma&&ia.listeners.push(ma)}},fa=ia=>ja=>ia===ja,ga=(ia,ja,ka)=>{E(ja)||(ja=u(ja)?O(ja):d.createElement(ka));let la=ja.dm||(ja.dm=ca(ja)),{attr:ma,lifecycle:na}=ia;for(let oa in la.options=ia){let pa=fa(oa),qa=ia[oa];pa('class')?ja.className=qa:pa('children')?B(r(qa)?qa=children(la,ja):qa)?la.inner(...N(qa)):la.inner(qa):pa('style')?la.css(qa):pa('on')||pa('once')?I(qa,ea(la,oa)):pa('props')&&A(qa)?L(la,qa):!(oa in ba.methods||pa('tag'))&&y(qa)&&((A(ma)?ma:ma={})[oa]=qa)}if(ma&&la.setAttr(ma),!la.lifecycle.create)for(let oa of da){const pa=la.lifecycle[oa]=V();q(na)&&r(na[oa])&&pa.handle('update'==oa,na[oa])}if(!la.plugged){if(ba.methods&&L(la,ba.methods),ba.handles)for(let oa of ba.handles)oa(ia,la,ja);la.plugged=!0}return la.mounted||la.lifecycle.create.inform(la,ja),la},ha=g((ia,ja,...ka)=>{return A(ja)&&ja.node||C(ja)?ja={children:ja||f}:ja.children=ka,ga(ja,null,ia)});new MutationObserver(ia=>{for(let ja of ia){const{removedNodes:ka,addedNodes:la,target:ma,attributeName:na}=ja;let oa;if(0<ka.length)for(oa of ka)oa.dm&&oa.dm.lifecycle.destroy.inform(oa.dm,oa);if(0<la.length)for(oa of la)oa.dm&&oa.dm.lifecycle.mount.inform(oa.dm,oa);if('style'!=na&&(oa=ma.dm)&&oa.attrupdate.inform(na,oa.getAttr(na),ja.oldValue,oa.hasAttr(na),oa),0<ba.muthandles.size)for(let pa of ba.muthandles)pa(ma,ja.type,ja)}}).observe(d,{attributes:!0,childList:!0,subtree:!0}),(ha.extend=L(ha))({query:O,queryAll:P,queryEach:(ia,ja,ka=d)=>{r(ja)||(ja=ka,ka=d),I(P(ia,ka),ja)},on:X,once:Y,actualize:ga});for(let ia of'picture img input list a script table td th tr article aside ul ol li h1 h2 h3 h4 h5 h6 div span pre code section button br label header i style nav menu main menuitem'.split(' '))ha[ia]=ha(ia);return{informer:V,EventManager:U,on:X,once:Y,dom:ha,plugins:ba,extend:L,safeExtend:M,def:J,getdesc:K,render:(...ia)=>(ja=d.body)=>$(()=>I(ia,ka=>ka.appendTo(ja))),run:$,curry:g,each:I,DOMcontains:S,flatten:N,isDef:q,isUndef:ia=>ia===f,isPrimitive:y,isNativeEvent:ia=>T.includes(ia),isNull:ia=>null===ia,isFunc:r,isStr:u,isBool:w,isNum:x,isInt:z,isObj:A,isArr:B,isArrlike:C,isEmpty:D,isEl:F,isEq:fa,isNode:E,isNodeList:ia=>ia instanceof NodeList||C(ia)&&k(ia,E),isInput:ia=>F(ia)&&'INPUT TEXTAREA'.includes(ia.tagName),isMap:G,isSet:H}});
