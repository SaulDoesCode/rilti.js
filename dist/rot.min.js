var rot=(()=>{'use strict';const b=document,e=window,f=void 0,g=null,h=(wa,xa=wa.length,ya=(...za)=>(...Aa)=>{const Ba=za.concat(Aa);return(Ba.length>=xa?wa:ya)(...Ba)})=>ya(),j=h((wa,xa,...ya)=>Array.prototype[wa].apply(xa,ya),2),k=(wa,xa)=>wa instanceof xa,l=toString.call,m=(wa)=>(xa)=>typeof xa==wa,q=(wa)=>(xa)=>toString.call(xa).includes(wa),x=m('function'),y=m('string'),z=m('boolean'),A=(wa)=>!z(wa)&&!isNaN(+wa),B=(wa)=>y(wa)||z(wa)||!isNaN(wa),C=(wa)=>A(wa)&&0==wa%1,D=q('Object'),E=Array.isArray,F=(wa)=>wa&&'undefined'!=typeof wa.length,G=(wa)=>wa!=f&&wa!=g&&(D(wa)?!Object.keys(wa).length:F(wa)?!wa.length:!wa.size)||x(wa),H=(wa)=>wa&&(k(wa,Node)||k(wa.pure,Node)),J=q('HTML'),K=(wa)=>J(wa)&&'INPUT TEXTAREA'.includes(wa.tagName),L=q('Map'),M=q('Set'),N=h((wa,xa)=>wa===xa),O=(wa,...xa)=>xa.some((ya)=>wa==ya||x(ya)&&ya(wa)),P='forEach',Q=(wa,xa,ya=0)=>{if(F(wa)?j(P,wa,xa):wa[P]&&wa[P](xa),D(wa))for(ya in wa)xa(wa[ya],ya,wa);if(C(wa))for(;wa!=ya;)xa(ya++);return wa},R=h(Object.defineProperty),S=Object.getOwnPropertyDescriptor,T=h((wa,xa)=>{return Q(Object.keys(xa),(ya)=>R(wa,ya,S(xa,ya))),wa}),U=(wa,xa)=>{return Q(Object.keys(xa),(ya)=>!(ya in wa)&&R(wa,ya,S(xa,ya))),wa},V=(wa)=>F(wa)?j('reduce',wa,(xa,ya)=>xa.concat(E(ya)?V(ya):ya),[]):[wa],W=(wa,xa=b)=>(y(xa)?b.querySelector(xa):xa).querySelector(wa),X=(wa,xa=b)=>Array.from((y(xa)?W(xa):xa).querySelectorAll(wa)),Y=(wa,xa,ya=b)=>{x(xa)||(xa=ya,ya=b),Q(X(wa,ya),xa)},Z=(wa)=>{throw new TypeError(wa)},$=(wa)=>{throw new Error(wa)},aa=(wa,xa=b)=>xa==wa||!!(16&xa.compareDocumentPosition(wa)),ba=h((wa,xa,ya,za,Aa=!1)=>{function Ba(Ga){za.call(xa,Ga,xa),Ca&&xa.removeEventListener(ya,Ba)}O(xa,H,y)&&(xa=oa(xa)),xa.addEventListener||$('bad evt target');let Ca=!1;const Da=()=>xa.removeEventListener(ya,Ba),Ea=()=>{Da(),xa.addEventListener(ya,Ba,Aa)},Fa={off(){return Da(),Fa},on(){return Ca=!1,Ea(),Fa},once(){return Ca=!0,Ea(),Fa}};return Fa[wa]()},4),ca=ba('once'),da=ba('on'),ea=(wa={},xa=new Map)=>T(wa,{handle(ya,za,Aa){return Aa.one=!!ya,(xa.has(za)?xa:xa.set(za,new Set)).get(za).add(Aa),Aa.off=()=>wa.off(za,Aa),Aa},on:(ya,za)=>wa.handle(!1,ya,za),once:(ya,za)=>wa.handle(!0,ya,za),off(ya,za){return xa.has(ya)&&!xa.get(ya).delete(za).size&&xa.delete(ya),wa},has:(ya)=>xa.has(ya),emit(ya,...za){return xa.has(ya)&&xa.get(ya).forEach((Aa)=>{Aa(...za),Aa.one&&Aa.off()}),wa}}),fa=ea((wa,xa)=>{return fa.active||(fa.active=!0,da(e,'hashchange',()=>fa.emit(fa.has(location.hash)?location.hash:'default',location.hash))),x(wa)&&(xa=wa,wa='default'),location.hash!==wa&&(location.hash||'default'!=wa)||xa(),fa.on(wa,xa)}),ga=['create','mount','destroy','attr'],ha=(wa)=>va?wa():ua.push(wa),ia=(wa)=>H(wa)?wa:b.createRange().createContextualFragment(wa||''),ja=(wa)=>B(wa)?ia(wa):b.createDocumentFragment(),ka=T((wa)=>U(rot,wa),{methods:{},handles:new Set}),la={replace:(wa,xa,ya)=>wa.replaceWith?wa.replaceWith(ya):wa.parentNode.replaceChild(ya,wa),clone:(wa)=>oa(wa.cloneNode()),css(wa,xa,ya,za){return D(ya)?Q(ya,(Aa,Ba)=>wa.style[Ba]=Aa):y(ya)&&y(za)?wa.style[ya]=za:Z('.css("" || {}) only'),xa},inner(wa,xa,...ya){return xa.html='',Q(V(ya),(za)=>{za.appendTo?(!xa.children.includes(za)&&za.data.emit('mount',za),za.appendTo(wa)):(B(za)&&(za=b.createTextNode(za)),H(za)&&xa.append(za))}),xa},append(wa,xa,...ya){const za=ja();return Q(V(ya),(Aa)=>za.appendChild(H(Aa.pure)?Aa.pure:ia(Aa))),wa.appendChild(za),xa},prepend(wa,xa,...ya){const za=ja();return Q(V(ya),(Aa)=>za.appendChild(H(Aa.pure)?Aa.pure:ia(Aa))),wa.prepend(za),xa},appendTo(wa,xa,ya){return(y(ya)?W(ya):ya).appendChild(wa),xa},prependTo(wa,xa,ya){return(y(ya)?W(ya):ya).prepend(wa),xa},find:(wa,xa,ya)=>oa(W(ya,wa)),modify(wa,xa,ya){return ya.call(xa,xa,wa),xa},remove(wa,xa,ya){return A(ya)?setTimeout(()=>wa.remove(),ya):wa.remove(),xa}},ma=(...wa)=>(xa='body')=>{H(xa)&&la.append(xa,g,wa),y(xa)&&ha(()=>H(xa=oa('body'==xa?b.body:xa))?xa.append(wa):$('render: invalid target'))},na=new Map,oa=new Proxy((wa,xa)=>{if(y(wa)&&(wa=W(wa,xa)),na.has(wa))return na.get(wa);if(H(wa)){const ya=new Proxy((Ha,Ia)=>{if(D(Ha))Q(Ha,(Ja,Ka)=>wa.setAttribute(Ka,Ja));else if(B(Ia))wa.setAttribute(Ha,Ia);else return wa.getAttribute(Ha)},{get(Ha,Ia){return'has'==Ia?(Ja)=>wa.hasAttribute(Ja):wa.getAttribute(Ia)},set(Ha,Ia,Ja){return B(Ja)&&wa.setAttribute(Ia,Ja),!0},deleteProperty(Ha,Ia){return!wa.removeAttribute(Ia)}}),za=new Proxy((Ha,Ia=!wa.classList.contains(Ha))=>{return Ia=Ia?'add':'remove',Ha.includes(' ')?Q(Ha.split(' '),(Ja)=>wa.classList[Ia](Ja)):wa.classList[Ia](Ha),Ga},{get:(Ha,Ia)=>wa.classList.contains(Ia),set:(Ha,Ia,Ja)=>Ha(Ia,Ja),deleteProperty:(Ha,Ia)=>Ha(Ia,!1)}),Aa=(Ha)=>new Proxy(ba(Ha,wa),{get:(Ia,Ja)=>Ia(Ja)}),Ba=ea({isInput:K(wa)}),Ca=(Ha)=>x(Ha)?Ha.bind(wa):Ha,Da=(Ha)=>{const Ia=Ca(Reflect.get(Ba,Ha));return Ba.emit('get',Ia).emit('get:'+Ha,Ia),Ia},Ea=Ba.isInput?'value':'innerHTML',Fa=Ba.isInput?'value':'textContent',Ga=new Proxy(wa,{get(Ha,Ia){return Ia in la?la[Ia].bind(Ha,Ha,Ga):'children'==Ia?j('map',Ha.children,(Ja)=>oa(Ja)):Ia in Ha?Ca(Reflect.get(Ha,Ia)):'class'==Ia?za:'attr'==Ia?ya:'pure'==Ia?Ha:O(Ia,'on','once')?Aa(Ia):'html'==Ia?Ha[Ea]:'txt'==Ia?Ha[Fa]:'mounted'==Ia?aa(wa):'rect'==Ia?Ha.getBoundingClientRect():'data'==Ia?Ba:Ia in Ba?Da(Ia):Ia in ka.methods?ka.methods[Ia].bind(Ha,Ha,Ga):f},set(Ha,Ia,Ja,Ka){return Ja!=f&&('class'==Ia&&y(Ja)?za(Ja,!0):O(Ia,'html','txt')?Ha['txt'==Ia?Fa:Ea]=x(Ja)?Ja(Ka[Ia]):Ja:'render'==Ia&&O(Ja,H,y)?ma(Ha)(Ja):Ia in Ha?Reflect.set(Ha,Ia,Ja):'css'==Ia?Ka.css(Ja):'attr'==Ia?ya(Ja):Reflect.set(Ba.emit('set',Ja).emit('set:'+Ia,Ja),Ia,Ja)),!0},deleteProperty:(Ha,Ia)=>'self'==Ia?Ha.remove():Reflect.deleteProperty(Ba,Ia)});return Ba.once('destroy',()=>na.delete(wa)),na.set(wa,Ga),Ga}},{get:(wa,xa)=>xa in wa?Reflect.get(wa,xa):pa.bind(f,xa),set:(wa,xa)=>Reflect.set(wa,xa)}),pa=(wa,xa,...ya)=>{const za=oa(b.createElement(wa));if(O(xa,F,H))ya=O(xa,y,H)?[xa]:xa,xa=g;else if(D(xa)){for(let Aa of ka.handles)Aa(xa,za);Q(xa,(Aa,Ba)=>{if('render'!=Ba)if('lifecycle'==Ba)Q(ga,(Ca)=>x(Aa[Ca])&&za.data['attr'==Ca?'on':'once'](Ca,Aa[Ca].bind(za)));else if('attr'==Ba)za.attr=Aa;else if(O(Ba,'class','className'))za.className=Aa;else if(O(Ba,'style','css'))za.css(Aa);else if(O(Ba,'on','once'))Q(Aa,(Ca,Da)=>za[Ba](Da,Ca));else if(O(Ba,'props','data')&&D(Aa)){let Ca;for(let Da in Aa)Ca=S(Aa,Da),Ca.get&&(Ca.get=Ca.get.bind(za)),Ca.set&&(Ca.set=Ca.set.bind(za)),x(Ca.value)&&(Ca.value=Ca.value.bind(za)),R(za.data,Da,Ca)}else Ba in za?za[Ba]=Aa:B(Aa)&&za.attr(Ba,Aa)})}return G(ya)||za.inner(...ya),za.tagName.includes('-')||za.mounted||za.data.emit('create',za),xa&&xa.render&&(za.render=xa.render),za},qa=new Map,ta=(wa,xa)=>{if(0<wa.length)for(let ya of wa)J(ya)&&!ya.tagName.includes('-')&&na.has(ya)&&(ya=oa(ya)).data.emit(xa,ya)};let ua=[],va=!1;return ca(e,'DOMContentLoaded',()=>{va=!0,Q(ua,(wa)=>wa()),ua=null}),(oa.extend=T(oa))({query:W,queryAll:X,queryEach:Y,on:da,once:ca,html:ia}),new MutationObserver((wa)=>Q(wa,({addedNodes:xa,removedNodes:ya,target:za,attributeName:Aa,oldValue:Ba})=>{if(ta(xa,'mount'),ta(ya,'destroy'),Aa&&'style'!=Aa&&J(za)&&na.has(za)){if(za=oa(za),qa.has(Aa)){let Ca=qa.get(Aa);za.attr.has(Aa)?za[Aa+'_init']?Ca.update&&Ca.update(za,za.attr[Aa],Ba):(Ca.init(za,za.attr[Aa]),za[name+'_init']=!0):Ca.destroy&&Ca.destroy(za,Ba)}za.data.emit('attr:'+Aa,za,za.attr[Aa],Ba)}})).observe(b,{attributes:!0,childList:!0,subtree:!0}),{dom:oa,notifier:ea,observeAttr:(wa,xa)=>{let{init:ya,update:za,destroy:Aa}=xa;qa.set(wa,xa),ha(()=>Y(`[${wa}]`,(Ba)=>{Ba=oa(Ba),ya(Ba,Ba.attr[wa]),Ba[wa+'_init']=!0}))},unobserveAttr:(wa)=>qa.delete(wa),plugins:ka,extend:T,safeExtend:U,def:R,getdesc:S,route:fa,render:ma,run:ha,curry:h,each:Q,DOMcontains:aa,flatten:V,isDef:(wa)=>wa!==f,isUndef:(wa)=>wa===f,isPrimitive:B,isNull:(wa)=>wa===g,isFunc:x,isStr:y,isBool:z,isNum:A,isInt:C,isObj:D,isArr:E,isArrlike:F,isEmpty:G,isEl:J,isEq:N,isNode:H,isNodeList:(wa)=>k(wa,NodeList)||F(wa)&&j('every',wa,H),isInput:K,isMap:L,isSet:M}})();
