var _this=this;((b,f)=>{const g='rot';b[g]=f(),'undefined'!=typeof module&&module.exports?module.exports=f():'function'==typeof define&&define.amd&&define(g,f)})(this,()=>{'use strict';const b=(oa,pa=oa.length)=>{const qa=(...ra)=>(...sa)=>{const ta=ra.concat(sa);return(ta.length>=pa?oa:qa)(...ta)};return qa()},f=window||global||_this,g=document,j=void 0,l=Object.keys,m=(oa,pa)=>Array.prototype.every.call(oa,pa),p=toString.call,q=oa=>pa=>typeof pa===oa,r=oa=>pa=>toString.call(pa).includes(oa),u=oa=>oa!==j,w=q('function'),x=q('string'),y=q('boolean'),z=oa=>!y(oa)&&!isNaN(+oa),A=oa=>x(oa)||y(oa)||!isNaN(oa),B=oa=>z(oa)&&0==oa%1,C=r('Object'),D=Array.isArray,E=oa=>oa!==j&&'undefined'!=typeof oa.length,F=oa=>(C(oa)?!l(oa).length:E(oa)?!oa.length:!oa.size)||w(oa),G=oa=>oa instanceof Node,H=r('HTML'),I=oa=>H(oa)&&'INPUT TEXTAREA'.includes(oa.tagName),J=r('Map'),K=r('Set'),M=b((oa,pa)=>oa===pa),N=(oa,pa)=>{if(u(oa)&&w(pa))if(E(oa)&&(oa=Array.from(oa)),oa.forEach)oa.forEach(pa);else{let qa=0;if(C(oa))for(qa in oa)pa(oa[qa],qa,oa);else if(B(oa))for(;oa!=qa;)pa(qa+=1)}},O=b(Object.defineProperty),P=Object.getOwnPropertyDescriptor,Q=b((oa,pa)=>{for(let qa of l(pa))O(oa,qa,P(pa,qa));return oa}),R=(oa,pa)=>{for(let qa of l(pa))qa in oa||O(oa,qa,P(pa,qa));return oa},S=oa=>E(oa)?Array.prototype.reduce.call(oa,(pa,qa)=>pa.concat(D(qa)?S(qa):qa),[]):[oa],T=(oa,pa=g)=>(x(pa)?g.querySelector(pa):pa).querySelector(oa),U=(oa,pa=g)=>Array.from((x(pa)?T(pa):pa).querySelectorAll(oa)),V=oa=>new TypeError(oa),W=oa=>new Error(oa),X=(oa,pa=g)=>pa==oa||!!(16&pa.compareDocumentPosition(oa)),Y='DOMContentLoaded hashchange blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu pointerdown pointerup pointermove pointerover pointerout pointerenter pointerleave touchstart touchend touchmove touchcancel'.split(' '),Z=b((oa,pa,qa,ra=!1)=>{function sa(xa){qa.call(oa,xa,oa),va&&ua(sa)}if(x(oa)&&(oa=T(oa)),!oa||!oa.addEventListener)throw W('EventManager: Target Invalid');const ta=oa.addEventListener.bind(oa,pa),ua=oa.removeEventListener.bind(oa,pa);let va=!1;H(oa)&&la.has(oa)&&(oa=la.get(oa));const wa={off(){return ua(sa),oa.listeners&&oa.listeners.delete(wa),wa},on(){return va=!1,ta(sa,ra),oa.listeners&&oa.listeners.add(wa),wa},once(){return ua(sa),va=!0,ta(sa,ra),oa.listeners&&oa.listeners.add(wa),wa}};return wa},3),$=(oa=new Set)=>({handles:oa,isInformer:!0,handle(pa,qa=pa){if(!w(qa))throw V('informer.handle: is not a function');return qa.off=()=>{return oa.delete(qa),qa},qa.on=ra=>{return qa.off().one=!!ra,oa.add(qa),qa},qa.once=qa.on.bind(null,!0),qa.on(!!y(pa)&&pa)},on(pa){return this.handle(pa)},once(pa){return this.handle(!0,pa)},off(pa){oa.delete(pa)},get empty(){return 1>oa.size},inform(){if(oa.size)for(let pa of oa)pa(...arguments),pa.one&&pa.off();return this}}),aa=oa=>b((...pa)=>Z(...pa)[oa](),3),// listener type
ba=aa('on'),ca=aa('once');$.fromEvent=(oa,pa,qa,ra)=>{if(x(oa)&&(oa=T(oa)),!oa.addEventListener)throw W('invalid event target');if(!x(pa))throw V('event type not string');const sa=$(),ta=aa(qa?'once':'on')(oa,pa,ua=>sa.inform(ua,ta),ra);return sa};const da=$.fromEvent(f,'DOMContentLoaded',!0),ea='create mount destroy update attr'.split(' '),fa=oa=>'complete'==g.readyState?oa():da.once(oa),ga=(...oa)=>pa=>{G(pa)?(pa=ma(pa),N(S(oa),qa=>K(qa)||E(qa)?N(qa,ra=>pa.append(ra)):pa.append(qa))):fa(()=>{if(u(pa)?x(pa)&&(pa=T(pa)):pa=g.body,!G(pa))throw W('rot.render: invalid render node');pa=ma(pa),N(S(oa),qa=>K(qa)||E(qa)?N(qa,ra=>pa.append(ra)):pa.append(qa))})},ha=oa=>g.createRange().createContextualFragment(oa||''),ia=oa=>A(oa)?ha(oa):g.createDocumentFragment(),ja=oa=>R(rot,oa);Q(ja,{methods:{},handles:new Set,muthandles:new Set});const ka={replace:(oa,pa,qa)=>oa.replaceWith?oa.replaceWith(qa):oa.parentNode.replaceChild(qa,oa),clone:oa=>ma(oa.cloneNode()),css(oa,pa,qa,ra){if(C(qa))N(qa,(sa,ta)=>oa.style[ta]=sa);else if(x(qa)&&x(ra))oa.style[qa]=ra;else throw V('CSS : Styles is not an object or string pair')},inner(oa,pa,...qa){pa.html='';for(let ra of S(qa))ra.appendTo?(pa.children.includes(ra)||ra.lifecycle.mount.inform(ra),ra.appendTo(oa)):(A(ra)&&(ra=g.createTextNode(ra)),G(ra)?pa.append(ra):ra.isInformer&&ra.on(pa.inner));return pa},append(oa,pa,...qa){const ra=ia();return qa.forEach(sa=>{G(sa.pure)&&(sa=sa.pure),ra.appendChild(G(sa)?sa:ha(sa))}),oa.appendChild(ra),pa},prepend(oa,pa,...qa){const ra=ia();return qa.forEach(sa=>{G(sa.pure)&&(sa=sa.pure),ra.appendChild(G(sa)?sa:ha(sa))}),oa.prepend(ra),pa},appendTo(oa,pa,qa){return(x(qa)?T(qa):qa).appendChild(oa),pa},prependTo(oa,pa,qa){return(x(qa)?T(qa):qa).prepend(),pa},modify(oa,pa,qa){return qa.call(pa,pa,oa),pa},remove(oa,pa,qa){return z(qa)?setTimeout(()=>oa.remove(),qa):oa.remove(),pa}},la=new Map,ma=new Proxy(oa=>{if(x(oa)&&(oa=T(oa)),H(oa)){if(la.has(oa))return la.get(oa);const pa=new Proxy({},{get(Ea,Fa){return'has'==Fa?Ga=>oa.hasAttribute(Ga):oa.getAttribute(Fa)},set(Ea,Fa,Ga){return oa.setAttribute(Fa,Ga),!0},delete(Ea,Fa){return oa.removeAttribute(Fa),!0}}),qa=new Proxy({},{get(Ea,Fa){return'toggle'==Fa?(Ga,Ha=!oa.classList.contains(Ga))=>Ha?oa.classList.add(Ga):oa.classList.remove(Ga):oa.classList.contains(Fa)},set(Ea,Fa,Ga){return'toggle'==Fa?oa.classList.contains(Fa)?oa.classList.remove(Ga):oa.classList.add(Ga):oa.classList.add(Ga),!0},delete(Ea,Fa){return oa.classList.remove(Fa),!0}}),ra={create:$(),mount:$(),destroy:$(),attr:$()},sa=new Set,ta=Ea=>new Proxy(Ea.bind(null,oa),{get(Fa,Ga){return Fa(Ga)},set(Fa,Ga,Ha){if(w(Ha))return Fa(Ga,Ha)}}),ua=ta(ba),va=ta(ca),wa={},xa=$(),ya=Ea=>(Fa,Ga)=>w(Fa)?xa.handle(Ea,Fa):xa.handle(Ea,(Ha,Ia)=>{Fa===Ha&&Ga(Ia)});wa.on=ya(!1),wa.once=ya(!0),wa.isInput=I(oa);const za=Ea=>w(Ea)?Ea.bind(oa):Ea,Aa=Ea=>{const Fa=za(Reflect.get(wa,Ea));return xa.inform('get',Fa).inform('get:'+Ea,Fa),Fa},Ba=wa.isInput?'value':'innerHTML',Ca=wa.isInput?'value':'textContent',Da=new Proxy(oa,{get(Ea,Fa){return Fa in ka?ka[Fa].bind(Ea,Ea,Da):'children'==Fa?Array.from(Ea.children).map(Ga=>ma(Ga)):Fa in Ea?za(Reflect.get(Ea,Fa)):'class'==Fa?qa:'attr'==Fa?pa:'pure'==Fa?Ea:'listeners'==Fa?sa:'lifecycle'==Fa?ra:'on'==Fa?ua:'once'==Fa?va:'html'==Fa?Ea[Ba]:'txt'==Fa?Ea[Ca]:'mounted'==Fa?X(oa):'data'==Fa?wa:Fa in wa?Aa(Fa):j},set(Ea,Fa,Ga,Ha){if(Fa in Ea)return Reflect.set(Ea,Fa,Ga);if('class'==Fa&&x(Ga))Ga.includes(' ')?Ga.split(' ').forEach(Ia=>{Ea.classList.add(Ia)}):Ea.classList.add(Ga);else if('html'==Fa)w(Ga)&&(Ga=Ga(Ea[Ba])),Ga==j&&(Ga=''),Ea[Ba]=Ga;else if('txt'==Fa)w(Ga)&&(Ga=Ga(Ea[Ca])),Ga==j&&(Ga=''),Ea[Ca]=Ga;else if('attr'==Fa&&C(Ga))N(Ga,(Ia,Ja)=>oa.setAttribute(Ja,Ia));else if('data'==Fa&&C(Ga))for(let Ia in Ga){const Ja=P(Ga,Ia);Ja.get&&(Ja.get=Ja.get.bind(Ha)),Ja.set&&(Ja.set=Ja.set.bind(Ha)),w(Ja.value)&&(Ja.value=Ja.value.bind(Ha)),Object.defineProperty(wa,Ia,Ja)}else if('css'==Fa&&C(Ga))Ea.css(Ga);else return xa.inform('set',Ga).inform('set:'+Fa,Ga),Reflect.set(wa,Fa,Ga);return!0},delete(Ea,Fa){return'self'==Fa?Ea.remove():wa.delete(Fa),!0}});return la.set(oa,Da),Da}},{get(oa,pa){return pa in oa?Reflect.get(oa,pa):na.bind(j,pa)},set(oa,pa){return Reflect.set(oa,pa)}}),na=(oa,pa,...qa)=>{const ra=ma(g.createElement(oa));if(C(pa)){let{attr:sa,lifecycle:ta}=pa;if(ta)for(let ua of ea)w(ta[ua])&&ra.lifecycle[ua].once((...va)=>ta[ua].apply(ra,va));for(let ua of ja.handles)ua(pa,ra);N(pa,(ua,va)=>{'class'==va?ra.className=ua:'style'==va||'css'==va?ra.css(ua):'on'==va||'once'==va?N(ua,(wa,xa)=>ra[va][xa]=wa):'props'===va&&C(ua)?ra.data=ua:!(va in ja.methods)&&(va in ra?ra[va]=ua:sa&&A(ua)&&(sa[va]=ua))}),sa&&!F(sa)&&(ra.attr=sa)}return F(qa)||ra.inner(...qa),ra.mounted||ra.lifecycle.create.inform(ra),pa&&pa.render?ga(ra)(pa.render):ra.render=(sa=g.body)=>ga(ra)(sa),ra};return(ma.extend=Q(ma))({query:T,queryAll:U,queryEach:(oa,pa,qa=g)=>{w(pa)||(pa=qa,qa=g),N(U(oa,qa),pa)},on:ba,once:ca,html:ha}),new MutationObserver(oa=>{for(let pa of oa){const{removedNodes:qa,addedNodes:ra,target:sa,attributeName:ta}=pa;let ua;if(0<qa.length)for(ua of qa)H(ua)&&(ua=ma(ua)).lifecycle.destroy.inform(ua);if(0<ra.length)for(ua of ra)H(ua)&&(ua=ma(ua)).lifecycle.mount.inform(ua);if('style'!=ta&&H(sa)&&(ua=ma(sa)).lifecycle.attr.inform(ta,ua.attr[ta],pa.oldValue,ua.attr.has(ta),ua),0<ja.muthandles.size)for(let va of ja.muthandles)va(sa,pa,pa.type)}}).observe(g,{attributes:!0,childList:!0,subtree:!0}),{dom:ma,informer:$,EventManager:Z,plugins:ja,extend:Q,safeExtend:R,def:O,getdesc:P,render:ga,run:fa,curry:b,each:N,DOMcontains:X,flatten:S,isDef:u,isUndef:oa=>oa===j,isPrimitive:A,isNativeEvent:oa=>Y.includes(oa),isNull:oa=>null===oa,isFunc:w,isStr:x,isBool:y,isNum:z,isInt:B,isObj:C,isArr:D,isArrlike:E,isEmpty:F,isEl:H,isEq:M,isNode:G,isNodeList:oa=>oa instanceof NodeList||E(oa)&&m(oa,G),isInput:I,isMap:J,isSet:K,ready:()=>'complete'==g.readyState}});
