var _this=this;((b,d)=>{const f='rot';b[f]=d(),'undefined'!=typeof module&&module.exports?module.exports=d():'function'==typeof define&&define.amd&&define(f,d)})(this,()=>{'use strict';const b=(ha,ia=ha.length)=>{const ja=(...ka)=>(...la)=>{const ma=ka.concat(la);return(ma.length>=ia?ha:ja)(...ma)};return ja()},d=window||global||_this,f=document,g=void 0,j=Object.keys,k=(ha,ia)=>Array.prototype.every.call(ha,ia),l=toString.call,m=ha=>ia=>typeof ia===ha,n=ha=>ia=>toString.call(ia).includes(ha),p=ha=>ha!==g,q=m('function'),r=m('string'),u=m('boolean'),w=ha=>!u(ha)&&!isNaN(+ha),x=ha=>r(ha)||u(ha)||!isNaN(ha),y=ha=>w(ha)&&0==ha%1,z=n('Object'),A=Array.isArray,B=ha=>ha!==g&&'undefined'!=typeof ha.length,C=ha=>(z(ha)?!j(ha).length:B(ha)?!ha.length:!ha.size)||q(ha),D=ha=>ha instanceof Node,E=n('HTML'),F=ha=>E(ha)&&'INPUT TEXTAREA'.includes(ha.tagName),G=n('Map'),H=n('Set'),I=(ha,ia)=>{if(p(ha)&&q(ia))if(B(ha)&&(ha=Array.from(ha)),ha.forEach)ha.forEach(ia);else{let ja=0;if(z(ha))for(ja in ha)ia(ha[ja],ja,ha);else if(y(ha))for(;ha!=ja;)ia(ja+=1)}},J=b(Object.defineProperty),K=Object.getOwnPropertyDescriptor,L=b((ha,ia)=>{for(let ja of j(ia))J(ha,ja,K(ia,ja));return ha}),M=(ha,ia)=>{for(let ja of j(ia))ja in ha||J(ha,ja,K(ia,ja));return ha},N=ha=>B(ha)?Array.prototype.reduce.call(ha,(ia,ja)=>ia.concat(A(ja)?N(ja):ja),[]):[ha],O=(ha,ia=f)=>(r(ia)?f.querySelector(ia):ia).querySelector(ha),P=(ha,ia=f)=>Array.from((r(ia)?O(ia):ia).querySelectorAll(ha)),Q=ha=>new TypeError(ha),R=ha=>new Error(ha),S=(ha,ia=f)=>ia==ha||!!(16&ia.compareDocumentPosition(ha)),T='DOMContentLoaded hashchange blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu pointerdown pointerup pointermove pointerover pointerout pointerenter pointerleave touchstart touchend touchmove touchcancel'.split(' '),U=b((ha,ia,ja,ka=!1)=>{function la(qa){ja.call(ha,qa,ha.dm),pa&&oa(la)}if(r(ha)&&(ha=O(ha)),!ha||!ha.addEventListener)throw R('EventManager: Target Invalid');let ma=ha.dm;const na=ha.addEventListener.bind(ha,ia),oa=ha.removeEventListener.bind(ha,ia);let pa=!1;return{off(){return oa(la),ma&&ma.listeners.delete(this),this},on(){return pa=!1,ma&&ma.listeners.add(this),na(la,ka),this},once(){return oa(la),ma&&ma.listeners.add(this),pa=!0,na(la,ka),this}}},3),V=(ha=new Set)=>({handles:ha,isInformer:!0,handle(ia,ja=ia){if(!q(ja))throw Q('informer.handle: is not a function');return ja.off=()=>{return ha.delete(ja),ja},ja.on=ka=>{return ja.off().one=!!ka,ha.add(ja),ja},ja.once=ja.on.bind(null,!0),ja.on(!!u(ia)&&ia)},on(ia){return this.handle(ia)},once(ia){return this.handle(!0,ia)},off(ia){ha.delete(ia)},get empty(){return 1>ha.size},inform(){if(ha.size)for(let ia of ha)ia(...arguments),ia.one&&ia.off()}}),W=ha=>b((...ia)=>U(...ia)[ha](),3),// listener type
X=W('on'),Y=W('once');V.fromEvent=(ha,ia,ja,ka)=>{if(r(ha)&&(ha=O(ha)),!ha.addEventListener)throw R('invalid event target');if(!r(ia))throw Q('event type not string');const la=V(),ma=W(ja?'once':'on')(ha,ia,na=>la.inform(na,ma),ka);return la};const Z=V.fromEvent(d,'DOMContentLoaded',!0),$=ha=>'complete'==f.readyState?ha():Z.once(ha),_=ha=>f.createRange().createContextualFragment(ha||''),aa=ha=>x(ha)?_(ha):f.createDocumentFragment(),ba=ha=>M(rot,ha);L(ba,{methods:{},handles:new Set,muthandles:new Set});const ca=ha=>({node:ha,hasAttr:ha.hasAttribute.bind(ha),getAttr:ha.getAttribute.bind(ha),setAttr(ia,ja=''){return z(ia)?I(ia,(ka,la)=>ha.setAttribute(la,ka)):ha.setAttribute(ia,ja),this},removeAttr(...ia){return I(ia,ha.removeAttribute.bind(ha)),this},toggleAttr(ia,ja=''){return this[(u(ja)?ja:ha.hasAttribute(ia))?'removeAttr':'setAttr'](ia,ja)},hasClass:(...ia)=>1==ia.length?ha.classList.contains(ia[0]):ia.every(ja=>ha.classList.contains(ja)),addClass(){for(let ia of arguments)ha.classList.add(ia);return this},removeClass(){for(let ia of arguments)ha.classList.remove(ia);return this},toggleClass(ia,ja=!ha.classList.contains(ia)){return ha.classList[ja?'add':'remove'](ia),this},replace(ia){return ha.parentNode.replaceChild(ia,ha),this},clone(){return ha=ha.cloneNode(),Object.assign(this,{})},css(ia,ja){if(z(ia))I(ia,(ka,la)=>ha.style[la]=ka);else if(r(ia)&&r(ja))ha.style[ia]=ja;else throw Q('CSS : Styles is not an object or string pair');return this},inner(...ia){ha[ha.isInput?'value':'innerHTML']=null;for(let ja of N(ia))ja.appendTo&&(!S(ja.node,ha)&&ja.lifecycle.mount.inform(ja,ja.node,ja.parent=ha.dm),ja.appendTo(ha)),x(ja)&&(ja=f.createTextNode(ja)),D(ja)?ha.appendChild(ja):ja.isInformer&&ja.on(ha.dm.inner);return ha.dm},listeners:new Set,on:X(ha),once:Y(ha),append(){const ia=aa();for(let ja of arguments)ja.node&&(ja=ja.node),ia.appendChild(D(ja)?ja:_(ja));return ha.appendChild(ia),this},prepend(){const ia=aa();for(let ja of arguments)ja.node&&(ja=ja.node),ia.appendChild(D(ja)?ja:_(ja));return q(ha.prepend)?ha.prepend(ia):ha.insertBefore(ia,ha.firstChild),this},appendTo(ia,ja){return r(ia)?ia=O(ia,ja):ia.node&&(ia=ia.node),ia.append?ia.append(ha):ia.appendChild&&ia.appendChild(ha),this},prependTo(ia,ja){return ia.node&&(ia=ia.node),r(ia)&&(ia=O(ia,ja)),ia.prepend?ia.prepend(ha):ia.insertBefore(ha,ia.firstChild),this},modify(ia){return ia(this,ha),this},remove(ia){return w(ia)?setTimeout(()=>ha.remove(),ia):ha.remove(),this},extend(ia){return L(this,ia)},get mounted(){return S(ha)},update(ia){return this.lifecycle.update.inform('options',ia,this.options,this,ha),fa(ia,ha)},observeAttr(ia,ja,ka){return this.lifecycle.attr.handle(!!ka,(la,...ma)=>ia===la&&ja(la,...ma))}}),da='create mount destroy update attr'.split(' '),ea=(ha,ia)=>{return ia=ha[ia],(ja,ka)=>{let la;const ma=ia(ka);q(ja)?la=ma(ja):ja.isInformer&&(la=ma(na=>ja.inform(na,la,ja)))}},fa=(ha,ia,ja)=>{D(ia)||(ia=r(ia)?O(ia):f.createElement(ja));let ka=ia.dm||(ia.dm=ca(ia)),{attr:ma={},lifecycle:la}=ha;if(ia.isInput=F(ia),!ka.lifecycle){ka.lifecycle={};for(let na of da){const oa=ka.lifecycle[na]=V();la&&q(la[na])&&oa.handle('update'==na,(...pa)=>la[na].apply(ka,pa))}}if(!ka.plugged){L(ka,ba.methods);for(let na of ba.handles)na(ha,ka,ia);ka.plugged=!0}for(let na in ka.options=ha){let oa=ha[na];'class'==na?ia.className=oa:'children'==na?!C(oa)&&ka.inner(q(oa)?oa(ka,ia):oa):'style'==na?ka.css(oa):'on'==na||'once'==na?I(oa,ea(ka,na)):'props'==na&&z(oa)?L(ka,oa):!(na in ba.methods||'tag'==na)&&(na in ia?ia[na]=oa:x(oa)&&(ma[na]=oa))}return C(ma)||ka.setAttr(ma),ka.mounted||ka.lifecycle.create.inform(ka,ia),ka},ga=(ha,ia,...ja)=>{return z(ia)?ia.children=ia.children?[ia.children,ja]:ja:ia={children:B(ia)||x(ia)?ia:ja||g},D(ha)?fa(ia,ha):fa(ia,null,ha)};return(ga.extend=L(ga))({query:O,queryAll:P,queryEach:(ha,ia,ja=f)=>{q(ia)||(ia=ja,ja=f),I(P(ha,ja),ia)},on:X,once:Y,actualize:fa,html:_}),I('picture img input list a script strong table td th tr article aside ul ol li h1 h2 h3 h4 h5 h6 div span pre code section button br label header i style nav menu main menuitem template'.split(' '),ha=>ga[ha]=ga.bind(null,ha)),new MutationObserver(ha=>{for(let ia of ha){const{removedNodes:ja,addedNodes:ka,target:la,attributeName:ma}=ia;let na;if(0<ja.length)for(na of ja)na.dm&&na.dm.lifecycle.destroy.inform(na.dm,na);if(0<ka.length)for(na of ka)na.dm&&na.dm.lifecycle.mount.inform(na.dm,na);if('style'!=ma&&(na=la.dm)&&na.lifecycle.attr.inform(ma,na.getAttr(ma),ia.oldValue,na.hasAttr(ma),na),0<ba.muthandles.size)for(let oa of ba.muthandles)oa(la,ia.type,ia)}}).observe(f,{attributes:!0,childList:!0,subtree:!0}),{dom:ga,informer:V,EventManager:U,plugins:ba,extend:L,safeExtend:M,def:J,getdesc:K,render:(...ha)=>ia=>$(()=>{p(ia)?r(ia)&&(ia=O(ia)):ia=f.body,D(ia)||R('rot.render: render-to node'),I(N(ha),ja=>{H(ja)||B(ja)?I(ja,ka=>ia.appendChild(D(ka)?ka:ka.node)):ia.appendChild(D(ja)?ja:ja.node)})}),run:$,curry:b,each:I,DOMcontains:S,flatten:N,isDef:p,isUndef:ha=>ha===g,isPrimitive:x,isNativeEvent:ha=>T.includes(ha),isNull:ha=>null===ha,isFunc:q,isStr:r,isBool:u,isNum:w,isInt:y,isObj:z,isArr:A,isArrlike:B,isEmpty:C,isEl:E,isEq:ha=>ia=>ha===ia,isNode:D,isNodeList:ha=>ha instanceof NodeList||B(ha)&&k(ha,D),isInput:F,isMap:G,isSet:H,get ready(){return'complete'!=f.readyState}}});
