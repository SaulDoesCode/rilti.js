{const{each:a}=rilti;rilti.model=(b)=>{const c=new Map,d=rilti.notifier({sync(a,e,f=e){return c.has(a)||c.set(a,new Map),c.get(a).set(e,d.on('set:'+e,(b)=>a[f]=b)),a[f]=b[e],a},unsync(a,b){if(c.has(a)){const d=c.get(a);d.has(b)&&d.get(b).off(),d.delete(b),d.size||c.delete(a)}return a},update(b){a(b,(a,b)=>d[b]=a)}});return a(Object.keys(b),(a)=>{Object.defineProperty(d,a,{get(){return d.emit('get:'+a),b[a]},set(c){d.emit('set:'+a,b[a]=c)}})}),d}}
