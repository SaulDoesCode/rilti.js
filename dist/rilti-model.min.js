{const{each:a}=rilti;rilti.model=(a)=>{const b=new Map,c=rilti.notifier({sync(d,e,f=e){return b.has(d)||b.set(d,new Map),b.get(d).set(e,c.on('set:'+e,(a)=>d[f]=a)),d[f]=a[e],d},unsync(a,c){if(b.has(a)){const d=b.get(a);d.has(c)&&d.get(c).off(),d.delete(c),d.size||b.delete(a)}return a},update(a){for(const[b,d]of a)c[d]=b}});return Object.keys(a).forEach((b)=>{Object.defineProperty(c,b,{get(){return c.emit('get:'+b),a[b]},set(d){c.emit('set:'+b,a[b]=d)}})}),c}}
