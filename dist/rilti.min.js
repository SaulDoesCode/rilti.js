var rilti=(()=>{'use strict';const a=document,b=window,c=void 0,d=null,e='forEach',f=(a,b=a.length,c=(...d)=>(...e)=>(e.length+d.length>=b?a:c)(...d.concat(e)))=>c(),g=(...a)=>(b)=>a.some((a)=>b==a||n(a)&&a(b)),h=(a,b,...c)=>Array.prototype[a].apply(b,c),j=h.bind(d,e),i=(a)=>(b)=>-1!==toString.call(b).indexOf(a),k=(a,b)=>a instanceof b,l=(a)=>a!==c&&a!==d,m=(a)=>a===c||a===d,n=(a)=>'function'==typeof a,o=(a)=>'string'==typeof a,p=(a)=>!0===a||!1===a,q=(a)=>!p(a)&&!isNaN(+a),r=(a)=>o(a)||p(a)||!isNaN(a),s=(a)=>q(a)&&0==a%1,t=i('Object'),u=i('Iterator'),v=Array.isArray,w=(a)=>a&&'undefined'!=typeof a.length,x=(a)=>m(a)||n(a)||(t(a)?!Object.keys(a).length:w(a)?!a.length:!a.size),y=(a)=>a&&k(a,Node),z=i('HTML'),A=i('Map'),B=i('Set'),C=f((a,...b)=>b.every(n(a)?(b)=>a(b):(b)=>a===b),2),D=(a,b,c,d=60,e=0)=>{const f=()=>{for(const c=Math.min(e+d,a);e<c;)b(e),++e;e<a?setTimeout(f,0):c&&c()};f()},E=(a,b,c=0)=>{if(!x(a)){if(a[e]?a[e](b):w(a)&&j(a,b),t(a))for(c in a)b(a[c],c,a);}else if(s(a))D(a,b);else if(a&&(a.entries||u(a)))for(let[c,d]of a)b(c,d,a);return a},F=Object.defineProperty,G=Object.getOwnPropertyDescriptor,H=(a,b,c=!1)=>(!x(b)&&E(Object.keys(b),(d)=>(!c||c&&!(d in a))&&F(a,d,G(b,d))),a),I=(a)=>w(a)?h('reduce',a,(a,b)=>a.concat(v(b)?I(b):b),[]):[a],J=(a,b)=>(...c)=>a(b(...c)),K=(a)=>(b,...c)=>'function'==typeof b?K(b(a,...c)):!0===b?K(c.shift()(a,...c)):c.length||b?K(a):a,L=(b,c=a)=>(o(c)?a.querySelector(c):c).querySelector(b),M=(b,c=a)=>Array.from((o(c)?L(c):c).querySelectorAll(b)),N=(b,c,d=a)=>(!n(c)&&([c,d]=[d,a]),E(M(b,d),c)),O=(b,c=a)=>c==b||!!(16&c.compareDocumentPosition(b)),P=(a)=>new CustomEvent(a),Q=P('mount'),R=P('destroy'),S=P('create'),T=new Map,U=f((a,b,c,d,e=!1)=>{if(o(b)&&(b=L(b)),!b.addEventListener)throw new TypeError('bad event target');y(b)&&!T.has(b)&&(T.set(b,new Set),U('once',b,'destroy',()=>T.delete(b)));let f='once'===a;const g=(a)=>{d.call(b,a,b),f&&h()},h=()=>{b.removeEventListener(c,g),T.has(b)&&T.get(b).delete(j)},i=(a)=>{f=!!a,h(),b.addEventListener(c,g,e),T.has(b)&&T.get(b).add(j)},j={reseat(b,f){return f&&h(),U(a,b,c,d,e)},on:()=>(i(),j),once:()=>(i(!0),j),off:()=>(h(),j)};return i(f),j},4),V=U('once'),W=U('on'),X=(a,b,c)=>(a.has(b)&&!a.get(b).delete(c).size&&a.delete(b),c),Y=(a,b,c)=>((a.has(b)?a:a.set(b,new Set)).get(b).add(c),c),Z=(a,b=!1)=>(c,d)=>{return d.one=b,d.type=c,d.off=()=>X(a,c,d),d.on=()=>Y(a,c,d.off()),d.once=()=>(!0===d.one,d.on()),Y(a,c,d)},$=(a={})=>{const b=new Map;return a.on=Z(b),a.once=Z(b,!0),a.off=f(X)(b),a.hastype=(a)=>b.has(n(a)?a.type:a),a.emit=(c,...d)=>{return b.has(c)&&b.get(c).forEach((a)=>{a(...d),a.one&&a.off()}),a},a},_=$((a,c)=>{return _.active||(W(b,'hashchange',()=>{const a=location.hash;_.emit(_.hastype(a)?a:'default',a)}),_.active=!0),n(a)&&([c,a]=[a,'default']),'default'===a||a.includes('#/')||(a='#/'+a),(location.hash===a||'default'===a)&&c(location.hash),_.on(a,c)});let aa=new Set,ba=!1;V(b,'DOMContentLoaded',()=>{ba=!0,E(aa,(a)=>a()),aa=d});const ca=(a)=>ba?a():aa.add(a),da=(b)=>{return b=y(b)?b:a.createRange().createContextualFragment(b||''),b.isCreated||b.isConnected&&!b.isMounted||b.dispatchEvent(S),b.isMounted||ca(()=>{(a.contains(b)||b.isConnected)&&!b.isMounted&&b.dispatchEvent(Q)}),b},ea=(b)=>r(b)?da(b):a.createDocumentFragment(),fa=(a)=>{if(1==(a=I(a)).length)return da(a[0]);const b=ea();return E(a,(a)=>b.appendChild(da(a))),b},ga=(a)=>o(a)?L(a):a,ha={replace:(a,b)=>a.replaceWith?a.replaceWith(b):a.parentNode.replaceChild(b,a),clone(a){const b=a.cloneNode();return T.has(a)&&E(T.get(a),(a)=>a.reseat(b)),E(a.childNodes,(a)=>b.appendChild(ha.clone(a))),b},css:f((a,b,c)=>(t(b)?E(b,(b,c)=>a.style[c]=b):C(o,b,c)&&(a.style[b]=c),a),2),Class:f((a,b,c)=>{return l(c)||(c=!a.classList.contains(b)),c=c?'add':'remove',-1===b.indexOf(' ')?a.classList[c](b):E(b.split(' '),(b)=>a.classList[c](b)),a},2),hasClass:f((a,b)=>a.classList.contains(b)),attr:f((b,a,c)=>{if(b.attributes)if(t(a))E(a,(c,d)=>{b.setAttribute(d,c),oa(d,b)});else if(o(a))if(r(c))b.setAttribute(a,c);else return b.getAttribute(a);return b},2),removeAttr:(a,b)=>(a.removeAttribute(b),a),hasAttr:(a,b)=>a.hasAttribute(b),getAttr:(a,b)=>a.getAttribute(b),setAttr:(a,b,c='')=>b(a,b,c),attrToggle:f((a,b,c=!a.hasAttribute(b),d=a.getAttribute(b)||'')=>(a[c?'setAttribute':'removeAttribute'](b,d),a),2),inner:(a,...b)=>(a.innerHTML='',ia(a,b)),emit:f((a,b,c)=>(a.dispatchEvent(o(b)?new CustomEvent(b,{detail:c}):b),a),2),append:f((a,...b)=>(a.appendChild(fa(b)),a),2),prepend:f((a,...b)=>(a.prepend(fa(b)),a),2),appendTo:f((a,b)=>(ga(b).appendChild(a),a)),prependTo:f((a,b)=>(ga(b).prepend(a),a)),remove:(a,b)=>(q(b)?setTimeout(()=>a.remove(),b):a.remove(),a)},{append:ia,emit:ja,attr:ka}=ha,la=f((b,c='body')=>{y(c)&&ia(c,b),o(c)&&('head'==c?ia(a.head,b):ca(()=>y(c='body'==c?a[c]:L(c))&&ia(c,b)))},2),ma=new Map,na=(a,b)=>(a[b+'_init']=!0,a),oa=(a,b,c)=>{if(ma.has(a)){const d=b.getAttribute(a),e=ma.get(a);r(d)?b[a+'_init']?e.update&&d!=c&&e.update(b,d,c):e.init(na(b,a),d):e.destroy&&e.destroy(b,d,c)}},pa=(b,c)=>b.isConnected||a.contains(b)||y(c)&&O(b,c),qa=g(y,o,w),ra=f((b,c,...d)=>{const e=a.createElement(b);if(qa(c)?x(d)?ia(e,c):ia(e,c,d):!x(d)&&ia(e,d),t(c)){for(const a in c){const b=c[a];'class'==a||'className'==a?e.className=b:'css'==a&&e.style?ha.css(e,b):'on'==a||'once'==a?E(b,(b,c)=>U(a,e,c,b)):'attr'==a?ka(e,b):'action'==a?e.action=W(e,'click',b):a in e||r(b)?e[a]=b:t(b)&&('lifecycle'==a?E(b,(a,b)=>{n(a)&&('create'===b?V:W)(e,b,a.bind(e,e))}):H(e,b))}c.render&&(c.render.appendChild?c.render.appendChild(e):la(e,c.render))}return e.dispatchEvent(S),pa(e,c.render)&&e.dispatchEvent(Q),e},2),sa=new Proxy(H((b,c=a)=>y(b)?b:L(b,c),{create:ra,query:L,queryAll:M,queryEach:N,on:W,once:V,html:da,domfrag:ea}),{get:(a,b)=>b in a?a[b]:ra(b),set:(a,b,c)=>a[b]=c}),ta=(b,c)=>0<b.length&&j(b,(b)=>{b.isConnected||a.contains(b)||b.dispatchEvent(c)});return new MutationObserver((a)=>E(a,({addedNodes:a,removedNodes:b,target:c,attributeName:d,oldValue:e})=>{ta(a,Q),ta(b,R),d&&'style'!==d&&ma.has(d)&&oa(d,c,e)})).observe(a,{attributes:!0,childList:!0,subtree:!0}),{dom:sa,domfn:ha,notifier:$,pipe:K,compose:(...a)=>a.reduce(J),composeTest:g,yieldloop:D,debounce:(a,b,c)=>{let d;return(...e)=>{const f=c&&!d;clearTimeout(d),d=setTimeout(()=>{d=null,c||a(...e)},b),f&&a(...e)}},watchAttr:(a,b)=>{ma.set(a,b),ca(()=>N(`[${a}]`,(c)=>b.init(na(c,a),c.getAttribute(a))))},unwatchAttr:(a)=>ma.delete(a),repeater:(a,b,c,d,e={stop:()=>(clearInterval(d),e),start(){return d=setInterval(b,a),y(c)&&e.destroySync(c),e},destroySync:(a)=>V(a,'destroy',e.stop)})=>e.start(),extend:H,route:_,render:la,run:ca,curry:f,each:E,DOMcontains:O,flatten:I,isDef:l,isUndef:m,isPrimitive:r,isNull:(a)=>a===d,isFunc:n,isStr:o,isBool:p,isNum:q,isInt:s,isIterator:u,isObj:t,isArr:v,isArrlike:w,isEmpty:x,isEl:z,isEq:C,isNode:y,isNodeList:(a)=>k(a,NodeList)||w(a)&&h('every',a,y),isInput:(a)=>z(a)&&-1!=='INPUT TEXTAREA'.indexOf(a.tagName),isMap:A,isSet:B}})();
