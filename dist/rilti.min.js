var rilti=((a)=>{'use strict';const b=document,c=void 0,e=null,d='forEach',f=(a,b=a.length,c=(...d)=>(...e)=>(e.length+d.length>=b?a:c)(...d.concat(e)))=>c(),g=f((a,b,...c)=>Array.prototype[a].apply(b,c),2),h=(a,b)=>a instanceof b,i=toString.call,j=(a)=>(b)=>typeof b==a,k=(a)=>(b)=>toString.call(b).includes(a),l=j('function'),m=j('string'),n=j('boolean'),o=(a)=>!n(a)&&!isNaN(+a),p=(a)=>m(a)||n(a)||!isNaN(a),q=(a)=>o(a)&&0==a%1,r=k('Object'),s=Array.isArray,t=(a)=>a&&'undefined'!=typeof a.length,u=(a)=>a==c||a==e||l(a)||(r(a)?!Object.keys(a).length:t(a)?!a.length:!a.size),v=(a)=>a&&(h(a,Node)||h(a.pure,Node)),w=k('HTML'),x=(a)=>w(a)&&'INPUT TEXTAREA'.includes(a.tagName),y=k('Map'),z=k('Set'),A=f((a,...b)=>b.every(l(a)?(b)=>a(b):(b)=>a===b),2),B=(a,...b)=>b.some((b)=>a==b||l(b)&&b(a)),C=(a,b,c=0)=>{if(!u(a)){if(a[d]?a[d](b):t(a)&&g(d,a,b),r(a)){const d=Object.keys(a),e=d.length;for(;c<e;)b(a[d[c]],d[c],a),c++}}else if(q(a))for(;a!=c;)b(c++);return a},D=f(Object.defineProperty),E=Object.getOwnPropertyDescriptor,F=f((a,b)=>(C(Object.keys(b),(c)=>D(a,c,E(b,c))),a)),G=(a,b)=>(C(Object.keys(b),(c)=>!(c in a)&&D(a,c,E(b,c))),a),H=(a,b)=>{if(!u(b)){let c;C(b,(d)=>{return c=E(b,d),v(a.pure)?(c.get&&a.getter(d,c.get),c.set&&a.setter(d,c.get),void(c.value&&(a[d]=c.value))):void(c.get&&(c.get=c.get.bind(a)),c.set&&(c.set=c.set.bind(a)),l(c.value)&&(c.value=c.value.bind(a)),D(a,d,c))})}},I=(a)=>t(a)?g('reduce',a,(a,b)=>a.concat(s(b)?I(b):b),[]):[a],J=(a,c=b)=>(m(c)?b.querySelector(c):c).querySelector(a),K=(a,c=b)=>Array.from((m(c)?J(c):c).querySelectorAll(a)),L=(a,c,d=b)=>(!l(c)&&([c,d]=[d,b]),C(K(a,d),c)),M=(a,c=b)=>c==a||!!(16&c.compareDocumentPosition(a)),N=(a)=>{throw new TypeError(a)},O=(a)=>{throw new Error(a)},P=f((a,b,c,d,e=!1,f)=>{function g(a){d.call(b,a,b),f&&b.removeEventListener(c,g)}B(b,v,m)&&(b=ga(b)),b.addEventListener||O('bad event target');const h=()=>{b.removeEventListener(c,g),b.eventListeners&&b.eventListeners.delete(j)},i=(a)=>{f=!!a,h(),b.addEventListener(c,g,e),b.eventListeners&&b.eventListeners.add(j)},j={reseat(b,g){return g&&h(),P(a,b,c,d,e,f)},on:()=>(i(),j),once:()=>(i(!0),j),off:()=>(h(),j)};return j[a]()},4),Q=P('once'),R=P('on'),S=(a,b,c,d,e)=>{return d.one=!!e,d.type=c,d.off=()=>(b.off(c,d),d),(a.has(c)?a:a.set(c,new Set)).get(c).add(d),d},T=(a={},b=new Map)=>F(a,{on:(c,d)=>S(b,a,c,d),once:(c,d)=>S(b,a,c,d,!0),off:(c,d)=>(b.has(c)&&!b.get(c).delete(d).size&&b.delete(c),a),has:(a)=>b.has(a),emit:(c,...d)=>(C(b.get(c),(a)=>{a(...d),a.one&&a.off()}),a)}),U=T((b,c)=>{return U.active||(U.active=!0,R(a,'hashchange',()=>U.emit(U.has(location.hash)?location.hash:'default',location.hash))),l(b)&&([c,b]=[b,'default']),location.hash!=b&&(location.hash||'default'!=b)||c(),U.on(b,c)}),V=['create','mount','destroy','attr'],W=(a)=>la?a():ka.push(a),X=(a)=>a.pure?a.pure:v(a)?a:b.createRange().createContextualFragment(a||''),Y=(a)=>p(a)?X(a):b.createDocumentFragment(),Z=(a,b=Y())=>(C(I(a),(a)=>b.appendChild(X(a))),b),$=(a)=>m(a)?J(a):a,_={replace:(a,b,c)=>a.replaceWith?a.replaceWith(c):a.parentNode.replaceChild(c,a),clone(a,b){const c=ga(a.cloneNode());return C(b.eventListeners,(a)=>a.reseat(c)),C(b.setters,(a,b)=>c.setters.set(b,a)),C(b.getters,(a,b)=>c.getters.set(b,a)),C(b.methods,(a,b)=>c.methods.set(b,a)),C(b.data,(a,b)=>c.methods.set(b,a)),C(b.childNodes,(a)=>c.append(a=_.clone(a.pure,a))),c},css:(a,b,c,d)=>(r(c)?C(c,(b,c)=>a.style[c]=b):A(m,c,d)?a.style[c]=d:N('"" or {} only)'),b),attrToggle:(a,b,c,d=!a.hasAttribute(c))=>(a[d?'setAttribute':'removeAttribute'](c,''),b),inner(a,b,...c){return b.html='',C(I(c),(c)=>{c.appendTo?(!b.children.includes(c)&&c.$emit('mount',c),c.appendTo(a)):(l(c)&&(c=c.call(b,b)),b.append(c))}),b},setter:(a,b,c,d)=>(l(d)&&b.setters.set(c,d.bind(b)),b),getter:(a,b,c,d)=>(l(d)&&b.getters.set(c,d.bind(b)),b),append:(a,b,...c)=>(a.appendChild(Z(c)),b),prepend:(a,b,...c)=>(a.prepend(Z(c)),b),appendTo:(a,b,c)=>($(c).appendChild(a),b),prependTo:(a,b,c)=>($(c).prepend(a),b),remove:(a,b,c)=>(o(c)?setTimeout(()=>a.remove(),c):a.remove(),b),find:(a,b,c)=>ga(J(c,a))},aa=(...a)=>(c='body')=>{v(c)&&_.append(c,e,a),m(c)&&('head'==c?_.append(b.head,e,a):W(()=>v(c=ga('body'==c?b[c]:c))?c.append(a):O('render: invalid target')))},ba=F((a)=>G(rilti,a),{method(a,b){l(b)&&(_[a]=b)},handles:new Set}),ca=new Map,da=(a,b)=>(a[b+'_init']=!0,a),ea=(a,b,c)=>{if(ca.has(a)){const d=b.getAttribute(a),e=ca.get(a);p(d)?b[a+'_init']?e.update&&d!=c&&e.update(b,d,c):e.init(da(b,a),d):e.destroy&&e.destroy(b,d,c)}},fa=new Map,ga=new Proxy((b,a)=>{if(m(b)&&(b=J(b,a)),!b||b.pure)return b;if(fa.has(b))return fa.get(b);if(v(b)){const a=new Proxy((a,c)=>r(a)?C(a,(c,d)=>{b.setAttribute(d,c),ea(d,b)}):p(c)?b.setAttribute(a,c):b.getAttribute(a),{get:(a,c)=>'has'==c?(a)=>b.hasAttribute(a):b.getAttribute(c),set:(a,b,c)=>!a(b,c),deleteProperty:(a,c)=>!b.removeAttribute(c)}),d=new Proxy((a,c=!b.classList.contains(a))=>{return c=c?'add':'remove',a.includes(' ')?C(a.split(' '),(a)=>b.classList[c](a)):b.classList[c](a),t},{get:(a,c)=>b.classList.contains(c),set:(a,b,c)=>a(b,c),deleteProperty:(a,b)=>a(b,!1)}),e=(a)=>new Proxy(P(a,b),{get:(a,b)=>a(b)}),f=(a)=>l(a)?a.bind(b):a,h=new Set,i=new Map,j=new Map,k=new Map,n=T(new Map),o=n.set('isInput',x(b)).get('isInput'),q=o?'value':'innerHTML',s=o?'value':'textContent',t=new Proxy(b,{get(c,l){return m(l)&&n.emit('get',l).emit('get:'+l),l in _?_[l].bind(c,c,t):'class'==l?d:'attr'==l?a:'pure'==l?c:B(l,'on','once')?e(l):B(l,'$on','$once','$emit')?n[l.slice(1)]:'html'==l?c[q]:'txt'==l?c[s]:'eventListeners'==l?h:'getters'==l?i:'setters'==l?j:'methods'==l?k:'data'==l?n:i.has(l)?i.get(l).call(t):k.has(l)?k.get(l).bind(t):'children'==l?g('map',c.children,(a)=>ga(a)):'childNodes'==l?g('map',c.childNodes,(a)=>ga(a)):'parent'==l?ga(b.parentNode):l in c?f(Reflect.get(c,l)):'mounted'==l?M(b):'rect'==l?c.getBoundingClientRect():n.get(l)},set(b,e,f){return f!=c&&('class'==e&&m(f)?d(f,!0):B(e,'html','txt')?b['txt'==e?s:q]=l(f)?f(t[e]):f:'render'==e&&B(f,v,m)?aa(b)(f):'css'==e?prox.css(f):'attr'==e?a(f):j.has(e)?j.get(e).call(t,f):e in b?Reflect.set(b,e,f):l(f)?k.set(e,f.bind(t)):p(f)&&n.set(e,f),m(f)&&!B(e,'txt','html','attr')&&n.emit('set',f).emit('set:'+e,f)),!0},deleteProperty(a,b){return'self'==b?a.remove():n.has(b)?n.delete(b):i.has(b)?i.delete(b):j.has(b)?j.delete(b):k.has(b)?k.delete(b):J(b,a).remove(),!0}});return n.once('destroy',()=>{b.isDestroyed=!0,fa.delete(b.pure)}),fa.set(b,t),t}},{get:(a,b)=>b in a?Reflect.get(a,b):ha.bind(e,b),set:(a,b)=>Reflect.set(a,b)}),ha=(a,c,...d)=>{const e=ga(b.createElement(a));return B(c,t,v)?d=B(c,m,v)?[c,...d]:c:r(c)&&(C(c,(a,b)=>{'render'!=b&&('lifecycle'==b?C(V,(b)=>l(a[b])&&e['create'==b?'$once':'$on'](b,a[b].bind(e))):'attr'==b?e.attr(a):B(b,'class','className')?e.className=a:B(b,'style','css')?e.css(a):B(b,'on','once')?C(a,(a,c)=>e[b](c,a)):B(b,'props','data')&&r(a)?H(e,a):l(a)||b in e?e[b]=a:p(a)&&e.attr(b,a))}),C(ba.handles,(a)=>a(c,e))),u(d)||e.inner(...d),e.isComponent||e.mounted||e.$emit('create',e),c&&c.render&&aa(e)(c.render),e},ia=(a,b)=>{if(0<a.length)for(let c of a)w(c)&&!c.isComponent&&fa.has(c)&&ga(c).$emit(b,c)},ja=f((a,c,d)=>{p(c)&&(d.data[a]=c);const e=b.createTextNode(d.data[a]),f=d.$on('set:'+a,(a)=>e.textContent=a);return d.$once('destroy',f.off),d.$once('stop:'+a,f.off),e});let ka=[],la=!1;return Q(a,'DOMContentLoaded',()=>{la=!0,C(ka,(a)=>a()),ka=e}),(ga.extend=F(ga))({query:J,queryAll:K,queryEach:L,on:R,once:Q,html:X,txtBind:ja}),new MutationObserver((a)=>C(a,({addedNodes:a,removedNodes:b,target:c,attributeName:d,oldValue:e})=>{ia(a,'mount'),ia(b,'destroy'),d&&'style'!=d&&fa.has(c)&&(ea(d,c=ga(c),e),c.$emit('attr:'+d,c,c.attr[d],e))})).observe(b,{attributes:!0,childList:!0,subtree:!0}),{dom:ga,notifier:T,observeAttr:(a,b)=>{let{init:c,update:d,destroy:e}=b;ca.set(a,b),W(()=>L(`[${a}]`,(b)=>c(da(b=ga(b),a),b.attr[a])))},unobserveAttr:(a)=>ca.delete(a),plugins:ba,intervalManager:(a,b,c,d,e={stop:()=>(clearInterval(d),e),start(){return d=setInterval(b,a),v(c)&&e.destroySync(ga(c)),e},destroySync:(a)=>a.$once('destroy',()=>e.stop())})=>e.start(),extend:F,safeExtend:G,reseat:H,def:D,getdesc:E,route:U,render:aa,run:W,curry:f,each:C,DOMcontains:M,flatten:I,isDef:(a)=>a!==c,isUndef:(a)=>a===c,isPrimitive:p,isNull:(a)=>a===e,isFunc:l,isStr:m,isBool:n,isNum:o,isInt:q,isObj:r,isArr:s,isArrlike:t,isEmpty:u,isEl:w,isEq:A,isNode:v,isNodeList:(a)=>h(a,NodeList)||t(a)&&g('every',a,v),isInput:x,isMap:y,isSet:z}})(window);
