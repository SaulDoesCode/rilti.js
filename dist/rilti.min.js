{const{assign:a,keys:b,defineProperty:c,getOwnPropertyDescriptor:d}=Object,e=window,f=document,g=void 0,h=null,i=(a)=>(...b)=>new a(...b),j=i(Map),k=i(Set),l=i(Proxy),m=i(Promise),n=(a,b=a.length,c=(...d)=>(...e)=>(e.length+d.length>=b?a:c)(...d.concat(e)))=>c(),{isArray:o,prototype:p}=Array,q=n((a,b)=>a===b||u(b)&&b(a)),r=(a)=>(...b)=>(c)=>b[a](q(c)),s=r('some'),t=r('every'),u=(a)=>a&&a instanceof Function,v=(a)=>a&&a.constructor===Object,w=(a)=>a&&a.constructor===Promise,x=(a)=>!0===a||!1===a,y=(a)=>a!==g&&a!==h,z=(a)=>a===g||a===h,A=(a)=>'number'==typeof a,B=(a)=>'string'==typeof a,C=s(B,x,A),D=(a)=>a&&a.toString().includes('Iterator'),E=(a)=>A(a)&&0==a%1,F=(a)=>a&&!u(a)&&0==a.length%1,G=(a)=>!a||!((v(a)?b(a):A(a.length)&&a).length||a.size),H=(a)=>a&&a instanceof Element,I=(a)=>a&&a instanceof Node,J=(a)=>a&&a instanceof RegExp,K=s(I,F,C),L=console.error.bind(console),M=(a={},e,f=!1,g=b(e))=>(g.length&&Q(g,(b)=>{f&&(!f||b in a)||c(a,b,d(e,b))}),a),N=async(a,...b)=>(await new Promise((b)=>b(a)))(...b),O=(b,c=1e3,d)=>a(b,{ms:c,start(){return d=setTimeout(()=>b(),b.ms),b},stop(a=!1){return a&&b(),clearTimeout(d),b}}),P=(a,b,c,d=~~(a/10)||1,e=-1,f=()=>{for(const c=Math.min(e+d,a);e<c;)b(++e);e<a?N(f):u(c)&&c()})=>f(),Q=(a,b)=>{if(!z(a)){if(a.forEach)a.forEach(b);else if(F(a))p.forEach.call(a,b);else if(v(a))for(const c in a)b(a[c],c,a);else if(E(a))P(a,b);else if(a.entries||D(a))for(const[c,d]of a)b(c,d,a);return a}},R=(a,b)=>a.concat(o(b)?S(b):b),S=(a)=>F(a)?p.reduce.call(a,R,[]):[a],T=(a,b=f)=>I(a)?a:T(b).querySelector(a),U=(a,b=f)=>Array.from(T(b).querySelectorAll(a)),V=(a,b,c=f)=>(u(b)||([b,c]=[c,f]),Q(U(a,c),b)),W=(a,b=f)=>b===a||!!(16&b.compareDocumentPosition(a)),X=(a=new Map)=>Object.assign((b,c)=>y(c)?(a.has(b)?a:a.set(b,new Set)).get(b).add(c):a.get(b),{map:a,del(b,c){a.has(b)&&1>a.get(b).delete(c).size&&a.delete(b)},has(b,c){const d=a.get(b);return y(c)?d&&d.has(c):!!d},each(b,c){a.has(b)&&a.get(b).forEach(c)}}),Y=(a,b=!0)=>l(a,{get(c,d){return b&&Reflect.has(a,d)?Reflect.get(a,d):a.bind(g,d)}}),Z=(a={})=>{const b=X(),c=(a,b)=>Q(a,(c,e)=>{a[e]=d(b,e,c)}),d=(a,d,e=!1)=>{if(v(a))return c(a,e);const f=(...a)=>d(...a),g=(c)=>(b.del(a,f),f.once=c,b(a,f),f);return f.off=()=>(b.del(a,f),f),f.on=()=>g(!1),f.once=()=>g(!0),g(e)},e=Y((a,b)=>d(a,b)),f=Y((a,b)=>d(a,b,!0)),g=Y((a,...c)=>{b.each(a,(a)=>{N(a,...c),a.once&&a.off()})},!1);return M(a,{emit:g,on:e,once:f,listen:d,listeners:b})},$=(a,b={})=>(Q(a,(a,c)=>{b[c]=a}),JSON.stringify(b)),_=n((a,b,c,d,e=!1)=>{if(B(b)&&(b=T(b)),!b.addEventListener)return L('EventManager: target invalid');if(v(c))return Q(c,(c,d)=>_(a,b,d,c,e));if(!u(d))return _.bind(g,a,b,c);d=d.bind(b);const f=(c)=>{d(c,b),a&&h()},h=()=>(b.removeEventListener(c,f),j),i=(d)=>(a=!!d,b.addEventListener(c,f,e),j),j={handler:f,type:c,reseat(b,f){return f&&h(),_(a,b,c,d,e)},on:i,once:()=>i(!0),off:()=>h()};return i(a)},3),aa={get:(a,b)=>(c,d,e=!1)=>a(c,b,d,e)},ba=l(_(!0),aa),ca=l(_(!1),aa),da=Z((a,b)=>(da.active||(ca.hashchange(e,()=>{const a=location.hash;da.emit(da.listeners.has(a)?a:'default',a)}),da.active=!0),u(a)&&([b,a]=[a,'default']),'default'===a||a.includes('#/')||(a='#/'+a),(location.hash===a||'default'===a)&&b(location.hash),da.on(a,b))),ea=()=>'complete'===f.readyState||I(f.body),fa=k();ba.DOMContentLoaded(e,()=>Q(fa,(a)=>N(a)).clear());const ga=(a)=>ea()?N(a):fa.add(a),ha=(a)=>u(a)?ha(a()):I(a)?a:f.createRange().createContextualFragment(a),ia=(a)=>C(a)?ha(a):f.createDocumentFragment(),ja=(a,b,c)=>(a.dispatchEvent(B(b)?new CustomEvent(b,{detail:c}):b),a),ka=(a,b=ia())=>(Q(S(a),(a)=>{const c=ha(a);b.appendChild(c),va(c)}),b),la={replace(a,b){return a.replaceWith(b),b},css:n((a,b,c)=>(v(b)?Q(b,(b,c)=>{a.style[c]=b}):B(c)&&(a.style[b]=c),a),2),Class:n((a,b,c=!a.classList.contains(b))=>{if(!v(b)){const d=c?'add':'remove';b.includes(' ')?Q(b.split(' '),(b)=>a.classList[d](b)):a.classList[d](b)}else Q(b,(b,c)=>a.classList[b?'add':'remove'](c));return a},2),hasClass:n((a,b)=>a.classList.contains(b)),attr:n((b,a,c)=>{if(!b.attributes)return b;if(v(a))Q(a,(c,d)=>{b.setAttribute(d,c)});else if(B(a)){if(!C(c))return b.getAttribute(a);b.setAttribute(a,c)}return b},2),rmAttr(a,b){return a.removeAttribute(b),a},hasAttr:(a,b)=>a.hasAttribute(b),getAttr:(a,b)=>a.getAttribute(b),setAttr:(a,b,c='')=>a.setAttribute(b,c),attrToggle:n((a,b,c=!a.hasAttribute(b),d=a.getAttribute(b)||c)=>(a[c?'setAttribute':'removeAttribute'](b,d),a),2),emit:ja,append:n((a,...b)=>(Aa(a).then((a)=>a.appendChild(ka(b))),a),2),prepend:n((a,...b)=>(Aa(a).then((a)=>a.prepend(ka(b))),a),2),appendTo:n((a,b)=>(Aa(b).then((b)=>b.appendChild(a)),a)),prependTo:n((a,b)=>(Aa(b).then((b)=>b.prepend(a)),a)),remove(a,b){return E(b)?O(()=>W(a)&&a.remove(),b).start():(W(a)&&a.remove(),a)},removeNodes:(...a)=>Q(a,(a)=>W(a)&&a.remove())},ma=(a)=>(a.tagName||'').toLowerCase(),na=(a)=>pa.has(ma(a)),oa=(a,b,c)=>{const d=ma(a),e=pa.get(d);return e?b(e,d):c&&c(a,d)},pa=j(),qa=(a,c,d,e=pa.get(a))=>{if(e){const{create:a,mount:f,destroy:g,props:h,methods:i,attr:j}=e;if(!c.Created){if(h){const a={};Q(b(h),(b)=>{const d=c[b];z(d)||(a[b]=d)}),M(c,h),G(a)||ba.create(c,()=>{Q(a,(a,b)=>{c[b]=a})})}i&&M(c,i),c.Created=!0,a&&a(c),ja(c,'create')}return c.Mounted||'mount'!==d?'destroy'===d&&(c.Mounted=!1,ja(c,d),g&&g(c)):(j&&Q(j,(a,b)=>{c.hasAttribute(b)&&ra(b,c,a)}),c.Mounted=!0,ja(c,d),f&&f(c)),c}},ra=(a,b,{init:c,update:d,destroy:e},f,g=b.getAttribute(a))=>{const h=a+'_init',i=b.hasAttribute(a);C(g)?i&&!b[h]?(b[h]=!0,c&&c(b,g)):d&&g!==f&&d(b,g,f):!i&&(b[h]=!1,e&&e(b,g,f))},sa=j(),ta=(a,b,c)=>sa.has(a)?ra(a,b,sa.get(a),c):void oa(b,(d)=>{d.attr&&d.attr[a]&&ra(a,b,d.attr[a],c)}),ua=(a)=>(a.Created||na(a)||ja(a,'create'),a),va=(a)=>(a.Mounted||na(a)||(a.Mounted=!0,ja(a,'mount')),a),wa=(a)=>(na(a)||(a.Mounted=!1,ja(a,'destroy')),a),xa=(a,b='body',c='appendChild')=>(ua(a),Aa(b).then((b)=>{W(b)||'after'!==c&&'before'!==c?(b[c](a),va(a)):ba.mount(b,()=>{b[c](a),va(a)})},(a)=>L('render fault:',a)),a),ya=(a,e)=>{Q(b(e),(b)=>{b in a?a[b]=e[b]:c(a,b,d(e,b))})},za=(a,b,...c)=>{const d=I(a)?a:f.createElement(a);if(K(b)&&c.unshift(b),c.length&&'#text'!==d.nodeName&&la.append(d,c),v(b)){if(b.attr&&la.attr(d,b.attr),b.css&&la.css(d,b.css),(b.class||b.className)&&(d.className+=b.class||b.className),b.id&&(d.id=b.id),b.src&&(d.src=b.src),b.href&&(d.href=b.href),b.props&&ya(d,b.props),b.methods&&M(d,b.methods),b.once&&ba(d,b.once),b.on&&ca(d,b.on),b.lifecycle||b.cycle){const{mount:a,destroy:c,create:f}=b.lifecycle||b.cycle;if(ba.create(d,()=>{d.Created=!0,f&&f.call(d,d)}),a)var e=ba.mount(d,a.bind(d,d));(e||c)&&ca.destroy(d,()=>{c&&c.call(d,d),e&&e.on()})}const{renderBefore:a,renderAfter:c,render:f}=b;a?xa(d,a,'before'):c?xa(d,c,'after'):f&&xa(d,f)}return oa(d,(a,b)=>qa(b,d,g,a),ua)},Aa=l(M((a,b=f)=>m((c,d)=>{I(a)?c(a):'head'===a?c(f.head):B(a)?ga(()=>{const e='body'===a?f.body:T(a,b);I(e)?c(e):d([404,a])}):d([400,a])}),{create:za,query:T,queryAll:U,queryEach:V,html:ha,text:(a,b)=>(B(a)&&([b,a]=[a,{}]),za(new Text(b),a)),frag:ia}),{get:(a,b)=>b in a?a[b]:za.bind(g,b),set:(a,b,c)=>a[b]=c});new MutationObserver((a)=>{for(const{addedNodes:b,removedNodes:c,target:d,attributeName:e,oldValue:f}of a){if(e&&ta(e,d,f),b.length)for(const a of b)oa(a,(b,c)=>qa(c,a,'mount',b),va);if(c.length)for(const a of c)oa(a,(b,c)=>qa(c,a,'destroy',b),wa)}}).observe(f,{attributes:!0,childList:!0,subtree:!0}),e.rilti={all:t,some:s,curry:n,compose:(...a)=>a.reduce((a,b)=>(...c)=>a(b(...c))),component:(a,b)=>a.includes('-')?void(pa.set(a,b),ga(()=>{V(a,(b)=>qa(a,b))})):L(a+' is un-hyphenated'),components:pa,dom:Aa,domfn:la,directive:(a,b)=>{sa.set(a,b),ga(()=>{V(`[${a}]`,ta.bind(g,a))})},directives:sa,each:Q,extend:M,flatten:S,not:(a)=>(...b)=>!a(...b),notifier:Z,model:(a={},b=j())=>{const c=Z(),{emit:d,on:e,once:f}=c,h=(a)=>{b.delete(a),d('delete',a),d('delete:'+a)},i=(a)=>b.has(a),n=(a,c,e)=>{if(v(a))return Q(a,(a,b)=>n(b,a,c)),n;const f=b.get(a);return y(c)&&c!==f?(b.set(a,c),e||(d('set',a,c),d('set:'+a,c)),n):(e||(d('get',a),d('get:'+a)),f)};n(a);const k=j(),o=(a,b,c=b)=>(k.has(a)||k.set(a,j()),k.get(a).set(c,e('set:'+c,(c)=>{a[b]=c})),i(c)&&(a[b]=n(c)),a);o.stop=(a,b)=>{if(i(a)){const c=k.get(a);b?c.has(b)&&(c.get(b).off(),c.delete(b)):c.forEach((a)=>a.off()).clear(),c.size||k.delete(a)}return a};const p=l((a,c)=>i(a)?c(b.get(a)):f('set:'+a,c),{get:(a,c)=>m((a)=>{i(c)?a(b.get(c)):f('set:'+c,a)}),set(a,b,c){c.then(n.bind(g,b))}}),q=j(),r=(a)=>{const c=b.has(a)&&q.has(a)&&q.get(a)(b.get(a));return d('validate:'+a,c),d('validate',a,c),c},s=l((a,b)=>{if(z(b))return r(a);if(J(b)){const a=b;b=(b)=>B(b)&&a.test(b)}u(b)&&q.set(a,b)},{get:(a,b)=>r(b),set:(a,b,c)=>a(b,c)});return l(M(n,M(c,{each:b.forEach.bind(b),has:i,store:b,sync:o,syncs:k,del:h,toJSON:()=>$(b)})),{get(a,b){if(Reflect.has(a,b))return Reflect.get(a,b);return'async'===b?p:'valid'===b?s:n(b)},set(a,b,c){return w(c)?p[b]=c:n(b,c)},delete:(a,b)=>h(b)})},on:ca,once:ba,timeout:O,yieldloop:P,render:xa,route:da,run:ga,runAsync:N,listMap:X,isMounted:W,isDef:y,isNil:z,isPromise:w,isPrimitive:C,isNull:(a)=>a===h,isFunc:u,isStr:B,isBool:x,isNum:A,isInt:E,isIterator:D,isRenderable:K,isRegExp:J,isObj:v,isArr:o,isArrlike:F,isEmpty:G,isEl:H,isEqual:q,isNode:I,isNodeList:(a)=>a&&(a instanceof NodeList||F(a)&&p.every.call(a,I)),isInput:(a)=>H(a)&&'INPUT TEXTAREA'.includes(a.tagName),isMap:(a)=>a&&a instanceof Map,isSet:(a)=>a&&a instanceof Set}}