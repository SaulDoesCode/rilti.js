{const{assign:a,keys:b,defineProperty:c,getOwnPropertyDescriptor:d}=Object,e=window,f=document,g=void 0,h=null,i='create',j='mount',k='destroy',[l,m,n,o,p]=[Map,Set,WeakSet,Proxy,Promise].map((a)=>(...b)=>Reflect.construct(a,b)),q=(a,b=a.length,...c)=>b<=c.length?a.apply(g,c):q.bind(g,a,b,...c),{isArray:r,prototype:s}=Array,t=q((a,b)=>a===b||z(b)&&b(a)),u=(a)=>(...b)=>(c)=>b[a](t(c)),v=u('some'),w=u('every'),x=(a)=>a!==g&&a!==h,y=(a)=>'object'==typeof a&&'then'in a,z=(a)=>a instanceof Function,A=(a)=>a&&a.constructor===Object,B=(a)=>a&&a.constructor===String,C=(a)=>!0===a||!1===a,D=(a)=>'number'==typeof a,E=(a)=>a===g||a===h,F=v(B,C,D),G=(a)=>!E(a)&&'function'==typeof a[Symbol.iterator],H=(a)=>D(a)&&0==a%1,I=(a)=>a&&(r(a)||!z(a)&&0==a.length%1),J=(a)=>a&&a instanceof Element,K=(a)=>a&&a instanceof Node,L=(a)=>a&&a instanceof RegExp,M=(a)=>J(a)&&'INPUT TEXTAREA'.includes(a.tagName),N=v(K,I,F),O=console.error.bind(console),P=(a={},e,f=!1,g=b(e))=>(g.forEach((b)=>{f&&(!f||b in a)||c(a,b,d(e,b))}),a),Q=(a,...b)=>setTimeout(a,0,...b),R=(b,c=1e3,d)=>a(b,{ms:c,start(){return d=setTimeout(()=>b(),b.ms),b},stop(a=!1){return a&&b(),clearTimeout(d),b}}),S=(a,b,c,d=~~(a/10)||1,e=-1,f=()=>{for(const c=Math.min(e+d,a);e<c;)b(++e);e<a?Q(f):z(c)&&c()})=>f(),T=(a,b)=>{if(!E(a)){if(A(a))for(const c in a)b(a[c],c,a);else if(a.length)for(let c=0;c!==a.length;)b(a[c],c++,a);else if(a.forEach)a.forEach(b);else if(H(a))S(a,b);else if(G(a))for(const[c,d]of a)b(d,c,a);return a}},U=(a,b=[])=>r(a)?(T(a,(a)=>{r(a)?U(a,b):b.push(a)}),b):[a],V=(a,b=f)=>K(a)?a:V(b).querySelector(a),W=(a,b=f)=>Array.from(V(b).querySelectorAll(a)),X=(a,b,c=f)=>(z(b)||([b,c]=[c,f]),T(W(a,c),b)),Y=(a,b=f)=>b===a||!!(16&b.compareDocumentPosition(a)),Z=(b=l())=>a((a,c)=>x(c)?(b.has(a)?b:b.set(a,m())).get(a).add(c):b.get(a),{map:b,del(a,c){b.has(a)&&1>b.get(a).delete(c).size&&b.delete(a)},has:(a,c,d=b.get(a))=>x(c)?d&&d.has(c):!!d,each(a,c){b.has(a)&&b.get(a).forEach(c)}}),$=(a,b=!0)=>o(a,{get(c,d){return b&&Reflect.has(a,d)?Reflect.get(a,d):a.bind(a,d)}}),_=(a={})=>{const b=Z(),c=(a,b)=>T(a,(c,e)=>{a[e]=d(b,e,c)}),d=(a,d,e=!1)=>{if(A(a))return c(a,e);const f=(a)=>d.apply(g,a),h=(c)=>(b.del(a,f),f.once=c,b(a,f),f);return f.off=()=>(b.del(a,f),f),f.on=()=>h(!1),f.once=()=>h(!0),h(e)},e=$((a,b)=>d(a,b)),f=$((a,b)=>d(a,b,!0)),h=(a)=>$((c,...d)=>{b.each(c,(b)=>{b.once&&b.off(),a?b(d):setTimeout(b,0,d)})},!1),i=h(),j=h(!0);return P(a,{emit:i,emitSync:j,on:e,once:f,listen:d,listeners:b})},aa=(a,b={})=>(a.forEach((a,c)=>{b[c]=a}),JSON.stringify(b)),ba=q((a,b,c,d,e=!1)=>{if(B(b)&&(b=V(b)),!b.addEventListener)return O('EventManager: target invalid');if(A(c))return T(c,(c,d)=>ba(a,b,d,c,e));if(!z(d))return ba.bind(g,a,b,c);d=d.bind(b);const f=(c)=>{d(c,b),a&&h()},h=()=>(b.removeEventListener(c,f),j),i=(d)=>(a=!!d,b.addEventListener(c,f,e),j),j={handler:f,type:c,reseat(b,f){return f&&h(),ba(a,b,c,d,e)},on:i,off:h,once:()=>i(!0)};return i(a)},3),ca={get:(a,b)=>(c,d,e)=>a(c,b,d,e)},da=o(ba(!0),ca),ea=o(ba(!1),ca),fa=_((a,b)=>(fa.active||(ea.hashchange(e,()=>{const a=location.hash;fa.emit(fa.listeners.has(a)?a:'default',a)}),fa.active=!0),z(a)&&([b,a]=[a,'default']),'default'===a||a.includes('#/')||(a='#/'+a),(location.hash===a||'default'===a)&&b(location.hash),fa.on(a,b))),ga=(a)=>{'complete'===f.readyState||f.body?Q(a):e.addEventListener('DOMContentLoaded',a,{once:!0})},ha=(a)=>(z(a)&&(a=a()),K(a)?a:f.createRange().createContextualFragment(a)),ia=(a)=>E(a)?f.createDocumentFragment():ha(a),ja=(a,b,c)=>{a.dispatchEvent(new CustomEvent(b,{detail:c}))},ka=(a,b=ia())=>(U(a).forEach((a)=>{b.appendChild(a=ha(a)),Da(a)}),b),la={replace(a,b){return a.replaceWith(b),b},css:q((a,b,c)=>(A(b)?T(b,(b,c)=>la.css(a,c,b)):B(b)&&('--'===b.slice(0,2)?a.style.setProperty(b,c):a.style[b]=c),a),2),Class:q((a,b,c=!a.classList.contains(b))=>(A(b)?T(b,(b,c)=>la.Class(a,c,b)):(B(b)&&(b=b.split(' ')),r(b)&&T(b,(b)=>a.classList[c?'add':'remove'](b))),a),2),hasClass:q((a,b)=>a.classList.contains(b)),attr:q((b,a,c)=>{if(A(a))T(a,(c,d)=>{b[E(c)?'removeAttribute':'setAttribute'](d,c)});else if(B(a)){if(!F(c))return b.getAttribute(a);b.setAttribute(a,c)}return b},2),rmAttr(a,...b){return b.forEach((b)=>a.removeAttribute(b)),a},hasAttr:(a,b)=>a.hasAttribute(b),getAttr:(a,b)=>a.getAttribute(b),setAttr:(a,b,c='')=>a.setAttribute(b,c),attrToggle:q((a,b,c=!a.hasAttribute(b),d=a.getAttribute(b)||'')=>(a[c?'setAttribute':'removeAttribute'](b,d),a),2),emit:ja,append:q((a,...b)=>(b=ka(b),Ja(a).then((a)=>a.appendChild(b)),a),2),prepend:q((a,...b)=>(b=ka(b),Ja(a).then((a)=>a.prepend(b)),a),2),appendTo:q((a,b)=>(Ja(b).then((b)=>b.appendChild(a)),a)),prependTo:q((a,b)=>(Ja(b).then((b)=>b.prepend(a)),a)),remove(a,b){return H(b)?R(()=>Y(a)&&a.remove(),b).start():(Y(a)&&a.remove(),a)},removeNodes(){return T(arguments,(a)=>Y(a)&&a.remove())},mutate(a,b,c=!0){if(r(a))return a.map((a)=>la.mutate(a,b,c));if(b)for(let d in b){let e=b[d];const f=r(e),g='class'==d||'className'==d;if(d in la||g){g&&(d='Class');const c=f?la[d](a,...e):la[d](a,e);c!==a&&(b[d]=c)}else if(d.includes('once')||d.includes('on')){const c=ba(d.includes('once'));if(d.includes('_')){const[g,h]=d.split('_');b[g]||(b[g]={}),b[g][h]=f?c(a,h,...e):c(a,h,e)}b[d]=f?c(a,...e):c(a,e)}else'children'==d||'inner'==d?(a.innerHTML='',N(e)&&la.append(a,e)):'text'==d?a.textContent=e:'html'==d?a.innerHTML=e:(c||d in a)&&(z(a[d])?f?a[d](...e):a[d](e):a[d]=e)}return b}},ma=(a,b)=>{for(const e in b)e in a?a[e]=b[e]:'accessors'==e?T(b[e],(b,d)=>{const{set:e=b,get:f=b}=b;c(a,d,{set:e.bind(a,a),get:f.bind(a,a)})}):c(a,e,d(b,e))},na=(a,b)=>{for(const d in b)c(a,d,{value:b[d].bind(a,a)})},oa=(a)=>(b,c)=>a[C(c)?c?'add':'delete':'has'](b),pa=n(),qa=oa(pa),ra=n(),sa=oa(ra),ta=(a)=>(a.tagName||a+'').toLowerCase(),ua=(a)=>va.has(ta(a)),va=l(),wa=(a)=>va.get(a&&a.tagName?ta(a):a),xa=(a,b,c,d=A(c)&&c)=>{const e=ta(a);if(va.has(e)){B(b)?[c,b]=[b,va.get(e)]:A(b)||(b=va.get(e));const{create:f,mount:g,destroy:h,props:l,methods:m,attr:n}=b;return qa(a)||(m&&na(a,m),l&&ma(a,l),d&&ma(a,d),n&&T(n,(b,c)=>ya(c,a,b)),qa(a,!0),f&&f(a),ja(a,i)),sa(a)||c!==j?c===k&&(sa(a,!1),h&&h(a),ja(a,c)):(sa(a,!0),g&&g(a),ja(a,c)),a}},ya=(a,b,d,e,f=b.getAttribute(a))=>{let{update:g,init:i=g,destroy:h}=d;z(d)&&(i=d,g=d);const j=a+'_init',k=b.hasAttribute(a),l=b[j];if(!(a in b)&&d.prop){let{set:e,get:f,bool:g,toggle:h}=d.prop;if(h){const c=z(h);c&&(h=h.bind(b,b)),e=(d)=>{la.attrToggle(b,a,d),c&&h(d)},f=()=>b.hasAttribute(a)}else e=e?e.bind(b,b):(c)=>b.setAttribute(a,c),f=f?f.bind(b,b):()=>b.getAttribute(a);g&&(f=()=>'true'===b.getAttribute(a)),c(b,a,{set:e,get:f})}F(f)?!l&&k?(b[j]=!0,i&&(sa(b)?i(b,f):da.mount(b,()=>g(b,f)))):g&&f!==e&&g(b,f,e):!k&&(b[j]=!1,h&&h(b,f,e))},za=l(),Aa=(a,b)=>b.replace(/\[(\w+)\]/g,'.$1').replace(/^\./,'').split('.').reduce((a,b)=>a&&a[b]?a[b]:g,a),Ba=(a,b,c,d=za.get(a)||Aa(wa(b),'attr.'+a))=>d&&ya(a,b,d,c),Ca=(a)=>{qa(a)||ja(a,i)},Da=(a)=>{sa(a)||(ua(a)?xa(a,j):(sa(a,!0),ja(a,j)))},Ea=(a)=>{sa(a,!1),ja(a,k)},Fa='appendChild',Ga=(a,b='body',c=Fa)=>(ua(a)||Ca(a),Ja(b).then((b)=>{Y(b)||c===Fa?(b[c](a),Da(a)):da.mount(b,()=>{b[c](a),Da(a)})},(a)=>O('render fault: ',a)),a),Ha=(a,b,...c)=>{const d=K(a)?a:f.createElement(a),e=ua(a);if(N(b)&&c.unshift(b),c.length&&'#text'!==d.nodeName&&la.append(d,c),A(b)){if(la.mutate(d,b,!1),b.props&&!e&&ma(d,b.props),b.methods&&na(d,b.methods),b.lifecycle||b.cycle){const{mount:a,destroy:c,create:e}=b.lifecycle||b.cycle;if(da.create(d,()=>{qa(d,!0),e&&e.call(d,d)}),a)var h=da.mount(d,a.bind(d,d));(a||c)&&ea.destroy(d,()=>{c&&c.call(d,d),h&&h.on()})}const{renderBefore:a,renderAfter:c,render:f}=b;f?Ga(d,f):a?Ga(d,a,'before'):c&&Ga(d,c,'after')}return e?xa(d,g,b.props):Ca(d),d},Ia=(a,b)=>(B(a)&&([b,a]=[a,{}]),Ha(new Text(b),a)),Ja=o(P((a,b=f)=>p((c,d)=>{K(a)?c(a):'head'===a?c(f.head):B(a)?ga(()=>{const e='body'===a?f.body:V(a,b);K(e)?c(e):d([404,a])}):d([400,a])}),{create:Ha,query:V,queryAll:W,queryEach:X,html:ha,text:Ia,frag:ia,body:(...a)=>(a.length&&ga(()=>la.append(f.body,a)),1<a.length?a:a[0])}),{get:(a,b)=>Reflect.get(a,b)||Ha.bind(g,b),set:(a,b,c)=>a[b]=c}),Ka=(a)=>xa(a,j)||Da(a),La=(a)=>xa(a,k)||Ea(a);new MutationObserver((a)=>{a.forEach(({addedNodes:a,removedNodes:b,target:c,attributeName:d,oldValue:e})=>{a.length&&a.forEach(Ka),b.length&&b.forEach(La),d&&Ba(d,c,e)})}).observe(f,{attributes:!0,attributeOldValue:!0,childList:!0,subtree:!0}),e.rilti={all:w,some:v,curry:q,compose:(...a)=>a.reduce((a,b)=>(...c)=>a(b(...c))),component:(a,b)=>a.includes('-')?(va.set(a,b),ga(()=>X(a,xa)),Ja[a]):O(a+' is un-hyphenated'),components:va,dom:Ja,domfn:la,directive:(a,b)=>{za.set(a,b),ga(()=>{X(`[${a}]`,(b)=>Ba(a,b))})},directives:za,debounce:(a,b=0)=>{let c;return function(){clearTimeout(c),c=setTimeout(a.bind(this),b,...arguments)}},each:T,extend:P,extract:Aa,flatten:U,listMap:Z,model:(a,b=_(),c=l())=>{const{emitSync:d,emit:e,on:f,once:h}=b,i=(a,b)=>(r(a)?a.forEach((a)=>i(a,b)):(c.delete(a),!b&&(e('delete',a),e('delete:'+a))),m),j=(a)=>c.has(a),m=(a,b,f)=>{if(A(a))T(a,(a,c)=>{E(a)?i(c,b):m(c,a,b)});else if(r(a))a.forEach(([a,c])=>m(a,c,b));else{const g=c.get(a);return x(b)&&b!==g?(c.set(a,b),f||(d('set',a,b),d('set:'+a,b)),b):(f||(e('get',a),e('get:'+a)),g)}};if(B(a))try{m(JSON.parse(a),!0)}catch(a){}else E(a)||m(a,!0);const k=l(),n=o((a,b,c=b)=>M(a)?n.input(a,c):(k.has(a)||k.set(a,l()),k.get(a).set(c,f('set:'+c,(c)=>{a[b]=c})),j(c)&&(a[b]=m(c)),h('delete:'+c,()=>n.stop(a,c)),a),{get:(a,b)=>Reflect.get(a,b)||((c,d=b)=>a(c,d,b))});n.stop=(a,b)=>{if(j(a)){const c=k.get(a);b?c.has(b)&&(c.get(b).off(),c.delete(b)):T(c,(a)=>a.off()).clear(),c.size||k.delete(a)}return a},n.text=o((a,b)=>(B(a)&&([b,a]=[a,'']),n(Ia(),'textContent',b)),{get:(a,b)=>a(b)}),n.input=(a,b)=>{k.has(a)||k.set(a,l()),k.get(a).set(b,f('set:'+b,(b)=>{a.value!==b&&(a.value=b)})),j(b)&&(a.value=m(b));const c=ba(!1,a,'input',()=>m(b,a.value.trim())).off;return h('delete:'+b,()=>{c(),n.stop(a,b)}),a};const q=o((a,b)=>j(a)?b(c.get(a)):h('set:'+a,b),{get:(a,b)=>p((a)=>{j(b)?a(c.get(b)):h('set:'+b,a)}),set(a,b,c){c.then(m.bind(g,b))}}),s=l(),t=(a)=>{const b=c.has(a)&&s.has(a)&&s.get(a)(c.get(a));return e('validate:'+a,b),e('validate',a,b),b},u=o((a,b)=>{if(E(b))return t(a);if(L(b)){const a=b;b=(b)=>B(b)&&a.test(b)}z(b)&&s.set(a,b)},{get:(a,b)=>t(b),set:(a,b,c)=>a(b,c)}),v=()=>Array.from(c.entries());return o(P(m,P(b,{async:q,valid:u,each:c.forEach.bind(c),get size(){return c.size},has:j,del:i,map:(a)=>{c.forEach((b,d)=>{const e=a(b,d);E(e)||e===b||c.set(d,b)})},filter:(a)=>{c.forEach((b,d)=>{a(b,d)||c.delete(d)})},store:c,sync:n,syncs:k,toJSON:()=>aa(c),toArray:v,toJSONArray:()=>JSON.stringify(v())})),{get(a,b){return Reflect.has(a,b)?Reflect.get(a,b):m(b)},set(a,b,c){return y(c)?q[b]=c:m(b,c)},delete:(a,b)=>i(b)})},notifier:_,not:(a)=>function(){return!a.apply(g,arguments)},on:ea,once:da,yieldloop:S,render:Ga,route:fa,run:ga,runAsync:Q,throttle:(a,b)=>{let c,d,e;return function(){const f=this,g=arguments;c?(clearTimeout(d),d=setTimeout(()=>{Date.now()-e>=b&&(a.apply(f,g),e=Date.now())},b-(Date.now()-e))):(a.apply(f,g),e=Date.now(),c=!0)}},timeout:R,isMounted:Y,isDef:x,isNil:E,isPromise:y,isPrimitive:F,isNull:(a)=>a===h,isFunc:z,isStr:B,isBool:C,isNum:D,isInt:H,isIterable:G,isRenderable:N,isRegExp:L,isObj:A,isArr:r,isArrlike:I,isEmpty:(a)=>!a||!((A(a)?b(a):D(a.length)&&a).length||a.size),isEl:J,isEqual:t,isNode:K,isNodeList:(a)=>a&&(a instanceof NodeList||I(a)&&s.every.call(a,K)),isInput:M,isMap:(a)=>a&&a instanceof Map,isSet:(a)=>a&&a instanceof Set}}