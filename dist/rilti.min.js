{const{assign:a,keys:b,defineProperty:c,getOwnPropertyDescriptor:d}=Object,e=window,f=document,g=void 0,h=null,i=(a)=>(...b)=>new a(...b),j=i(Map),k=i(Set),l=i(WeakSet),m=i(Proxy),n=i(Promise),o=(a,b=a.length,...c)=>b<=c.length?a(...c):o.bind(g,a,b,...c),{isArray:p,prototype:q}=Array,r=o((a,b)=>a===b||x(b)&&b(a)),s=(a)=>(...b)=>(c)=>b[a](r(c)),t=s('some'),u=s('every'),v=(a)=>a!==g&&a!==h,w=(a)=>'object'==typeof a&&'then'in a,x=(a)=>a instanceof Function,y=(a)=>a&&a.constructor===Object,z=(a)=>a&&a.constructor===String,A=(a)=>!0===a||!1===a,B=(a)=>'number'==typeof a,C=(a)=>a===g||a===h,D=t(z,A,B),E=(a)=>a&&a.toString().includes('Iterator'),F=(a)=>B(a)&&0==a%1,G=(a)=>a&&!x(a)&&0==a.length%1,H=(a)=>!a||!((y(a)?b(a):B(a.length)&&a).length||a.size),I=(a)=>a&&a instanceof Element,J=(a)=>a&&a instanceof Node,K=(a)=>a&&a instanceof RegExp,L=t(J,G,D),M=console.error.bind(console),N=(a={},e,f=!1,g=b(e))=>(g.length&&g.forEach((b)=>{f&&(!f||b in a)||c(a,b,d(e,b))}),a),O=(a,...b)=>Promise.resolve(a).then((a)=>a(...b)),P=(b,c=1e3,d)=>a(b,{ms:c,start(){return d=setTimeout(()=>b(),b.ms),b},stop(a=!1){return a&&b(),clearTimeout(d),b}}),Q=(a,b,c,d=~~(a/10)||1,e=-1,f=()=>{for(const c=Math.min(e+d,a);e<c;)b(++e);e<a?O(f):x(c)&&c()})=>f(),R=(a,b)=>{if(!C(a)){if('forEach'in a)a.forEach(b);else if(G(a))q.forEach.call(a,b);else if(y(a))for(const c in a)b(a[c],c,a);else if(F(a))Q(a,b);else if(a.entries||E(a))for(const[c,d]of a)b(c,d,a);return a}},S=(a,b=[])=>{for(const c of a)p(c)?S(c,b):b.push(c);return b},T=(a,b=f)=>J(a)?a:T(b).querySelector(a),U=(a,b=f)=>Array.from(T(b).querySelectorAll(a)),V=(a,b,c=f)=>(x(b)||([b,c]=[c,f]),R(U(a,c),b)),W=(a,b=f)=>b===a||!!(16&b.compareDocumentPosition(a)),X=(a=j())=>Object.assign((b,c)=>v(c)?(a.has(b)?a:a.set(b,k())).get(b).add(c):a.get(b),{map:a,del(b,c){a.has(b)&&1>a.get(b).delete(c).size&&a.delete(b)},has:(b,c,d=a.get(b))=>v(c)?d&&d.has(c):!!d,each(b,c){a.has(b)&&a.get(b).forEach(c)}}),Y=(a,b=!0)=>m(a,{get(c,d){return b&&Reflect.has(a,d)?Reflect.get(a,d):a.bind(g,d)}}),Z=(a={})=>{const b=X(),c=(a,b)=>R(a,(c,e)=>{a[e]=d(b,e,c)}),d=(a,d,e=!1)=>{if(y(a))return c(a,e);const f=(...a)=>d(...a),g=(c)=>(b.del(a,f),f.once=c,b(a,f),f);return f.off=()=>(b.del(a,f),f),f.on=()=>g(!1),f.once=()=>g(!0),g(e)},e=Y((a,b)=>d(a,b)),f=Y((a,b)=>d(a,b,!0)),g=Y((a,...c)=>{b.each(a,(a)=>{O(a,...c),a.once&&a.off()})},!1);return N(a,{emit:g,on:e,once:f,listen:d,listeners:b})},$=(a,b={})=>(R(a,(a,c)=>{b[c]=a}),JSON.stringify(b)),_=o((a,b,c,d,e=!1)=>{if(z(b)&&(b=T(b)),!b.addEventListener)return M('EventManager: target invalid');if(y(c))return R(c,(c,d)=>_(a,b,d,c,e));if(!x(d))return _.bind(g,a,b,c);d=d.bind(b);const f=(c)=>{d(c,b),a&&h()},h=()=>(b.removeEventListener(c,f),j),i=(d)=>(a=!!d,b.addEventListener(c,f,e),j),j={handler:f,type:c,reseat(b,f){return f&&h(),_(a,b,c,d,e)},on:i,once:()=>i(!0),off:()=>h()};return i(a)},3),aa={get:(a,b)=>(c,d,e=!1)=>a(c,b,d,e)},ba=m(_(!0),aa),ca=m(_(!1),aa),da=Z((a,b)=>(da.active||(ca.hashchange(e,()=>{const a=location.hash;da.emit(da.listeners.has(a)?a:'default',a)}),da.active=!0),x(a)&&([b,a]=[a,'default']),'default'===a||a.includes('#/')||(a='#/'+a),(location.hash===a||'default'===a)&&b(location.hash),da.on(a,b))),ea=()=>'complete'===f.readyState||!!f.body,fa=k();ba.DOMContentLoaded(e,()=>R(fa,O).clear());const ga=(a)=>ea()?O(a):fa.add(a),ha=(a)=>(x(a)&&(a=a()),J(a)?a:f.createRange().createContextualFragment(a)),ia=(a)=>C(a)?f.createDocumentFragment():ha(a),ja=(a,b,c)=>{a.dispatchEvent(new CustomEvent(b,c?{detail:c}:g))},ka=(a,b=ia())=>(S(a).forEach((a)=>{b.appendChild(a=ha(a)),Ba(a)}),b),la={replace(a,b){return a.replaceWith(b),b},css:o((a,b,c)=>(y(b)?R(b,(b,c)=>{a.style[c]=b}):z(b)&&(a.style[b]=c),a),2),Class:o((a,b,c=!a.classList.contains(b))=>{if(!y(b)){const d=c?'add':'remove';b.includes(' ')?R(b.split(' '),(b)=>a.classList[d](b)):a.classList[d](b)}else R(b,(b,c)=>a.classList[b?'add':'remove'](c));return a},2),hasClass:o((a,b)=>a.classList.contains(b)),attr:o((b,a,c)=>{if(y(a))R(a,(c,d)=>{b[C(c)?'removeAttribute':'setAttribute'](d,c)});else if(z(a)){if(!D(c))return b.getAttribute(a);b.setAttribute(a,c)}return b},2),rmAttr(a,...b){return b.forEach((b)=>a.removeAttribute(b)),a},hasAttr:(a,b)=>a.hasAttribute(b),getAttr:(a,b)=>a.getAttribute(b),setAttr:(a,b,c='')=>a.setAttribute(b,c),attrToggle:o((a,b,c=!a.hasAttribute(b),d=a.getAttribute(b)||c)=>(a[c?'setAttribute':'removeAttribute'](b,d),a),2),emit:ja,append:o((a,...b)=>(b=ka(b),Ga(a).then((a)=>a.appendChild(b)),a),2),prepend:o((a,...b)=>(b=ka(b),Ga(a).then((a)=>a.prepend(b)),a),2),appendTo:o((a,b)=>(Ga(b).then((b)=>b.appendChild(a)),a)),prependTo:o((a,b)=>(Ga(b).then((b)=>b.prepend(a)),a)),remove(a,b){return F(b)?P(()=>W(a)&&a.remove(),b).start():(W(a)&&a.remove(),a)},removeNodes:(...a)=>R(a,(a)=>W(a)&&a.remove())},ma=(a)=>(b,c)=>a[A(c)?c?'add':'delete':'has'](b),na=l(),oa=ma(na),pa=l(),qa=ma(pa),ra=(a)=>(a.tagName||a+'').toLowerCase(),sa=(a)=>ta.has(ra(a)),ta=j(),ua=(a)=>ta.get(a&&a.tagName?ra(a):a),va=(a,c,d)=>{const e=ra(a);if(ta.has(e)){z(c)?[d,c]=[c,ta.get(e)]:y(c)||(c=ta.get(e));const{create:f,mount:g,destroy:h,props:i,methods:j,attr:k}=c;if(!oa(a)){if(i){const c={};b(i).forEach((b)=>{const d=a[b];C(d)||(c[b]=d)}),N(a,i),H(c)||ba('create',a,()=>R(c,(b,c)=>{a[c]=b}))}j&&N(a,j),oa(a,!0),f&&f(a),ja(a,'create')}return qa(a)||'mount'!==d?'destroy'===d&&(qa(a,!1),ja(a,d),h&&h(a)):(k&&R(k,(b,c)=>wa(c,a,b)),qa(a,!0),ja(a,d),g&&g(a)),a}},wa=(a,b,{init:c,update:d,destroy:e},f,g=b.getAttribute(a))=>{const h=a+'_init',i=b.hasAttribute(a);D(g)?i&&!b[h]?(b[h]=!0,c&&c(b,g)):d&&g!==f&&d(b,g,f):!i&&(b[h]=!1,e&&e(b,g,f))},xa=j(),ya=(a,b)=>b.replace(/\[(\w+)\]/g,'.$1').replace(/^\./,'').split('.').reduce((a,b)=>a&&a[b]?a[b]:g,a),za=(a,b,c,d=xa.get(a)||ya(ua(b),'attr.'+a))=>d&&wa(a,b,d,c),Aa=(a)=>!(oa(a)&&sa(a))&&ja(a,'create'),Ba=(a)=>{qa(a)||(sa(a)?va(a,'mount'):(qa(a,!0),ja(a,'mount')))},Ca=(a)=>{sa(a)||(qa(a,!1),ja(a,'destroy'))},Da=(a,b='body',c='appendChild')=>(Aa(a),Ga(b).then((b)=>{W(b)||'after'!==c&&'before'!==c?(b[c](a),Ba(a)):ba.mount(b,()=>{b[c](a),Ba(a)})},(a)=>M('render fault:',a)),a),Ea=(a,e)=>b(e).forEach((b)=>{b in a?a[b]=e[b]:c(a,b,d(e,b))}),Fa=(a,b,...c)=>{const d=J(a)?a:f.createElement(a);if(L(b)&&c.unshift(b),c.length&&'#text'!==d.nodeName&&la.append(d,c),y(b)){if(b.attr&&la.attr(d,b.attr),b.css&&la.css(d,b.css),(b.class||b.className)&&(d.className+=b.class||b.className),b.id&&(d.id=b.id),b.src&&(d.src=b.src),b.href&&(d.href=b.href),b.props&&Ea(d,b.props),b.methods&&N(d,b.methods),b.once&&ba(d,b.once),b.on&&ca(d,b.on),b.lifecycle||b.cycle){const{mount:a,destroy:c,create:f}=b.lifecycle||b.cycle;if(ba(d,'create',()=>{oa(d,!0),f&&f.call(d,d)}),a)var e=ba(d,'mount',a.bind(d,d));(e||c)&&ca(d,'destroy',()=>{c&&c.call(d,d),e&&e.on()})}const{renderBefore:a,renderAfter:c,render:f}=b;a?Da(d,a,'before'):c?Da(d,c,'after'):f&&Da(d,f)}return(sa(a)?va:Aa)(d),d},Ga=m(N((a,b=f)=>n((c,d)=>{J(a)?c(a):'head'===a?c(f.head):z(a)?ga(()=>{const e='body'===a?f.body:T(a,b);J(e)?c(e):d([404,a])}):d([400,a])}),{create:Fa,query:T,queryAll:U,queryEach:V,html:ha,text:(a,b)=>(z(a)&&([b,a]=[a,{}]),Fa(new Text(b),a)),frag:ia}),{get:(a,b)=>b in a?a[b]:Fa.bind(g,b),set:(a,b,c)=>a[b]=c});new MutationObserver((a)=>{for(const{addedNodes:b,removedNodes:c,target:d,attributeName:e,oldValue:f}of a){if(e&&za(e,d,f),b.length)for(const a of b)va(a,'mount')||Ba(a);if(c.length)for(const a of c)va(a,'destroy')||Ca(a)}}).observe(f,{attributes:!0,attributeOldValue:!0,childList:!0,subtree:!0}),e.rilti={all:u,some:t,curry:o,compose:(...a)=>a.reduce((a,b)=>(...c)=>a(b(...c))),component:(a,b)=>a.includes('-')?(ta.set(a,b),ga(()=>V(a,va)),Ga[a]):M(a+' is un-hyphenated'),components:ta,dom:Ga,domfn:la,directive:(a,b)=>{xa.set(a,b),ga(()=>{V(`[${a}]`,(b)=>za(a,b))})},directives:xa,each:R,extend:N,extract:ya,flatten:S,not:(a)=>(...b)=>!a(...b),notifier:Z,model:(a={},b=Z(),c=j())=>{const{emit:d,on:e,once:f}=b,h=(a)=>{c.delete(a),d('delete',a),d('delete:'+a)},i=(a)=>c.has(a),l=(a,b,e)=>{if(y(a))return R(a,(a,c)=>l(c,a,b)),l;const f=c.get(a);return v(b)&&b!==f?(c.set(a,b),e||(d('set',a,b),d('set:'+a,b)),l):(e||(d('get',a),d('get:'+a)),f)};l(a);const k=j(),o=(a,b,c=b)=>(k.has(a)||k.set(a,j()),k.get(a).set(c,e('set:'+c,(c)=>{a[b]=c})),i(c)&&(a[b]=l(c)),a);o.stop=(a,b)=>{if(i(a)){const c=k.get(a);b?c.has(b)&&(c.get(b).off(),c.delete(b)):c.forEach((a)=>a.off()).clear(),c.size||k.delete(a)}return a};const p=m((a,b)=>i(a)?b(c.get(a)):f('set:'+a,b),{get:(a,b)=>n((a)=>{i(b)?a(c.get(b)):f('set:'+b,a)}),set(a,b,c){c.then(l.bind(g,b))}}),q=j(),r=(a)=>{const b=c.has(a)&&q.has(a)&&q.get(a)(c.get(a));return d('validate:'+a,b),d('validate',a,b),b},s=m((a,b)=>{if(C(b))return r(a);if(K(b)){const a=b;b=(b)=>z(b)&&a.test(b)}x(b)&&q.set(a,b)},{get:(a,b)=>r(b),set:(a,b,c)=>a(b,c)});return m(N(l,N(b,{each:c.forEach.bind(c),has:i,store:c,sync:o,syncs:k,del:h,toJSON:()=>$(c)})),{get(a,b){if(Reflect.has(a,b))return Reflect.get(a,b);return'async'===b?p:'valid'===b?s:l(b)},set(a,b,c){return w(c)?p[b]=c:l(b,c)},delete:(a,b)=>h(b)})},on:ca,once:ba,timeout:P,yieldloop:Q,render:Da,route:da,run:ga,runAsync:O,listMap:X,isMounted:W,isDef:v,isNil:C,isPromise:w,isPrimitive:D,isNull:(a)=>a===h,isFunc:x,isStr:z,isBool:A,isNum:B,isInt:F,isIterator:E,isRenderable:L,isRegExp:K,isObj:y,isArr:p,isArrlike:G,isEmpty:H,isEl:I,isEqual:r,isNode:J,isNodeList:(a)=>a&&(a instanceof NodeList||G(a)&&q.every.call(a,J)),isInput:(a)=>I(a)&&'INPUT TEXTAREA'.includes(a.tagName),isMap:(a)=>a&&a instanceof Map,isSet:(a)=>a&&a instanceof Set}}