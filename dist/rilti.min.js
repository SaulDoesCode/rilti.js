{const a=window,b=document,c=void 0,d=null,e=Object.keys,f=Object.defineProperty,g=Object.getOwnPropertyDescriptor,h=(a,b=a.length,c=(...d)=>(...e)=>(e.length+d.length>=b?a:c)(...d.concat(e)))=>c(),i=(...a)=>(b)=>a.some((a)=>b===a||r(a)&&a(b)),j=(a,b,...c)=>Array.prototype[a].apply(b,c),k=h(j,2)('forEach'),l=Array.isArray,m=(a)=>a&&!(a instanceof Function)&&p(a.length),n=(a)=>!0===a||!1===a,o=(a)=>a===c||a===d||0===a,p=(a)=>'number'==typeof a,q=(a)=>'string'==typeof a,r=(a)=>a&&a instanceof Function,s=(a)=>a&&a.constructor===Object,t=i(q,n,p),u=(a)=>a&&a.toString().includes('Iterator'),v=(a)=>p(a)&&0==a%1,w=(a)=>a&&a instanceof Element,x=(a)=>a&&a instanceof Node,y=h((a,...b)=>b.every(r(a)?(b)=>a(b):(b)=>a===b),2),z=console.error.bind(console),A=(a={},b,c=!1,d=e(b))=>(d.length&&C(d,(d)=>{c&&(!c||d in a)||f(a,d,g(b,d))}),a),B=(a,b,c,d=~~(a/10)||1,e=-1,f=()=>{for(const c=Math.min(e+d,a);e<c;)b(++e);e<a?setTimeout(f,0):r(c)&&c()})=>f(),C=(a,b,c=0)=>{if(!o(a))if(a.forEach)a.forEach(b);else if(0<a.length)k(a,b);else if(s(a))for(c in a)b(a[c],c,a);else if(v(a))B(a,b);else if(a.entries||u(a))for(const[c,d]of a)b(c,d,a);return a},D=(a)=>m(a)?j('reduce',a,(a,b)=>a.concat(l(b)?D(b):b),[]):[a],E=(a,c=b)=>x(a)?a:E(c).querySelector(a),F=(a,c=b)=>Array.from(E(c).querySelectorAll(a)),G=(a,c,d=b)=>(r(c)||([c,d]=[d,b]),C(F(a,d),c)),H=h((a,b,d,e,f=!1)=>{if(q(b)&&(b=E(b)),!b.addEventListener)return z('EventManager: target invalid');if(s(d))return C(d,(c,d)=>H(a,b,d,c,f));if(!r(e))return H.bind(c,a,b,d);e=e.bind(b);const g=(c)=>{e(c,b),a&&h()},h=()=>(b.removeEventListener(d,g),j),i=(c)=>(a=!!c,b.addEventListener(d,g,f),j),j={handler:g,type:d,reseat(b,c){return c&&h(),H(a,b,d,e,f)},on:()=>i(),once:()=>i(!0),off:()=>h()};return i(a)},3),I=H(!0),J=H(!1),K=(a,b,c)=>(a.has(b)&&!a.get(b).delete(c).size&&a.delete(b),c),L=(a,b,c)=>((a.has(b)?a:a.set(b,new Set)).get(b).add(c),c),M=(a,b=!1)=>(c,d)=>{if(b){const b=d;d=(e,f,g)=>{b(e,f,g),K(a,c,d)}}return L(a,c,A(d,{type:c,off:()=>K(a,c,d),on:()=>L(a,c,d.off())}))},N=(a={})=>{const b=new Map,c=(a)=>(b,c)=>{if(!q(b))return C(b,(c,d)=>{r(c)&&(b[d]=a(d,c))});return r(c)?a(b,c):void 0};return A(a,{on:c(M(b)),once:c(M(b,!0)),off:h(K)(b),has:(b)=>Reflect.has(a,b),hastype:(a)=>b.has(r(a)?a.type:a),hashandle:(a,c=a.type)=>b.has(c)&&b.get(c).has(a),emit(c,d,e,f){return b.has(c)&&b.get(c).forEach((a)=>a(d,e,f)),a}})},O=N((b,c)=>(O.active||(J(a,'hashchange',()=>{const a=location.hash;O.emit(O.hastype(a)?a:'default',a)}),O.active=!0),r(b)&&([c,b]=[b,'default']),'default'===b||b.includes('#/')||(b='#/'+b),(location.hash===b||'default'===b)&&c(location.hash),O.on(b,c))),P=()=>'complete'===b.readyState||x(b.body),Q=new Set;I(a,'DOMContentLoaded',()=>C(Q,(a)=>a()).clear());const R=(a)=>P()?a():Q.add(a),S=(a)=>r(a)?S(a()):x(a)?a:b.createRange().createContextualFragment(a),T=(a)=>t(a)?S(a):b.createDocumentFragment(),U=h((a,b,d)=>(a.dispatchEvent(q(b)?new CustomEvent(b,d===c?c:{detail:d}):b),a),2),V=new Set,W=(a)=>U(a,'create'),X=(a)=>(V.has(a)||setTimeout(()=>V.add(U(a,'mount')),0),a),Y=(a)=>(V.delete(a),U(a,'destroy')),Z=(a,b=T())=>(C(D(a),(a)=>b.appendChild(X(S(a)))),b),$={replace(a,b){return a.replaceWith(b),b},css:h((a,b,c)=>(s(b)?C(b,(b,c)=>{a.style[c]=b}):y(q,b,c)&&(a.style[b]=c),a),2),Class:h((a,b,c=!a.classList.contains(b))=>{if(!s(b)){const d=c?'add':'remove';b.includes(' ')?C(b.split(' '),(b)=>a.classList[d](b)):a.classList[d](b)}else C(b,(b,c)=>a.classList[b?'add':'remove'](c));return a},2),hasClass:h((a,b)=>a.classList.contains(b)),attr:h((b,a,c)=>{if(b.attributes)if(s(a))C(a,(c,d)=>{b.setAttribute(d,c),ba(d,b)});else if(q(a)){if(!t(c))return b.getAttribute(a);b.setAttribute(a,c),ba(a,b)}return b},2),rmAttr(a,b){return a.removeAttribute(b),a},hasAttr:(a,b)=>a.hasAttribute(b),getAttr:(a,b)=>a.getAttribute(b),setAttr:(a,b,c='')=>a.setAttribute(b,c),attrToggle:h((a,b,c=!a.hasAttribute(b),d=a.getAttribute(b)||'')=>(a[c?'setAttribute':'removeAttribute'](b,d),a),2),emit:U,append:h((a,...b)=>(fa(a).then((a)=>a.appendChild(Z(b))),a),2),prepend:h((a,...b)=>(fa(a).then((a)=>a.prepend(Z(b))),a),2),appendTo:h((a,b)=>(fa(b).then((b)=>b.appendChild(a)),a)),prependTo:h((a,b)=>(fa(b).then((b)=>b.prepend(a)),a)),remove(a,b){return p(b)?setTimeout(()=>a.remove(),b):a.remove(),a}},_=new Map,aa=(a,b)=>(a[b+'_init']=!0,a),ba=(a,b,c)=>{if(_.has(a)){const d=b.getAttribute(a),{init:e,update:f,destroy:g}=_.get(a);t(d)?b[a+'_init']?f&&d!==c&&f(b,d,c):e(aa(b,a),d):g&&g(b,d,c)}},ca=(a,b,c='appendChild')=>(W(a),fa(b).then((b)=>b[c](X(a)),(a)=>z('render fault:',...a)),a),da=i(x,m,t),ea=(a,c,...d)=>{const e=x(a)?a:b.createElement(a);if(da(c)&&d.unshift(c),d.length&&'#text'!==e.nodeName&&$.append(e,d),s(c)){if('attr'in c&&$.attr(e,c.attr),c.css&&$.css(e,c.css),c.class&&(e.className=c.class),c.props&&C(c.props,(a,b)=>{b in e?e[b]=a:f(e,b,s(a)&&(a.get||a.set||'value'in a)?a:g(c.props,b))}),c.methods&&A(e,c.methods),c.once&&I(e,c.once),c.on&&J(e,c.on),c.lifecycle){const{mount:a,destroy:b,create:d}=c.lifecycle;J(e,'destroy',()=>{b&&b(e),a&&I(e,'mount',()=>a(e))}),a&&I(e,'mount',()=>a(e)),d&&I(e,'create',()=>d(e))}c.run&&R(()=>c.run(e)),c.render?ca(e,c.render):c.renderAfter?ca(e,c.renderAfter,'after'):c.renderBefore&&ca(e,c.renderBefore,'before')}return W(e)},fa=new Proxy(A((a,c=b)=>new Promise((d,e)=>{x(a)?d(a):'head'===a?d(b.head):q(a)?R(()=>{const f='body'===a?b.body:E(a,c);x(f)?d(f):e([404,a])}):e([403,a])}),{create:ea,query:E,queryAll:F,queryEach:G,html:S,text:(a,b)=>{q(a)&&([b,a]=[a,{}]);const c=new Text(b);return ea(c,a)},frag:T}),{get:(a,b)=>b in a?a[b]:ea.bind(c,b),set:(a,b,c)=>a[b]=c});new MutationObserver((a)=>C(a,({addedNodes:a,removedNodes:b,target:c,attributeName:d,oldValue:e})=>{a.length&&k(a,X),b.length&&k(b,Y),d&&'style'!==d&&ba(d,c,e)})).observe(b,{attributes:!0,childList:!0,subtree:!0}),a.rilti={dom:fa,domfn:$,notifier:N,compose:(...a)=>a.reduce((a,b)=>(...c)=>a(b(...c))),caseMatch:i,not:(a)=>(...b)=>!a(...b),yieldloop:B,on:J,once:I,directive:(a,b)=>{_.set(a,b),R(()=>{G(`[${a}]`,(b)=>{ba(a,b)})})},directives:_,extend:A,route:O,render:ca,run:R,curry:h,each:C,flatten:D,isMounted:(a,c=b)=>c===a||!!(16&c.compareDocumentPosition(a)),isDef:(a)=>a!==c&&a!==d,isNil:o,isPrimitive:t,isNull:(a)=>a===d,isFunc:r,isStr:q,isBool:n,isNum:p,isInt:v,isIterator:u,isObj:s,isArr:l,isArrlike:m,isEmpty:(a)=>!a||!((s(a)?e(a):p(a.length)&&a).length||a.size),isEl:w,isEq:y,isNode:x,isNodeList:(a)=>a&&(a instanceof NodeList||m(a)&&j('every',a,x)),isInput:(a)=>w(a)&&'INPUT TEXTAREA'.includes(a.tagName),isMap:(a)=>a&&a instanceof Map,isSet:(a)=>a&&a instanceof Set}}