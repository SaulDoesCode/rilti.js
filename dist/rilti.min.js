{const a=window,b=document,c=void 0,d=null,e=Object.keys,f=Object.defineProperty,g=Object.getOwnPropertyDescriptor,h=(a,b=a.length,c=(...d)=>(...e)=>(e.length+d.length>=b?a:c)(...d.concat(e)))=>c(),i=(...a)=>(b)=>a.some((a)=>b===a||r(a)&&a(b)),j=(a,b,...c)=>Array.prototype[a].apply(b,c),k=h(j,2)('forEach'),l=Array.isArray,m=(a)=>a&&!(a instanceof Function)&&p(a.length),n=(a)=>!0===a||!1===a,o=(a)=>a===c||a===d||0===a||isNaN(a),p=(a)=>'number'==typeof a,q=(a)=>'string'==typeof a,r=(a)=>a&&a instanceof Function,s=(a)=>a&&a.constructor===Object,t=i(q,n,p),u=(a)=>a&&a.toString().includes('Iterator'),v=(a)=>p(a)&&0==a%1,w=(a)=>a&&a instanceof Element,x=(a)=>a&&a instanceof Node,y=h((a,...b)=>b.every(r(a)?(b)=>a(b):(b)=>a===b),2),z=(a={},b,c=!1,d=e(b))=>(d.length&&B(d,(d)=>{c&&(!c||d in a)||f(a,d,g(b,d))}),a),A=(a,b,c,d=~~(a/10)||1,e=-1,f=()=>{for(const c=Math.min(e+d,a);e<c;)b(++e);e<a?setTimeout(f,0):r(c)&&c()})=>f(),B=(a,b,c=0)=>{if(!o(a))if(a.forEach)a.forEach(b);else if(0<a.length)k(a,b);else if(s(a))for(c in a)b(a[c],c,a);else if(v(a))A(a,b);else if(a.entries||u(a))for(const[c,d]of a)b(c,d,a);return a},C=(a)=>m(a)?j('reduce',a,(a,b)=>a.concat(l(b)?C(b):b),[]):[a],D=(a,c=b)=>x(a)?a:D(c).querySelector(a),E=(a,c=b)=>Array.from(D(c).querySelectorAll(a)),F=(a,c,d=b)=>(r(c)||([c,d]=[d,b]),B(E(a,d),c)),G=h((a,b,d,e,f=!1)=>{if(q(b)&&(b=D(b)),!b.addEventListener)throw new Error('EventManager: target invalid');if(s(d))return B(d,(c,d)=>G(a,b,d,c,f));if(!r(e))return G.bind(c,a,b,d);e=e.bind(b);const g=(c)=>{e(c,b),a&&h()},h=()=>(b.removeEventListener(d,g),j),i=(c)=>(a=!!c,b.addEventListener(d,g,f),j),j={handler:g,type:d,reseat(b,c){return c&&h(),G(a,b,d,e,f)},on:()=>i(),once:()=>i(!0),off:()=>h()};return i(a)},3),H=G(!0),I=G(!1),J=(a,b,c)=>(a.has(b)&&!a.get(b).delete(c).size&&a.delete(b),c),K=(a,b,c)=>((a.has(b)?a:a.set(b,new Set)).get(b).add(c),c),L=(a,b=!1)=>(c,d)=>{if(b){const b=d;d=(e,f,g)=>{b(e,f,g),J(a,c,d)}}return K(a,c,z(d,{type:c,off:()=>J(a,c,d),on:()=>K(a,c,d.off())}))},M=(a={})=>{const b=new Map,c=(a)=>(b,c)=>{if(!q(b))return B(b,(c,d)=>{r(c)&&(b[d]=a(d,c))});return r(c)?a(b,c):void 0};return z(a,{on:c(L(b)),once:c(L(b,!0)),off:h(J)(b),has:(b)=>Reflect.has(a,b),hastype:(a)=>b.has(r(a)?a.type:a),hashandle:(a,c=a.type)=>b.has(c)&&b.get(c).has(a),emit(c,d,e,f){return b.has(c)&&b.get(c).forEach((a)=>a(d,e,f)),a}})},N=M((b,c)=>(N.active||(I(a,'hashchange',()=>{const a=location.hash;N.emit(N.hastype(a)?a:'default',a)}),N.active=!0),r(b)&&([c,b]=[b,'default']),'default'===b||b.includes('#/')||(b='#/'+b),(location.hash===b||'default'===b)&&c(location.hash),N.on(b,c))),O=()=>'complete'===b.readyState||x(b.body),P=new Set;H(a,'DOMContentLoaded',()=>B(P,(a)=>a()).clear());const Q=(a)=>O()?a():P.add(a),R=(a)=>r(a)?R(a()):x(a)?a:b.createRange().createContextualFragment(a),S=(a)=>t(a)?R(a):b.createDocumentFragment(),T=h((a,b,d)=>(a.dispatchEvent(q(b)?new CustomEvent(b,d===c?c:{detail:d}):b),a),2),U=new Set,V=(a)=>T(a,'create'),W=(a)=>(U.has(a)||setTimeout(()=>U.add(T(a,'mount')),0),a),X=(a)=>(U.delete(a),T(a,'destroy')),Y=(a,b=S())=>(B(C(a),(a)=>b.appendChild(W(R(a)))),b),Z={replace(a,b){return a.replaceWith(b),b},css:h((a,b,c)=>(s(b)?B(b,(b,c)=>{a.style[c]=b}):y(q,b,c)&&(a.style[b]=c),a),2),Class:h((a,b,c=!a.classList.contains(b))=>{if(!s(b)){const d=c?'add':'remove';b.includes(' ')?B(b.split(' '),(b)=>a.classList[d](b)):a.classList[d](b)}else B(b,(b,c)=>a.classList[b?'add':'remove'](c));return a},2),hasClass:h((a,b)=>a.classList.contains(b)),attr:h((b,a,c)=>{if(b.attributes)if(s(a))B(a,(c,d)=>{b.setAttribute(d,c),aa(d,b)});else if(q(a)){if(!t(c))return b.getAttribute(a);b.setAttribute(a,c),aa(a,b)}return b},2),rmAttr(a,b){return a.removeAttribute(b),a},hasAttr:(a,b)=>a.hasAttribute(b),getAttr:(a,b)=>a.getAttribute(b),setAttr:(a,b,c='')=>a.setAttribute(b,c),attrToggle:h((a,b,c=!a.hasAttribute(b),d=a.getAttribute(b)||'')=>(a[c?'setAttribute':'removeAttribute'](b,d),a),2),emit:T,append:h((a,...b)=>(fa(a)((a)=>a.appendChild(Y(b))),a),2),prepend:h((a,...b)=>(fa(a)((a)=>a.prepend(Y(b))),a),2),appendTo:h((a,b)=>(fa(b)((b)=>b.appendChild(a)),a)),prependTo:h((a,b)=>(fa(b)((b)=>b.prepend(a)),a)),remove(a,b){return p(b)?setTimeout(()=>a.remove(),b):a.remove(),a}},$=new Map,_=(a,b)=>(a[b+'_init']=!0,a),aa=(a,b,c)=>{if($.has(a)){const d=b.getAttribute(a),{init:e,update:f,destroy:g}=$.get(a);t(d)?b[a+'_init']?f&&d!==c&&f(b,d,c):e(_(b,a),d):g&&g(b,d,c)}},ba=(a,b,c='appendChild')=>(V(a),fa(b)((b)=>b[c](W(a)),(a)=>ea('render fault:',...a)),a),ca=i(x,m,t),da=(a,c,...d)=>{const e=b.createElement(a);if(ca(c)&&d.unshift(c),Z.append(e,d),s(c)){if('attr'in c&&Z.attr(e,c.attr),c.css&&Z.css(e,c.css),c.class&&(e.className=c.class),c.props&&B(c.props,(a,b)=>{b in e?e[b]=a:f(e,b,s(a)&&(a.get||a.set||'value'in a)?a:g(c.props,b))}),c.methods&&z(e,c.methods),c.once&&H(e,c.once),c.on&&I(e,c.on),c.lifecycle){const{mount:a,destroy:b,create:d}=c.lifecycle;I(e,'destroy',()=>{b&&b(e),a&&H(e,'mount',()=>a(e))}),a&&H(e,'mount',()=>a(e)),d&&H(e,'create',()=>d(e))}c.run&&Q(()=>c.run(e)),c.render?ba(e,c.render):c.renderAfter?ba(e,c.renderAfter,'after'):c.renderBefore&&ba(e,c.renderBefore,'before')}return V(e)},ea=console.error.bind(console),fa=new Proxy(z((a,c=b)=>(d,e=ea)=>{x(a)?d(a):'head'===a?d(b.head):q(a)?Q(()=>{const f='body'===a?b.body:D(a,c);x(f)?d(f):e([404,a])}):e([403,a])},{create:da,query:D,queryAll:E,queryEach:F,html:R,frag:S}),{get:(a,b)=>b in a?a[b]:da.bind(c,b),set:(a,b,c)=>a[b]=c});new a.MutationObserver((a)=>B(a,({addedNodes:a,removedNodes:b,target:c,attributeName:d,oldValue:e})=>{a.length&&k(a,W),b.length&&k(b,X),d&&'style'!==d&&aa(d,c,e)})).observe(b,{attributes:!0,childList:!0,subtree:!0}),a.rilti={dom:fa,domfn:Z,notifier:M,compose:(...a)=>a.reduce((a,b)=>(...c)=>a(b(...c))),caseMatch:i,not:(a)=>(...b)=>!a(...b),yieldloop:A,on:I,once:H,directive:(a,b)=>{$.set(a,b),Q(()=>{F(`[${a}]`,(b)=>{aa(a,b)})})},directives:$,extend:z,route:N,render:ba,run:Q,curry:h,each:B,flatten:C,isMounted:(a,c=b)=>c===a||!!(16&c.compareDocumentPosition(a)),isDef:(a)=>a!==c&&a!==d,isNill:o,isPrimitive:t,isNull:(a)=>a===d,isFunc:r,isStr:q,isBool:n,isNum:p,isInt:v,isIterator:u,isObj:s,isArr:l,isArrlike:m,isEmpty:(a)=>!a||!((s(a)?e(a):p(a.length)&&a).length||a.size),isEl:w,isEq:y,isNode:x,isNodeList:(a)=>a&&(a instanceof NodeList||m(a)&&j('every',a,x)),isInput:(a)=>w(a)&&'INPUT TEXTAREA'.includes(a.tagName),isMap:(a)=>a&&a instanceof Map,isSet:(a)=>a&&a instanceof Set}}