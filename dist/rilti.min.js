(function(a,b){"object"==typeof exports&&"undefined"!=typeof module?b(exports):"function"==typeof define&&define.amd?define(["exports"],b):b(a.rilti={})})(this,function(a){"use strict";const b=Symbol("Model"),c=Symbol("Proxy Node"),d=Symbol("Component"),e=a=>j(a)&&!0===a[b],f=a=>k(a)&&!0===a[c],g=a=>a!==void 0&&a[d]!==void 0,h=Array.isArray,i=a=>a===void 0||null===a,j=a=>a!==void 0&&null!==a,k=a=>a instanceof Function,l=a=>"boolean"==typeof a,m=a=>"object"==typeof a&&a.constructor===Object,n=a=>"string"==typeof a,p=a=>"number"==typeof a&&!isNaN(a),o=a=>p(a)&&0==a%1,q=a=>h(a)||a instanceof window.NodeList||j(a)&&!(k(a)||s(a))&&0==a.length%1,r=(a,b=!0)=>a instanceof window.NodeList||b&&A(a,s),s=a=>a instanceof window.Node,t=a=>(a=typeof a,"string"===a||"number"===a||"boolean"===a),u=a=>a instanceof window.Element,v=a=>"object"==typeof a&&k(a.then),w=a=>a instanceof RegExp,x=(a,b=document)=>r(a)?Array.from(a).every(a=>x(a)):b===a||!!(16&b.compareDocumentPosition(a)),y=a=>(f(a)&&(a=a()),a instanceof window.HTMLInputElement||a instanceof window.HTMLTextAreaElement),z=a=>a instanceof window.Node||f(a)||t(a)||A(a,z),A=(a,b)=>{if(q(a)){const c=b instanceof Function;for(let d=0;d<a.length;d++)if(c?!b(a[d]):a[d]!==b)return!1;return!0}return!1},B=(a,b=a.length,...c)=>b<=c.length?a(...c):B.bind(void 0,a,b,...c),C=(a,b=[],c=!0)=>{if(c&&!h(a))return[a];for(let d=0;d<a.length;d++)h(a[d])?C(a[d],b):b.push(a[d]);return b},D=a=>{document.body||"complete"===document.readyState?setTimeout(a,0):window.addEventListener("DOMContentLoaded",a)},E=(a,b=document)=>s(a)?a:E(b).querySelector(a),F=(a,b)=>new Promise((c,d)=>{const e=()=>{const e=E(a,b);i(e)?d(new Error(`queryAsync: couldn't find ${a}`)):c(e)};document.body?e():D(e)}),G=(a,b=document)=>Array.from(E(b).querySelectorAll(a)),H=(a,b,c=document)=>(k(b)||([b,c]=[c,document]),I(G(a,c),b)),I=(a,b)=>{if(j(a))if(m(a))for(const c in a)b(a[c],c,a);else if(a.length){const c=a.length;for(let d=0;d!==c;)b(a[d],d++,a)}else if(a.forEach)a.forEach(b);else if(o(a))for(let c=0;c<a;)b(c++,a);return a},J=(a,b=!1)=>new Proxy(a,{get:(a,c)=>b&&c in a?Reflect.get(a,c):a.bind(void 0,c)}),K=a=>(b,c)=>a[c===void 0?"has":c?"add":"delete"](b);var L=(a={},b=new Map)=>Object.assign(a,{listeners:b,emit:J((a,...c)=>{if(b.has(a))for(const d of b.get(a))d.apply(void 0,c)}),emitAsync:J((a,...c)=>setTimeout(()=>{if(b.has(a))for(const d of b.get(a))setTimeout(d,0,...c)},0),!1),on:J((c,d)=>{b.has(c)||b.set(c,new Set),b.get(c).add(d);const e=()=>a.off(c,d);return e.off=e,e.on=()=>(e(),a.on(c,d)),e.once=()=>(e(),a.once(c,d)),e}),once:J((b,c)=>a.on(b,function d(){c(...arguments),a.off(b,d)})),off:J((a,c)=>{if(b.has(a)){const d=b.get(a);d.delete(c),d.size||b.delete(a)}})});const M=new Map,N=a=>{if(f(a))return a;if("string"==typeof a&&(a=E(a)),M.has(a))return M.get(a);if(!s(a))throw new TypeError(`$ needs a Node: ${a}`);const b=new Proxy((...b)=>(ja.class(a,...b),p),{get:(b,c)=>a.classList.contains(c),set:(a,b,c)=>a(b,c),deleteProperty:(b,c)=>!!a.classList.remove(c)});if(u(a))var d=a.getAttribute.bind(a),g=a.hasAttribute.bind(a),h=ja.removeAttribute.bind(void 0,a),i=new Proxy((b,c)=>{const d=ja.attr(a,b,c);return d===a?p:d},{get(a,b){return"has"===b?g:"remove"===b||"rm"===b?h:d(b)},set(a,b,c){return"remove"===b?h(c):a(b,c),!0},deleteProperty:(b,c)=>ja.removeAttribute(a,c)});const j=y(a)?"value":"textContent",l=y(a)?"value":3===a.nodeType?j:"innerHTML",m=J(O(!0,a),!1),o=J(O(!1,a),!1),p=new Proxy(b=>(k(b)&&!f(b)&&b.call(a,p,a),a),{get(d,g){return"class"===g?b:"attr"===g?i:"txt"===g?a[j]:"html"===g?a[l]:"on"===g?o:"once"===g?m:"emit"===g?ea.bind(void 0,a):"mounted"===g?x(a):"render"===g?ia.bind(a,a):"children"===g?Array.from(a.children):"$children"===g?Array.from(a.children).map(N):"parent"===g&&a.parentNode?N(a.parentNode):g in ja?(...b)=>{const c=ja[g](a,...b);return c===a||c===p?p:c}:g===c||(!k(a[g])||f(a[g])||e(a[g])?a[g]:a[g].bind(a))},set(c,d,e){return"class"===d?b(a,e):"attr"===d?i(a,e):"css"===d?ja.css(a,e):"txt"===d?a[j]=e:"html"===d||"children"===d?n(e)?a[l]=e:(a[j]="",fa(ga(e),a)):a[d]=e,!0}});return M.set(a,p),p},O=B((a,b,c,d,e=!1)=>{if(n(b)&&(b=E(b)),m(c)){for(const d in c)c[d]=O(a,b,d,c[d],e);return c}if(!k(d))return O.bind(void 0,a,b,c);d=d.bind(b);const f=u(b)?N(b):b,g=b=>{d(b,f),a&&h()},h=()=>(b.removeEventListener(c,g),j),i=d=>(a=!!d,b.addEventListener(c,g,e),j),j={handler:g,on:i,off:h,once:i.bind(void 0,!0),emit(a,c){return b.dispatchEvent(new window.CustomEvent(a,{detail:c})),j}};return i(a)},3),P={get:(a,b)=>(c,d,e)=>a(c,b,d,e)},Q=new Proxy(O(!0),P),R=new Proxy(O(!1),P),S=(a,b)=>(a instanceof Function&&(a=a(b)),"string"==typeof a)?Array.from(document.createRange().createContextualFragment(a).childNodes):a instanceof window.Node?a:h(a)?a.map(a=>S(a)):void 0,T=a=>a===void 0?document.createDocumentFragment():S(a),U={props(a,b){const c=N(a);for(const d in b){let g=b[d];if(d in a)a[d]=g;else if("accessors"==d)for(const b in g){const{set:d=g[b],get:e=g[b]}=g[b],f={};k(d)&&(f.set=d.bind(a,c)),k(e)&&(f.get=e.bind(a,c)),Object.defineProperty(a,b,f)}else!k(g)||f(g)||e(g)?Object.defineProperty(a,d,Object.getOwnPropertyDescriptor(b,d)):a[d]=g.call(a,c)}},methods(a,b){const c=N(a);for(const d in b)Object.defineProperty(a,d,{value:b[d].bind(a,c)})}},V=(a,b)=>b in a?Reflect.get(a,b):new Proxy(a.bind(void 0,b),{get(a,b){const c=[b.replace(/_/g,"-")];return new Proxy((...b)=>(a=a(...b),ja.class(a(),c),a),{get(a,b,d){return c.push(b.replace(/_/g,"-")),d}})}}),W=J(function(a,b){const c="string"==typeof a?document.createElement(a):a;let d=Array.prototype.slice.call(arguments,2);if(m(b))for(const a in b)a in c?c[a]=b[a]:"$"==a||"render"==a?b[a].nodeType?b[a].appendChild(c):ha(b[a],"appendChild",c):ja.hasOwnProperty(a)?ja[a](c,b[a]):0===a.indexOf("on")?R(c,b[a]):0===a.indexOf("once")?Q(c,b[a]):c.setAttribute(a,b[a]);else"string"==typeof b?c.appendChild(new window.Text(b)):b instanceof window.Node?c.appendChild(b):b instanceof Function?d.unshift(b(c)):(h(b)||b instanceof window.NodeList)&&(d=Array.prototype.concat.call(b,d));if(d.length){const a=T();for(let b,e=0;e<d.length;e++)b=d[e],b instanceof Function&&(b=b(c)),b instanceof window.Node?a.appendChild(b):h(b)?fa(b,c,"appendChild",a,!0):void 0!==b&&a.appendChild(new window.Text(b));c.appendChild(a)}return c}),X=["$","id","render","children","html","class","className"],Y=(a,b,...c)=>{const d=document.createElementNS("http://www.w3.org/2000/svg",a);if(m(b))for(const a in b)t(b[a])&&-1===X.indexOf(a)&&!(a in ja)&&(d.setAttribute(a,b[a]),b[a]=void 0);return $(d,b,...c)},Z=new Proxy(Y.bind(void 0,"svg"),{get:(a,b)=>V(Y,b)}),$=new Proxy(Object.assign((a,b,...c)=>{const d="string"==typeof a?document.createElement(a):a,e=sa.has(d.tagName);if(e)var g;const i=N(d);if(m(b)){var j=b.pure;for(const a in!e&&b.props&&U.props(d,b.props),b.methods&&U.methods(d,b.methods),b.sync&&(b.sync=b.sync(d)),b){let c=b[a];const e=0===a.indexOf("once"),f=!e&&0===a.indexOf("on");if(e||f){const f=e?4:2,g=a.substr(0,f);let i=a.substr(f);const j=O(e),k=h(c)?c:[c];b[g]||(b[g]={}),b[g][i]=i.length?j(d,i,...k):j(d,...k)}else a in d?k(d[a])?h(c)?d[a].apply(d,c):d[a](c):d[a]=b[a]:a in ja&&(c=h(b[a])?ja[a](d,...c):ja[a](d,c),c!==d&&(b[a]=c))}if(b.cycle){const{mount:a,create:c,remount:e,unmount:f}=b.cycle;c&&Q.create(d,c.bind(d,i)),a&&Q.mount(d,a.bind(d,i)),b.cycle.unmount=f&&R.unmount(d,f.bind(d,i)),b.cycle.remount=e&&R.remount(d,e.bind(d,i))}e&&(ta(d,void 0,void 0,b.props),g=!0);const a=b.$||b.render;a?ha(a,"appendChild",d):b.renderAfter?ha(b.renderAfter,"after",d):b.renderBefore&&ha(b.renderBefore,"before",d)}if(3!==d.nodeType){if(f(b)&&b!==i)c.unshift(b(i));else if(b instanceof Function){const a=b.call(d,i);b=a!==d&&a!==i?a:void 0}z(b)&&c.unshift(b),c.length&&ha(d,"appendChild",...c)}return e?!g&&ta(d,void 0):na(d,!0,e),j?d:i},{text:(a,b="")=>(t(a)&&([b,a]=[a,void 0]),$(new window.Text(b),a)),body:(...a)=>(ha(document.body||"body","appendChild",...a),1<a.length?a:a[0]),svg:Z,frag:T,html:S}),{get:V}),_=new Map,aa=(a,b)=>_.has(a)&&_.get(a)(b),ba=(a,b,c)=>{a=N(a);const{init:d,update:e,remove:f}=c,g=(c,e)=>c&&!aa(b,a)?(d&&d(a,e),_.has(b)||_.set(b,K(new WeakSet)),_.get(b)(a,!0),!0):aa(b,a);let h=!1,i=a.getAttribute(b);g(a.hasAttribute(b),i);const j=a.on.attr(({detail:{name:c,value:d,oldvalue:j,present:k}})=>{b===c&&i!==d&&d!==j&&g(k,d)&&(k?(e&&e(a,d,i),h=!1):!h&&(f&&f(a,d,i),h=!0),i=d)}).off;return()=>{j(),_.has(b)&&_.get(b)(a,!1)}},ca=new Map,da=(a,b,c,d=a.getAttribute(b),e=a.hasAttribute(b))=>{ca.has(b)&&ca.get(b).init(N(a)),ea(a,"attr",{name:b,value:d,oldvalue:c,present:e})},ea=(a,b,c)=>(a.dispatchEvent(new window.CustomEvent(b,{detail:c})),a),fa=(a,b,c="appendChild",d=T(),e)=>{for(let f,g=0;g<a.length;g++){if(f=a[g],f instanceof Function)if((f=f(b))===b)continue;else if(f instanceof Function){let a=0,c=!1;for(;f instanceof Function&&25>a&&(f=f(),!(c=f===b));)a++;if(c)continue}if("string"==typeof f){if(!f.length)continue;f=new window.Text(f)}else h(f)&&(f=fa(f,b,c,d,!0));f instanceof window.Node&&(d.appendChild(f),a[g]=f)}if(b&&!e){b[c](d);for(let b=0;b<a.length;b++)a[b]&&a[b].dispatchEvent&&oa(a[b])}return a},ga=(...a)=>{for(let b,c=0;c<a.length;c++){if(b=a[c],b instanceof window.Node||b instanceof Function)continue;else if(t(b)){a[c]=new window.Text(b);continue}const d=b instanceof window.NodeList;if(d){if(2>b.length){a[c]=b[0];continue}b=Array.from(b)}else m(b)&&(b=Object.values(b));if(h(b)){if(!d&&(b=ga.apply(void 0,b),2>b.length)){a[c]=b[0];continue}const e=b.length;b.unshift(c,1),a.splice.apply(a,b),b.slice(2,0),c+=e}else if(j(b))throw new Error(`illegal renderable: ${b}`)}return a},ha=(a,b,...c)=>{a instanceof Function&&(a=a());const d=a instanceof window.Node;if(c=ga(c),d)"after"!==b&&"before"!==b||x(a)?fa(c,a,b):Q.mount(a,()=>ha(a,b,...c));else if(n(a))return F(a).then(a=>ha(a,b,...c));return h(a)&&a.push(...c),2>c.length?c[0]:c},ia=(a,b=document.body||"body",c="appendChild")=>ha(b,c,a),ja={css(a,b,c){if(m(b))for(const c in b)ja.css(a,c,b[c]);else n(b)&&(0===b.indexOf("--")?a.style.setProperty(b,c):a.style[b]=c);return a},class(a,b,c){if(!a.classList)return a;if(h(a)){for(let d=0;d<a.length;d++)ja.class(a[d],b,c);return a}if(m(b))for(const c in b)ja.class(a,c,l(b[c])?b[c]:void 0);else if(n(b)&&(b=b.split(" ")),h(b)){const e=l(c);for(var d=0;d<b.length;d++)a.classList[e?c?"add":"remove":"toggle"](b[d])}return a},hasClass:B((a,b)=>a.classList.contains(b)),attr(b,c,a){if(m(c))for(const d in c){const a=i(c[d]);b[a?"removeAttribute":"setAttribute"](d,c[d]),da(b,d,void 0,c[d],!a)}else if(n(c)){const d=b.getAttribute(c);if(i(a))return d;b.setAttribute(c,a),da(b,c,d,a)}return b},removeAttribute(a,...b){b=C(b);for(var c=0;c<b.length;c++)a.removeAttribute(b[c]),da(a,b[c],void 0,void 0,!1);return a},attrToggle(a,b,c=!a.hasAttribute(b),d=a.getAttribute(b)||""){return a[c?"setAttribute":"removeAttribute"](b,d),da(a,b,c?d:null,c?null:d,c),a},emit:ea,append(a,...b){return ha(a,"appendChild",...b),a},prepend(a,...b){return ha(a,"prepend",...b),a},appendTo(a,b){return ha(b,"appendChild",a),a},prependTo(a,b){return ha(b,"prepend",a),a},clear(a){return a[y(a)?"value":"textContent"]="",a},refurbish(a){return Array.from(a.attributes).forEach(({name:b})=>{a.removeAttribute(b)}),a.removeAttribute("class"),ja.clear(a)},remove(a,b){return(k(a)&&(a=a()),h(a))?a.forEach(a=>ja.remove(a,b)):(p(b)?setTimeout(()=>ja.remove(a),b):x(a)?a.remove():r(a)&&Array.from(a).forEach(a=>ja.remove(a)),a)},replace(a,b){return k(b)&&(b=b()),a.replaceWith(b),b}};ja.empty=ja.clear;const ka=K(new WeakSet),la=K(new WeakSet),ma=K(new WeakSet),na=(a,b=!ka(a),c=g(a))=>{b&&!c&&(ka(a,!0),ea(a,"create"))},oa=a=>{const b=g(a);na(a,!ka(a),b),la(a)||(ma(a)?(ma(a,!1),ea(a,"remount")):b?ta(a,"mount"):(la(a,!0),ea(a,"mount")))},pa=a=>{la(a,!1),ma(a,!0),ea(a,"unmount")},qa=a=>ta(a,"mount")||oa(a),ra=a=>ta(a,"unmount")||pa(a);new window.MutationObserver(a=>{for(let b=0;b<a.length;b++){const{addedNodes:c,removedNodes:d,attributeName:e}=a[b];if(c.length)for(let a=0;a<c.length;a++)qa(c[a]);if(d.length)for(let a=0;a<d.length;a++)ra(d[a]);"string"==typeof e&&da(a[b].target,e,a[b].oldValue)}}).observe(document,{attributes:!0,attributeOldValue:!0,childList:!0,subtree:!0});const sa=new Map,ta=(a,b,c,e)=>{if(1!==a.nodeType||!sa.has(a.tagName))return;n(b)?[c,b]=[b,sa.get(a.tagName)]:!m(b)&&(b=sa.get(a.tagName));const{create:f,mount:g,remount:h,unmount:i,props:j,methods:k,attr:l}=b,o=N(a);if(!ka(a)){if(a[d]=a.tagName,k&&U.methods(a,k),j&&U.props(a,j),e&&U.props(a,e),ka(a,!0),f&&f.call(a,o),ea(a,"create"),m(l))for(const b in l)ba(a,b,l[b]);h&&R.remount(a,h.bind(a,o))}return la(a)||"mount"!==c?"unmount"===c&&(la(a,!1),ma(a,!0),i&&i.call(a,o),ea(a,c)):ma(a)?(h&&h.call(a,o),ea(a,"remount")):(la(a,!0),g&&g.call(a,o),ea(a,c)),a},ua=(a,b={})=>(a.forEach((a,c)=>{b[c]=a}),JSON.stringify(b));a.isArr=h,a.isComponent=g,a.isNil=i,a.isDef=j,a.isObj=m,a.isFunc=k,a.isBool=l,a.isStr=n,a.isNum=p,a.isArrlike=q,a.isNodeList=r,a.isNode=s,a.isModel=e,a.isMounted=x,a.isPrimitive=t,a.isPromise=v,a.isProxyNode=f,a.isRenderable=z,a.isRegExp=w,a.isInt=o,a.isInput=y,a.isEmpty=a=>i(a)||!((m(a)?Object.keys(a):a).length||a.size),a.isEl=u,a.isSvg=a=>(f(a)&&(a=a()),a instanceof window.SVGElement),a.allare=A,a.attributeObserver=ba,a.flatten=C,a.curry=B,a.compose=(...a)=>a.reduce((c,a)=>(...b)=>c(a(...b))),a.components=sa,a.component=(a,b)=>{if(-1===a.indexOf("-"))throw new Error(`component: ${a} tagName is un-hyphenated`);return sa.set(a.toUpperCase(),b),D(()=>H(a,ta)),$[a]},a.run=D,a.render=ia,a.runAsync=(a,...b)=>setTimeout(a,0,...b),a.query=E,a.queryAsync=F,a.queryAll=G,a.queryEach=H,a.on=R,a.once=Q,a.emitter=L,a.each=I,a.svg=Z,a.fastdom=W,a.dom=$,a.domfn=ja,a.html=S,a.directive=(a,{init:b,update:c,remove:d,accessors:e,toggle:f})=>{const g=new Map;g.init=e=>{aa(a,e)||g.set(e,ba(e,a,{init:b,update:c,remove:d}))},g.stop=a=>{g.has(a)&&g.get(a)()},ca.set(a,g),D(()=>{H("["+a+"]",b=>{da(b,a)})})},a.directives=ca,a.prime=ga,a.map2json=ua,a.model=(a,c=L(),d=new Map)=>{function e(a,b){if(n(b)&&A(arguments,n))for(var c=0;c<arguments.length;c++)e(arguments[c],b);else d.delete(a),b||(o("delete",a),o("delete:"+a));return u}let g;const{emit:o,emitAsync:p,on:q,once:r}=c,t=new Proxy(a=>d.has(a),{get:(a,b)=>d.has(b)}),u=(a,b,c)=>{if("string"==typeof a){const e=d.get(a);return j(b)&&b!==e?(d.set(a,b),c||(o("set",a,b),o("set:"+a,b)),b):(c||(o("get",a),o("get:"+a)),e)}if(m(a))for(const c in a)i(a[c])?e(c,b):u(c,a[c],b);else if(h(a))for(var f=0;f<a.length;f++)u(a[f][0],a[f][1],b);return g},x=new Map,z=new Proxy(function(a,b,c=b){if(h(a)){const b=Array.from(arguments).slice(1);if(b.every(n))return z.template(a,...b)}else f(a)&&"html"!==b&&(a=a());let d=y(a)||a.isContentEditable;d&&c===b&&([c,b]=[b,a.isContentEditable?"innerText":"value"]),x.has(a)||x.set(a,new Map);let e="set";if(-1!==c.indexOf(":")){[e,c]=c.split(":");var g="valid"===e,i="compute"===e;g&&(e="validate")}if(x.get(a).set(c,q(e+":"+c,c=>{d&&a[b].trim()===c||(a[b]=c)})),!g&&d)var j=N(a).on.input(()=>{u(c,a[b].trim()),D.has(c)&&E(c)});return g?a[b]=E(c):i&&G.has(c)?a[b]=H(c):t(c)&&(a[b]=u(c)),r("delete:"+c,()=>{j&&j(),z.stop(a,c)}),a},{get(a,b){return Reflect.has(a,b)?Reflect.get(a,b):(c,d)=>{if(i(c))return z.text(b);if(i(d)){if((s(c)||f(c))&&!y(c)&&!c.isContentEditable)return z.text(b);d=b}return a(c,d,b)}}});z.stop=(a,b)=>{if(t(a)){const c=x.get(a);b?c.has(b)&&(c.get(b).off(),c.delete(b)):I(c,a=>a.off()).clear(),c.size||x.delete(a)}return a},z.text=new Proxy(a=>z(new window.Text,"textContent",a),{get:(a,b)=>a(b)}),z.template=(a,...b)=>C(b.reduce((b,c,d)=>[b,z.text(c),a[d+1]],a[0]).filter(a=>!n(a)||a.length));const B=new Proxy((a,b)=>t(a)?b(d.get(a)):r("set:"+a,b),{get:(a,b)=>new Promise(a=>{t(b)?a(d.get(b)):r("set:"+b,a)}),set:(a,b,c)=>c.then(u.bind(void 0,b))}),D=new Map,E=a=>{const b=d.has(a)&&D.has(a)&&D.get(a)(d.get(a));return o("validate:"+a,b),o("validate",a,b),b},F=new Proxy((a,b)=>{if(i(b))return E(a);if(w(b)){const a=b;b=b=>n(b)&&a.test(b)}if(k(b)){if(!l(b()))throw new Error(`".${a}": bad validator`);D.set(a,b)}},{get:(a,b)=>E(b),set:(a,b,c)=>a(b,c)}),G=new Map,H=new Proxy(function(a,b){if(k(b))G.set(a,b);else if(n(b)&&A(arguments,n)){const a={};return I(arguments,b=>{a[b]=H(b)}),a}if(G.has(a)){const b=G.get(a),c=b(g);return b.result!==c&&(p("compute:"+a,c),p("compute",a,c),b.result=c),c}m(a)&&I(a,(a,b)=>H(b,a))},{get:(a,b)=>a(b),set:(a,b,c)=>a(b,c)}),J=()=>Array.from(d.entries()),K=a=>(d.forEach((b,c)=>{const e=a(b,c);i(e)||e===b||d.set(c,b)}),g),M=a=>(d.forEach((b,c)=>{a(b,c)||d.delete(c)}),g);if(n(a))try{u(JSON.parse(a),!0)}catch(a){}else j(a)&&u(a,!0);return g=new Proxy(Object.assign(u,c,{compute:H,async:B,valid:F,each:a=>(d.forEach(a),g),has:t,del:e,map:K,filter:M,store:d,sync:z,syncs:x,toJSON:()=>ua(d),toArray:J,toJSONArray:()=>JSON.stringify(J())}),{get:(a,b)=>Reflect.has(a,b)?a[b]:"size"===b?d.size:u(b),set:(a,b,c)=>v(c)?B(b,c):u(b,c),delete:(a,b)=>e(b)}),g[b]=!0,g},a.Mounted=la,a.Unmounted=ma,a.Created=ka,a.$=N,Object.defineProperty(a,"__esModule",{value:!0})});