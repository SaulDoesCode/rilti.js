{const a=window,b=document,c=void 0,d=null,e=Object.keys,f=Object.defineProperty,g=Object.getOwnPropertyDescriptor,h=(a,b=a.length,c=(...d)=>(...e)=>(e.length+d.length>=b?a:c)(...d.concat(e)))=>c(),i=(...a)=>(b)=>a.some((a)=>b===a||r(a)&&a(b)),j=(a,b,...c)=>Array.prototype[a].apply(b,c),k=h(j,2)('forEach'),l=Array.isArray,m=(a)=>a&&!(a instanceof Function)&&p(a.length),n=(a)=>!0===a||!1===a,o=(a)=>a===c||a===d||0===a,p=(a)=>'number'==typeof a,q=(a)=>'string'==typeof a,r=(a)=>a&&a instanceof Function,s=(a)=>a&&a.constructor===Object,t=i(q,n,p),u=(a)=>a&&a.toString().includes('Iterator'),v=(a)=>p(a)&&0==a%1,w=(a)=>a&&a instanceof Element,x=(a)=>a&&a instanceof Node,y=h((a,...b)=>b.every(r(a)?(b)=>a(b):(b)=>a===b),2),z=console.error.bind(console),A=(a={},b,c=!1,d=e(b))=>(d.length&&C(d,(d)=>{c&&(!c||d in a)||f(a,d,g(b,d))}),a),B=(a,b,c,d=~~(a/10)||1,e=-1,f=()=>{for(const c=Math.min(e+d,a);e<c;)b(++e);e<a?setTimeout(f,0):r(c)&&c()})=>f(),C=(a,b,c=0)=>{if(!o(a))if(a.forEach)a.forEach(b);else if(0<a.length)k(a,b);else if(s(a))for(c in a)b(a[c],c,a);else if(v(a))B(a,b);else if(a.entries||u(a))for(const[c,d]of a)b(c,d,a);return a},D=(a)=>m(a)?j('reduce',a,(a,b)=>a.concat(l(b)?D(b):b),[]):[a],E=(a,c=b)=>x(a)?a:E(c).querySelector(a),F=(a,c=b)=>Array.from(E(c).querySelectorAll(a)),G=(a,c,d=b)=>(r(c)||([c,d]=[d,b]),C(F(a,d),c)),H=(a,c=b)=>c===a||!!(16&c.compareDocumentPosition(a)),I=h((a,b,d,e,f=!1)=>{if(q(b)&&(b=E(b)),!b.addEventListener)return z('EventManager: target invalid');if(s(d))return C(d,(c,d)=>I(a,b,d,c,f));if(!r(e))return I.bind(c,a,b,d);e=e.bind(b);const g=(c)=>{e(c,b),a&&h()},h=()=>(b.removeEventListener(d,g),j),i=(c)=>(a=!!c,b.addEventListener(d,g,f),j),j={handler:g,type:d,reseat(b,c){return c&&h(),I(a,b,d,e,f)},on:()=>i(),once:()=>i(!0),off:()=>h()};return i(a)},3),J=I(!0),K=I(!1),L=(a,b,c)=>(a.has(b)&&1>a.get(b).delete(c).size&&a.delete(b),c),M=(a,b,c)=>((a.has(b)?a:a.set(b,new Set)).get(b).add(c),c),N=(a,b=!1)=>(c,d)=>{if(b){const b=d;d=(e,f,g)=>{b(e,f,g),L(a,c,d)}}return M(a,c,A(d,{type:c,off:()=>L(a,c,d),on:()=>M(a,c,d.off())}))},O=(a={})=>{const b=new Map,c=(a)=>(b,c)=>{if(!q(b))return C(b,(c,d)=>{r(c)&&(b[d]=a(d,c))});return r(c)?a(b,c):void 0};return A(a,{on:c(N(b)),once:c(N(b,!0)),off:h(L)(b),has:(b)=>Reflect.has(a,b),hastype:(a)=>b.has(r(a)?a.type:a),hashandle:(a,c=a.type)=>b.has(c)&&b.get(c).has(a),emit(c,d,e,f){return b.has(c)&&setTimeout(()=>{b.get(c).forEach((a)=>{a(d,e,f)})},0),a}})},P=O((b,c)=>(P.active||(K(a,'hashchange',()=>{const a=location.hash;P.emit(P.hastype(a)?a:'default',a)}),P.active=!0),r(b)&&([c,b]=[b,'default']),'default'===b||b.includes('#/')||(b='#/'+b),(location.hash===b||'default'===b)&&c(location.hash),P.on(b,c))),Q=()=>'complete'===b.readyState||x(b.body),R=new Set;J(a,'DOMContentLoaded',()=>C(R,(a)=>a()).clear());const S=(a)=>Q()?a():R.add(a),T=(a)=>r(a)?T(a()):x(a)?a:b.createRange().createContextualFragment(a),U=(a)=>t(a)?T(a):b.createDocumentFragment(),V=h((a,b,d)=>(a.dispatchEvent(q(b)?new CustomEvent(b,d===c?c:{detail:d}):b),a),2),W=new Set,X=(a)=>V(a,'create'),Y=(a)=>(W.has(a)||setTimeout(()=>W.add(V(a,'mount')),0),a),Z=(a)=>(W.delete(a),V(a,'destroy')),$=(a,b=U())=>(C(D(a),(a)=>b.appendChild(Y(T(a)))),b),_={replace(a,b){return a.replaceWith(b),b},css:h((a,b,c)=>(s(b)?C(b,(b,c)=>{a.style[c]=b}):y(q,b,c)&&(a.style[b]=c),a),2),Class:h((a,b,c=!a.classList.contains(b))=>{if(!s(b)){const d=c?'add':'remove';b.includes(' ')?C(b.split(' '),(b)=>a.classList[d](b)):a.classList[d](b)}else C(b,(b,c)=>a.classList[b?'add':'remove'](c));return a},2),hasClass:h((a,b)=>a.classList.contains(b)),attr:h((b,a,c)=>{if(b.attributes)if(s(a))C(a,(c,d)=>{b.setAttribute(d,c),ca(d,b)});else if(q(a)){if(!t(c))return b.getAttribute(a);b.setAttribute(a,c),ca(a,b)}return b},2),rmAttr(a,b){return a.removeAttribute(b),a},hasAttr:(a,b)=>a.hasAttribute(b),getAttr:(a,b)=>a.getAttribute(b),setAttr:(a,b,c='')=>a.setAttribute(b,c),attrToggle:h((a,b,c=!a.hasAttribute(b),d=a.getAttribute(b)||'')=>(a[c?'setAttribute':'removeAttribute'](b,d),a),2),emit:V,append:h((a,...b)=>(ga(a).then((a)=>a.appendChild($(b))),a),2),prepend:h((a,...b)=>(ga(a).then((a)=>a.prepend($(b))),a),2),appendTo:h((a,b)=>(ga(b).then((b)=>b.appendChild(a)),a)),prependTo:h((a,b)=>(ga(b).then((b)=>b.prepend(a)),a)),remove(a,b){return p(b)?setTimeout(()=>a.remove(),b):a.remove(),a}},aa=new Map,ba=(a,b)=>(a[b+'_init']=!0,a),ca=(a,b,c)=>{if(aa.has(a)){const d=b.getAttribute(a),{init:e,update:f,destroy:g}=aa.get(a);t(d)?b[a+'_init']?f&&d!==c&&f(b,d,c):e(ba(b,a),d):g&&g(b,d,c)}},da=(a,b,c='appendChild')=>(X(a),ga(b).then((b)=>{'after'!==c&&('before'!==c||H(b))?b[c](Y(a)):J(b,'mount',()=>b[c](Y(a)))},(a)=>z('render fault:',a)),a),ea=i(x,m,t),fa=(a,c,...d)=>{const h=x(a)?a:b.createElement(a);if(ea(c)&&d.unshift(c),d.length&&'#text'!==h.nodeName&&_.append(h,d),s(c)){if('attr'in c&&_.attr(h,c.attr),c.css&&_.css(h,c.css),c.class&&(h.className=c.class),c.props&&C(e(c.props),(a)=>{a in h?h[a]=c.props[a]:f(h,a,g(c.props,a))}),c.methods&&A(h,c.methods),c.once&&J(h,c.once),c.on&&K(h,c.on),c.lifecycle){const{mount:a,destroy:b,create:d}=c.lifecycle;K(h,'destroy',()=>{b&&b(h),a&&J(h,'mount',()=>a(h))}),a&&J(h,'mount',()=>a(h)),d&&J(h,'create',()=>d(h))}c.run&&S(()=>c.run(h)),c.render?da(h,c.render):c.renderAfter?da(h,c.renderAfter,'after'):c.renderBefore&&da(h,c.renderBefore,'before')}return X(h)},ga=new Proxy(A((a,c=b)=>new Promise((d,e)=>{x(a)?d(a):'head'===a?d(b.head):q(a)?S(()=>{const f='body'===a?b.body:E(a,c);x(f)?d(f):e([404,a])}):e([403,a])}),{create:fa,query:E,queryAll:F,queryEach:G,html:T,text:(a,b)=>{q(a)&&([b,a]=[a,{}]);const c=new Text(b);return fa(c,a)},frag:U}),{get:(a,b)=>b in a?a[b]:fa.bind(c,b),set:(a,b,c)=>a[b]=c});new MutationObserver((a)=>C(a,({addedNodes:a,removedNodes:b,target:c,attributeName:d,oldValue:e})=>{a.length&&k(a,Y),b.length&&k(b,Z),d&&'style'!==d&&ca(d,c,e)})).observe(b,{attributes:!0,childList:!0,subtree:!0}),a.rilti={dom:ga,domfn:_,notifier:O,compose:(...a)=>a.reduce((a,b)=>(...c)=>a(b(...c))),caseMatch:i,not:(a)=>(...b)=>!a(...b),yieldloop:B,on:K,once:J,directive:(a,b)=>{aa.set(a,b),S(()=>{G(`[${a}]`,(b)=>{ca(a,b)})})},directives:aa,extend:A,route:P,render:da,run:S,curry:h,each:C,flatten:D,isMounted:H,isDef:(a)=>a!==c&&a!==d,isNil:o,isPromise:(a)=>a&&a.constructor===Promise,isPrimitive:t,isNull:(a)=>a===d,isFunc:r,isStr:q,isBool:n,isNum:p,isInt:v,isIterator:u,isObj:s,isArr:l,isArrlike:m,isEmpty:(a)=>!a||!((s(a)?e(a):p(a.length)&&a).length||a.size),isEl:w,isEq:y,isNode:x,isNodeList:(a)=>a&&(a instanceof NodeList||m(a)&&j('every',a,x)),isInput:(a)=>w(a)&&'INPUT TEXTAREA'.includes(a.tagName),isMap:(a)=>a&&a instanceof Map,isSet:(a)=>a&&a instanceof Set}}