{const{assign:a,keys:b,defineProperty:c,getOwnPropertyDescriptor:d}=Object,e=window,f=document,g=void 0,h=null,i='create',j='mount',k='remount',l='unmount',[m,n,o,p,q]=[Map,Set,WeakSet,Proxy,Promise].map((a)=>(...b)=>new a(...b)),r=(a,b=a.length,...c)=>b<=c.length?a(...c):r.bind(g,a,b,...c),s=Array.isArray,t=r((a,b)=>a===b||A(b)&&b(a)),u=(a)=>(...b)=>(c)=>b[a](t(c)),v=u('some'),w=u('every'),x=(a)=>a===g||a===h,y=(a)=>!x(a),z=(a)=>'object'==typeof a&&'then'in a,A=(a)=>a instanceof Function,B=(a)=>a&&a.constructor===Object,C=(a)=>'boolean'==typeof a,D=(a)=>'string'==typeof a,E=(a)=>'number'==typeof a&&!isNaN(a),F=v(D,C,E),G=(a)=>!x(a)&&'function'==typeof a[Symbol.iterator],H=(a)=>E(a)&&0==a%1,I=(a)=>a&&(s(a)||!A(a)&&0==a.length%1),J=(a)=>a instanceof Node,K=(a,b=!0)=>a instanceof NodeList||b&&I(a)&&Array.from(a).every(J),L=(a)=>a&&a instanceof Set,M=(a)=>a&&a instanceof RegExp,N=(a)=>a&&(a instanceof HTMLInputElement||a instanceof HTMLTextAreaElement),O=v(D,C,E,J,K,(a)=>s(a)&&a.every((a)=>O(a))),P=console.error.bind(console),Q=(a={},e,f=!1,g=b(e))=>(g.forEach((b)=>{f&&(!f||b in a)||c(a,b,d(e,b))}),a),R=(a,...b)=>setTimeout(a,0,...b),S=(a,b,c,d=~~(a/10)||1,e=0,f=()=>{for(const c=Math.min(e+d,a);e<c;)b(e++);e<a?R(f):A(c)&&c()})=>f(),T=(a,b,c)=>{if(!x(a)){if(B(a))for(const c in a)b(a[c],c,a);else if(a.length)for(let c=0;c!==a.length;)b(a[c],c++,a);else if(a.forEach)a.forEach(b);else if(H(a)){if(c)S(a,b);else for(let c=0;c!==a;)b(c++,a);}else if(G(a))for(const[c,d]of a)b(d,c,a);return a}},U=(a,b=[],c=!0)=>c&&!s(a)?[a]:(T(a,(a)=>{s(a)?U(a,b):b.push(a)}),b),V=(a,b=f)=>J(a)?a:V(b).querySelector(a),W=(a,b=f)=>Array.from(V(b).querySelectorAll(a)),X=(a,b,c=f)=>(A(b)||([b,c]=[c,f]),T(W(a,c),b)),Y=(a,b=f)=>K(a)?Array.from(a).every((a)=>Y(a)):b===a||!!(16&b.compareDocumentPosition(a)),Z=(b=m())=>a((a,c)=>y(c)?(b.has(a)?b:b.set(a,n())).get(a).add(c):b.get(a),{map:b,del(a,c){b.has(a)&&1>b.get(a).delete(c).size&&b.delete(a)},has:(a,c,d=b.get(a))=>y(c)?d&&d.has(c):!!d,each(a,c){b.has(a)&&b.get(a).forEach(c)}}),$=(a,b=!0)=>p(a,{get:(c,d)=>b&&Reflect.get(a,d)||a.bind(a,d)}),_=(b={})=>{const c=Z(),d=(a,b)=>T(a,(c,d)=>{a[d]=e(d,c,b)}),e=(b,e,f=!1)=>{if(B(b))return d(b,f);const g=Q((a)=>(e.call(g,...a,g),g.one&&g.off(),g),{get armed(){return c.has(b,g)},set armed(a){a?!g.armed&&c(b,g):c.del(b,g)},mode:(b=!1,c=!0)=>a(g,{one:b,armed:c}),off:()=>a(g,{armed:!1}),on:()=>g.mode(),once:()=>g.mode(!0)});return g.mode(f)},f=$((a,b)=>e(a,b)),g=$((a,b)=>e(a,b,!0)),h=$((a,...b)=>c.each(a,(a)=>a(b)),!1),i=$((a,...b)=>c.each(a,(a)=>setTimeout(a,0,b)),!1);return Q(b,{emit:i,emitSync:h,on:f,once:g,listen:e,listeners:c})},aa=(a,b={})=>(a.forEach((a,c)=>{b[c]=a}),JSON.stringify(b)),ba=r((a,b,c,d,e=!1)=>{if(D(b)&&(b=V(b)),B(c))return T(c,(d,f)=>{c[f]=ba(a,b,f,d,e)});if(!A(d))return ba.bind(g,a,b,c);d=d.bind(b);const f=(c)=>{d(c,b),a&&h()},h=()=>(b.removeEventListener(c,f),j),i=(d)=>(a=!!d,b.addEventListener(c,f,e),j),j={handler:f,type:c,reseat(b,f){return f&&h(),ba(a,b,c,d,e)},on:i,off:h,once:i.bind(g,!0)};return i(a)},3),ca={get:(a,b)=>(c,d,e)=>a(c,b,d,e)},da=p(ba(!0),ca),ea=p(ba(!1),ca),fa=_((a,b)=>(fa.active||(ea.hashchange(e,()=>{const a=location.hash;fa.emit(fa.listeners.has(a)?a:'default',a)}),fa.active=!0),A(a)&&([b,a]=[a,'default']),'default'===a||a.includes('#/')||(a='#/'+a),(location.hash===a||'default'===a)&&b(location.hash),fa.on(a,b))),ga=(a)=>{'complete'===f.readyState||f.body?R(a):e.addEventListener('DOMContentLoaded',a)},ha=(...a)=>U(a.map((a)=>{if(A(a))return a;if(a instanceof NodeList)return Array.from(a);if(s(a))return ha(...a);if(D(a)){let b=Array.from(f.createRange().createContextualFragment(a).childNodes);if(1===b.length&&(b=b[0]),b)return b}else if(F(a))return new Text(a);if(J(a))return a;if(y(a))throw new Error(`illegal renderable: ${a}`)})),ia=(a,b,...c)=>D(a)?void Ha(a).then((a)=>ia(a,b,...c)):((c=ha(c)).forEach((c)=>{A(c)?ia(a,b,c()):J(a)?(Ba(c,ta(c)),a[b](c),Ca(c)):s(a)&&a.push(c)}),c),ja=(a,b,c)=>{a.dispatchEvent(new CustomEvent(b,{detail:c}))},ka={replace(a,b){return a.replaceWith(b),b},css:r((a,b,c)=>(B(b)?T(b,(b,c)=>ka.css(a,c,b)):D(b)&&('--'===b.slice(0,2)?a.style.setProperty(b,c):a.style[b]=c),a),2),Class:r((a,b,c=!a.classList.contains(b))=>s(a)||L(a)?T(a,(a)=>ka.Class(a,b,c)):(B(b)?T(b,(b,c)=>{ka.Class(a,c,C(b)?b:!a.classList.contains(c))}):(D(b)&&(b=b.split(' ')),s(b)&&T(b,(b)=>{a.classList[(C(c)?c:!a.classList.contains(b))?'add':'remove'](b)})),a),2),hasClass:r((a,b)=>a.classList.contains(b)),attr:r((b,a,c)=>{if(B(a))T(a,(c,d)=>{b[x(c)?'removeAttribute':'setAttribute'](d,c)});else if(D(a)){if(x(c))return b.getAttribute(a);b.setAttribute(a,c)}return b},2),rmAttr(a,...b){return b.forEach((b)=>a.removeAttribute(b)),a},hasAttr:(a,b)=>a.hasAttribute(b),getAttr:(a,b)=>a.getAttribute(b),setAttr:(a,b,c='')=>a.setAttribute(b,c),attrToggle:r((a,b,c=!a.hasAttribute(b),d=a.getAttribute(b)||'')=>(a[c?'setAttribute':'removeAttribute'](b,d),a),2),emit:ja,prime:ha,append:r((a,...b)=>Ea(b,a),2),prepend:r((a,...b)=>Ea(b,a,'prepend'),2),appendTo:r((a,b)=>ia(b,'append',a)),prependTo:r((a,b)=>ia(b,'prepend',a)),remove(a,b){return s(a)||L(a)?T(a,(a)=>ka.remove(a,b)):(H(b)?setTimeout(()=>ka.remove(a),b):Y(a)?a.remove():K(a)&&T(a,(a)=>ka.remove(a)),a)}},la=ka.mutate=(a,b,c=!0)=>s(a)?a.map((a)=>la(a,b,c)):T(b,(d,e)=>{if('html'===e||'text'===e)a['html'===e?'innerHTML':'textContent']=d;else if('children'===e||'inner'===e)a.innerHTML='',Ea(d,a);else if('sync'===e)b[e]=d(a);else if(s(d)||(d=[d]),e in ka){const c=ka[e](a,...d);c!==a&&(b[e]=c)}else if('class'===e||'className'===e)ka.Class(a,...d);else{let f=e.substr(0,4);const g='once'===f;g||(f=e.substr(0,2));const h='on'===f;if(g||h){let c=e.substr(g?4:2);const h=ba(g);b[f]||(b[f]={}),c.length?('_'===c[0]&&(c=c.replace('_','')),b[f][c]=h(a,c,...d)):b[f][c]=h(a,...d)}else(c||e in a)&&(A(a[e])?a[e](...d):a[e]=d[0])}}),ma=(a,b)=>{for(const e in b)e in a?a[e]=b[e]:'accessors'==e?T(b[e],(b,d)=>{const{set:e=b,get:f=b}=b;c(a,d,{set:e.bind(a,a),get:f.bind(a,a)})}):c(a,e,d(b,e))},na=(a,b)=>{for(const d in b)c(a,d,{value:b[d].bind(a,a)})},oa=(a)=>(b,c)=>a[C(c)?c?'add':'delete':'has'](b),pa=oa(o()),qa=oa(o()),ra=oa(o()),sa=(a)=>(a.tagName||a+'').toLowerCase(),ta=(a)=>ua.has(sa(a)),ua=m(),va=(a)=>ua.get(a&&a.tagName?sa(a):a),wa=(a,b,c,d=B(c)&&c)=>{const e=sa(a);if(ua.has(e)){D(b)?[c,b]=[b,ua.get(e)]:B(b)||(b=ua.get(e));const{create:f,mount:g,remount:h,unmount:m,props:n,methods:o,attr:p}=b;return pa(a)||(o&&na(a,o),n&&ma(a,n),pa(a,!0),f&&f(a),p&&T(p,(b,c)=>xa(c,a,b)),d&&ma(a,d),ja(a,i),h&&ea.remount(a,h.bind(a,a))),qa(a)||c!==j?c===l&&(qa(a,!1),ra(a,!0),m&&m.call(a,a),ja(a,c)):ra(a)?(h&&h.call(a,a),ja(a,k)):(qa(a,!0),g&&g.call(a,a),ja(a,c)),a}},xa=(a,b,d,e,f=b.getAttribute(a))=>{let{update:g,init:i=g,destroy:h}=d;A(d)&&(i=d,g=d);const j=a+'_init',k=b.hasAttribute(a),l=b[j];if(F(f)?!l&&k?(b[j]=!0,i&&(qa(b)?i(b,f):da.mount(b,()=>i(b,b.getAttribute(a))))):g&&f!==e&&g(b,f,e):!k&&(b[j]=!1,h&&h(b,f,e)),!(a in b)&&d.prop){let{set:e,get:f,bool:g,toggle:h}=d.prop;if(h){const c=A(h);c&&(h=h.bind(b,b)),e=(d)=>{ka.attrToggle(b,a,d),c&&h(d)},f=()=>b.hasAttribute(a)}else e=e?e.bind(b,b):(c)=>b.setAttribute(a,c),f=f?f.bind(b,b):()=>b.getAttribute(a);g&&(f=()=>'true'===b.getAttribute(a)),c(b,a,{set:e,get:f}),qa(b)||da.mount(b,()=>xa(a,b,d))}},ya=m(),za=(a,b,c)=>{const d=b.replace(/\[(\w+)\]/g,'.$1').replace(/^\./,'').split('.').reduce((a,b)=>a&&y(a[b])?a[b]:g,a);if(d!==g)return c?c(d):d},Aa=(a,b,c,d=ya.get(a)||za(va(b),'attr.'+a))=>d&&xa(a,b,d,c),Ba=(a,b)=>!pa(a)&&!b&&ja(a,i),Ca=(a)=>{qa(a)||(ra(a)?(ra(a,!1),ja(a,k)):ta(a)?wa(a,j):(qa(a,!0),ja(a,j)))},Da=(a)=>{qa(a,!1),ra(a,!0),ja(a,l)},Ea=(a,b='body',c='appendChild')=>ia(b,c,a),Fa=(a,b,...c)=>{const d=J(a)?a:f.createElement(a),e=ta(a);if(e)var h;if(d instanceof Text||(A(b)?b(d):O(b)&&c.unshift(b),c.length&&Ea(c,d)),B(b)){la(d,b,!1),b.props&&!e&&ma(d,b.props),b.methods&&na(d,b.methods);const a=b.lifecycle||b.cycle;if(a){const{mount:b,create:c,remount:e,unmount:f}=a;da.create(d,()=>{pa(d,!0),c&&c.call(d,d)}),b&&da.mount(d,b.bind(d,d)),a[l]=f&&ea.unmount(d,f.bind(d,d)),a[k]=e&&ea.remount(d,e.bind(d,d))}e&&(wa(d,g,za(b,'props')),h=!0);const c=b.$||b.render;c?Ea(d,c):b.renderAfter?ia(b.renderAfter,'after',d):b.renderBefore&&ia(b.renderBefore,'before',d)}return e?!h&&wa(d,g):Ba(d),d},Ga=(a,b='')=>(F(a)&&([b,a]=[a,g]),Fa(new Text(b),a)),Ha=p(Q((a,b=f)=>q((c,d)=>{J(a)?c(a):'head'===a?c(f.head):D(a)?ga(()=>{const e='body'===a?f.body:V(a,b);J(e)?c(e):d([404,a])}):d([400,a])}),{create:Fa,query:V,queryAll:W,queryEach:X,text:Ga,svg:(...a)=>Fa(f.createElementNS('http://www.w3.org/2000/svg','svg'),...a),frag:(a)=>D(a)?f.createRange().createContextualFragment(a):f.createDocumentFragment(),body:(...a)=>(a.length&&ga(()=>ka.append(f.body,a)),1<a.length?a:a[0]),html:(...a)=>{const b=ha(a);return 2>b.length?b[0]:b},prime:ha}),{get:(a,b)=>Reflect.get(a,b)||Fa.bind(g,b),set(a,b,c){a[b]=c}}),Ia=(a)=>wa(a,j)||Ca(a),Ja=(a)=>wa(a,l)||Da(a);new MutationObserver((a)=>a.forEach(({addedNodes:a,removedNodes:b,target:c,attributeName:d,oldValue:e})=>{a.length&&a.forEach(Ia),b.length&&b.forEach(Ja),d&&Aa(d,c,e)})).observe(f,{attributes:!0,attributeOldValue:!0,childList:!0,subtree:!0}),e.rilti={all:w,some:v,curry:r,compose:(...a)=>a.reduce((a,b)=>(...c)=>a(b(...c))),component:(a,b)=>a.includes('-')?(ua.set(a,b),ga(()=>X(a,wa)),Ha[a]):P(a+' is un-hyphenated'),components:ua,dom:Ha,domfn:ka,directive:(a,b)=>{ya.set(a,b),ga(()=>{X(`[${a}]`,(b)=>Aa(a,b))})},directives:ya,each:T,extend:Q,extract:za,flatten:U,listMap:Z,mutate:la,model:(a,b=_(),c=m())=>{const{emitSync:d,emit:e,on:f,once:h}=b,i=(a,b)=>(s(a)?a.forEach((a)=>i(a,b)):(c.delete(a),!b&&(e('delete',a),e('delete:'+a))),l),j=(a)=>c.has(a),l=(a,b,f)=>{if(B(a))T(a,(a,c)=>{x(a)?i(c,b):l(c,a,b)});else if(s(a))a.forEach(([a,c])=>l(a,c,b));else{const g=c.get(a);return y(b)&&b!==g?(c.set(a,b),f||(d('set',a,b),d('set:'+a,b)),b):(f||(e('get',a),e('get:'+a)),g)}};if(D(a))try{l(JSON.parse(a),!0)}catch(a){}else x(a)||l(a,!0);const k=m(),n=p((a,b,c=b,d)=>{const e=N(a);if(e&&([c,b]=[b,'value']),k.has(a)||k.set(a,m()),k.get(a).set(c,f((d?'validate':'set')+':'+c,(c)=>{a[b]=c})),!d&&e)var g=ba(!1,a,'input',()=>{l(c,a[b].trim()),r.has(c)&&t(c)}).off;return d?a[b]=t(c):j(c)&&(a[b]=l(c)),h('delete:'+c,()=>{g&&g(),n.stop(a,c)}),a},{get:(a,b)=>Reflect.get(a,b)||((c,d=b,e)=>x(c)?n.text(b):a(c,d,b,e))});n.stop=(a,b)=>{if(j(a)){const c=k.get(a);b?c.has(b)&&(c.get(b).off(),c.delete(b)):T(c,(a)=>a.off()).clear(),c.size||k.delete(a)}return a},n.text=p((a,b,c)=>(D(a)&&([b,a]=[a,g]),!c&&b.includes('valid:')&&(c=!0,b=b.substr(6)),n(Ga(a),'textContent',b,c)),{get:(a,b)=>a(g,b)}),n.template=(a,...b)=>U(a.map((a,c)=>[a,n.text[b[c]]]));const o=p((a,b)=>j(a)?b(c.get(a)):h('set:'+a,b),{get:(a,b)=>q((a)=>{j(b)?a(c.get(b)):h('set:'+b,a)}),set(a,b,c){c.then(l.bind(g,b))}}),r=m(),t=(a)=>{const b=c.has(a)&&r.has(a)&&r.get(a)(c.get(a));return e('validate:'+a,b),e('validate',a,b),b},u=p((a,b)=>{if(x(b))return t(a);if(M(b)){const a=b;b=(b)=>D(b)&&a.test(b)}if(A(b)){if(!C(b()))throw new Error(`".${a}": validator invalid`);r.set(a,b)}},{get:(a,b)=>t(b),set:(a,b,c)=>a(b,c)}),v=()=>Array.from(c.entries());return p(Q(l,Q(b,{async:o,valid:u,each:c.forEach.bind(c),get size(){return c.size},has:j,del:i,map:(a)=>{c.forEach((b,d)=>{const e=a(b,d);x(e)||e===b||c.set(d,b)})},filter:(a)=>{c.forEach((b,d)=>{a(b,d)||c.delete(d)})},store:c,sync:n,syncs:k,toJSON:()=>aa(c),toArray:v,toJSONArray:()=>JSON.stringify(v())})),{get:(a,b)=>Reflect.get(a,b)||l(b),set:(a,b,c)=>z(c)?o[b]=c:l(b,c),delete:(a,b)=>i(b)})},notifier:_,on:ea,once:da,yieldloop:S,render:Ea,route:fa,run:ga,runAsync:R,timeout:(b,c=1e3,d)=>a(b,{ms:c,start(){return d=setTimeout(b,b.ms,g),b},stop(a=!1){return a&&b(),clearTimeout(d),b}}),isMounted:Y,isDef:y,isNil:x,isPromise:z,isPrimitive:F,isNull:(a)=>a===h,isFunc:A,isStr:D,isBool:C,isNum:E,isInt:H,isIterable:G,isRenderable:O,isRegExp:M,isObj:B,isArr:s,isArrlike:I,isEmpty:(a)=>!a||!((B(a)?b(a):a).length||a.size),isEl:(a)=>a instanceof Element,isEqual:t,isNode:J,isNodeList:K,isInput:N,isMap:(a)=>a&&a instanceof Map,isSet:L}}