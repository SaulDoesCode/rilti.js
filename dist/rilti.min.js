{const{assign:a,keys:b,defineProperty:c,getOwnPropertyDescriptor:d}=Object,e=window,f=document,g=void 0,h=null,[i,j,k,l,m]=[Map,Set,WeakSet,Proxy,Promise].map((a)=>(...b)=>new a(...b)),n=(a,b=a.length,...c)=>b<=c.length?a(...c):n.bind(g,a,b,...c),{isArray:o,prototype:p}=Array,q=n((a,b)=>a===b||w(b)&&b(a)),r=(a)=>(...b)=>(c)=>b[a](q(c)),s=r('some'),t=r('every'),u=(a)=>a!==g&&a!==h,v=(a)=>'object'==typeof a&&'then'in a,w=(a)=>a instanceof Function,x=(a)=>a&&a.constructor===Object,y=(a)=>a&&a.constructor===String,z=(a)=>!0===a||!1===a,A=(a)=>'number'==typeof a,B=(a)=>a===g||a===h,C=s(y,z,A),D=(a)=>a&&a.toString().includes('Iterator'),E=(a)=>A(a)&&0==a%1,F=(a)=>a&&!w(a)&&0==a.length%1,G=(a)=>!a||!((x(a)?b(a):A(a.length)&&a).length||a.size),H=(a)=>a&&a instanceof Element,I=(a)=>a&&a instanceof Node,J=(a)=>a&&a instanceof RegExp,K=s(I,F,C),L=console.error.bind(console),M=(a={},e,f=!1,g=b(e))=>(g.length&&g.forEach((b)=>{f&&(!f||b in a)||c(a,b,d(e,b))}),a),N=(a,...b)=>Promise.resolve(a).then((a)=>a(...b)),O=(b,c=1e3,d)=>a(b,{ms:c,start(){return d=setTimeout(()=>b(),b.ms),b},stop(a=!1){return a&&b(),clearTimeout(d),b}}),P=(a,b,c,d=~~(a/10)||1,e=-1,f=()=>{for(const c=Math.min(e+d,a);e<c;)b(++e);e<a?N(f):w(c)&&c()})=>f(),Q=(a,b)=>{if(!B(a)){if('forEach'in a)a.forEach(b);else if(F(a))p.forEach.call(a,b);else if(x(a))for(const c in a)b(a[c],c,a);else if(E(a))P(a,b);else if(a.entries||D(a))for(const[c,d]of a)b(c,d,a);return a}},R=(a,b=[])=>{for(const c of a)o(c)?R(c,b):b.push(c);return b},S=(a,b=f)=>I(a)?a:S(b).querySelector(a),T=(a,b=f)=>Array.from(S(b).querySelectorAll(a)),U=(a,b,c=f)=>(w(b)||([b,c]=[c,f]),Q(T(a,c),b)),V=(a,b=f)=>b===a||!!(16&b.compareDocumentPosition(a)),W=(a=i())=>Object.assign((b,c)=>u(c)?(a.has(b)?a:a.set(b,j())).get(b).add(c):a.get(b),{map:a,del(b,c){a.has(b)&&1>a.get(b).delete(c).size&&a.delete(b)},has:(b,c,d=a.get(b))=>u(c)?d&&d.has(c):!!d,each(b,c){a.has(b)&&a.get(b).forEach(c)}}),X=(a,b=!0)=>l(a,{get(c,d){return b&&Reflect.has(a,d)?Reflect.get(a,d):a.bind(g,d)}}),Y=(a={})=>{const b=W(),c=(a,b)=>Q(a,(c,e)=>{a[e]=d(b,e,c)}),d=(a,d,e=!1)=>{if(x(a))return c(a,e);const f=(...a)=>d(...a),g=(c)=>(b.del(a,f),f.once=c,b(a,f),f);return f.off=()=>(b.del(a,f),f),f.on=()=>g(!1),f.once=()=>g(!0),g(e)},e=X((a,b)=>d(a,b)),f=X((a,b)=>d(a,b,!0)),g=X((a,...c)=>{b.each(a,(a)=>{N(a,...c),a.once&&a.off()})},!1);return M(a,{emit:g,on:e,once:f,listen:d,listeners:b})},Z=(a,b={})=>(Q(a,(a,c)=>{b[c]=a}),JSON.stringify(b)),$=n((a,b,c,d,e=!1)=>{if(y(b)&&(b=S(b)),!b.addEventListener)return L('EventManager: target invalid');if(x(c))return Q(c,(c,d)=>$(a,b,d,c,e));if(!w(d))return $.bind(g,a,b,c);d=d.bind(b);const f=(c)=>{d(c,b),a&&h()},h=()=>(b.removeEventListener(c,f),j),i=(d)=>(a=!!d,b.addEventListener(c,f,e),j),j={handler:f,type:c,reseat(b,f){return f&&h(),$(a,b,c,d,e)},on:i,once:()=>i(!0),off:()=>h()};return i(a)},3),_={get:(a,b)=>(c,d,e=!1)=>a(c,b,d,e)},aa=l($(!0),_),ba=l($(!1),_),ca=Y((a,b)=>(ca.active||(ba.hashchange(e,()=>{const a=location.hash;ca.emit(ca.listeners.has(a)?a:'default',a)}),ca.active=!0),w(a)&&([b,a]=[a,'default']),'default'===a||a.includes('#/')||(a='#/'+a),(location.hash===a||'default'===a)&&b(location.hash),ca.on(a,b))),da=()=>'complete'===f.readyState||!!f.body,ea=j();aa.DOMContentLoaded(e,()=>Q(ea,N).clear());const fa=(a)=>da()?N(a):ea.add(a),ga=(a)=>(w(a)&&(a=a()),I(a)?a:f.createRange().createContextualFragment(a)),ha=(a)=>B(a)?f.createDocumentFragment():ga(a),ia=(a,b,c)=>{a.dispatchEvent(new CustomEvent(b,c?{detail:c}:g))},ja=(a,b=ha())=>(R(a).forEach((a)=>{b.appendChild(a=ga(a)),Aa(a)}),b),ka={replace(a,b){return a.replaceWith(b),b},css:n((a,b,c)=>(x(b)?Q(b,(b,c)=>{a.style[c]=b}):y(b)&&(a.style[b]=c),a),2),Class:n((a,b,c=!a.classList.contains(b))=>{if(!x(b)){const d=c?'add':'remove';b.includes(' ')?Q(b.split(' '),(b)=>a.classList[d](b)):a.classList[d](b)}return y(b)&&(b.includes(' ')?b=b.split(' '):b.className+=b),o(b)&&Q(b,(b)=>a.classList.add(b)),a},2),hasClass:n((a,b)=>a.classList.contains(b)),attr:n((b,a,c)=>{if(x(a))Q(a,(c,d)=>{b[B(c)?'removeAttribute':'setAttribute'](d,c)});else if(y(a)){if(!C(c))return b.getAttribute(a);b.setAttribute(a,c)}return b},2),rmAttr(a,...b){return b.forEach((b)=>a.removeAttribute(b)),a},hasAttr:(a,b)=>a.hasAttribute(b),getAttr:(a,b)=>a.getAttribute(b),setAttr:(a,b,c='')=>a.setAttribute(b,c),attrToggle:n((a,b,c=!a.hasAttribute(b),d=a.getAttribute(b)||c)=>(a[c?'setAttribute':'removeAttribute'](b,d),a),2),emit:ia,append:n((a,...b)=>(b=ja(b),Fa(a).then((a)=>a.appendChild(b)),a),2),prepend:n((a,...b)=>(b=ja(b),Fa(a).then((a)=>a.prepend(b)),a),2),appendTo:n((a,b)=>(Fa(b).then((b)=>b.appendChild(a)),a)),prependTo:n((a,b)=>(Fa(b).then((b)=>b.prepend(a)),a)),remove(a,b){return E(b)?O(()=>V(a)&&a.remove(),b).start():(V(a)&&a.remove(),a)},removeNodes:(...a)=>Q(a,(a)=>V(a)&&a.remove()),mutate(a,b,c=!0){if(b)return o(a)?a.map((a)=>ka.mutate(a,b,c)):(Q(b,(d,e)=>{const f=o(d),g='class'===e||'className'===e;if(e in ka||g)g&&(e='Class'),f?ka[e](a,...d):ka[e](a,d);else if(e.includes('once')||e.includes('on')){const c=$(e.includes('once'));if(e.includes('_')){const[g,h]=e.split('_');b[g]||(b[g]={}),b[g][h]=f?c(a,h,...d):c(a,h,d)}b[e]=f?c(a,...d):c(a,d)}else'content'===e||'children'===e||'inner'===e?(a.innerHTML='',K(d=R(d))&&ka.append(a,d)):'text'===e?a.textContent=d:'html'===e?a.innerHTML=d:(c||e in a||'src'===e||'href'===e)&&(a[e]=d)}),b)}},la=(a)=>(b,c)=>a[z(c)?c?'add':'delete':'has'](b),ma=k(),na=la(ma),oa=k(),pa=la(oa),qa=(a)=>(a.tagName||a+'').toLowerCase(),ra=(a)=>sa.has(qa(a)),sa=i(),ta=(a)=>sa.get(a&&a.tagName?qa(a):a),ua=(a,c,d)=>{const e=qa(a);if(sa.has(e)){y(c)?[d,c]=[c,sa.get(e)]:x(c)||(c=sa.get(e));const{create:f,mount:g,destroy:h,props:i,methods:j,attr:k}=c;if(!na(a)){if(i){const c={};b(i).forEach((b)=>{const d=a[b];B(d)||(c[b]=d)}),M(a,i),G(c)||aa('create',a,()=>Q(c,(b,c)=>{a[c]=b}))}j&&M(a,j),na(a,!0),f&&f(a),ia(a,'create')}return pa(a)||'mount'!==d?'destroy'===d&&(pa(a,!1),ia(a,d),h&&h(a)):(k&&Q(k,(b,c)=>va(c,a,b)),pa(a,!0),ia(a,d),g&&g(a)),a}},va=(a,b,{init:c,update:d,destroy:e},f,g=b.getAttribute(a))=>{const h=a+'_init',i=b.hasAttribute(a);C(g)?i&&!b[h]?(b[h]=!0,c&&c(b,g)):d&&g!==f&&d(b,g,f):!i&&(b[h]=!1,e&&e(b,g,f))},wa=i(),xa=(a,b)=>b.replace(/\[(\w+)\]/g,'.$1').replace(/^\./,'').split('.').reduce((a,b)=>a&&a[b]?a[b]:g,a),ya=(a,b,c,d=wa.get(a)||xa(ta(b),'attr.'+a))=>d&&va(a,b,d,c),za=(a)=>!(na(a)&&ra(a))&&ia(a,'create'),Aa=(a)=>{pa(a)||(ra(a)?ua(a,'mount'):(pa(a,!0),ia(a,'mount')))},Ba=(a)=>{ra(a)||(pa(a,!1),ia(a,'destroy'))},Ca=(a,b='body',c='appendChild')=>(za(a),Fa(b).then((b)=>{V(b)||'after'!==c&&'before'!==c?(b[c](a),Aa(a)):aa.mount(b,()=>{b[c](a),Aa(a)})},(a)=>L('render fault:',a)),a),Da=(a,e)=>b(e).forEach((b)=>{b in a?a[b]=e[b]:c(a,b,d(e,b))}),Ea=(a,b,...c)=>{const d=I(a)?a:f.createElement(a);if(K(b)&&c.unshift(b),c.length&&'#text'!==d.nodeName&&ka.append(d,c),x(b)){if(ka.mutate(d,b,!1),b.props&&Da(d,b.props),b.methods&&M(d,b.methods),b.lifecycle||b.cycle){const{mount:a,destroy:c,create:f}=b.lifecycle||b.cycle;if(aa(d,'create',()=>{na(d,!0),f&&f.call(d,d)}),a)var e=aa(d,'mount',a.bind(d,d));(a||c)&&ba(d,'destroy',()=>{c&&c.call(d,d),e&&e.on()})}const{renderBefore:a,renderAfter:c,render:f}=b;a?Ca(d,a,'before'):c?Ca(d,c,'after'):f&&Ca(d,f)}return(ra(a)?ua:za)(d),d},Fa=l(M((a,b=f)=>m((c,d)=>{I(a)?c(a):'head'===a?c(f.head):y(a)?fa(()=>{const e='body'===a?f.body:S(a,b);I(e)?c(e):d([404,a])}):d([400,a])}),{create:Ea,query:S,queryAll:T,queryEach:U,html:ga,text:(a,b)=>(y(a)&&([b,a]=[a,{}]),Ea(new Text(b),a)),frag:ha}),{get:(a,b)=>b in a?a[b]:Ea.bind(g,b),set:(a,b,c)=>a[b]=c});new MutationObserver((a)=>{for(const{addedNodes:b,removedNodes:c,target:d,attributeName:e,oldValue:f}of a){if(e&&ya(e,d,f),b.length)for(const a of b)ua(a,'mount')||Aa(a);if(c.length)for(const a of c)ua(a,'destroy')||Ba(a)}}).observe(f,{attributes:!0,attributeOldValue:!0,childList:!0,subtree:!0}),e.rilti={all:t,some:s,curry:n,compose:(...a)=>a.reduce((a,b)=>(...c)=>a(b(...c))),component:(a,b)=>a.includes('-')?(sa.set(a,b),fa(()=>U(a,ua)),Fa[a]):L(a+' is un-hyphenated'),components:sa,dom:Fa,domfn:ka,directive:(a,b)=>{wa.set(a,b),fa(()=>{U(`[${a}]`,(b)=>ya(a,b))})},directives:wa,each:Q,extend:M,extract:xa,flatten:R,not:(a)=>(...b)=>!a(...b),notifier:Y,model:(a={},b=Y(),c=i())=>{const{emit:d,on:e,once:f}=b,h=(a)=>{c.delete(a),d('delete',a),d('delete:'+a)},j=(a)=>c.has(a),n=(a,b,e)=>{if(x(a))return Q(a,(a,c)=>n(c,a,b)),n;const f=c.get(a);return u(b)&&b!==f?(c.set(a,b),e||(d('set',a,b),d('set:'+a,b)),n):(e||(d('get',a),d('get:'+a)),f)};n(a);const k=i(),o=(a,b,c=b)=>(k.has(a)||k.set(a,i()),k.get(a).set(c,e('set:'+c,(c)=>{a[b]=c})),j(c)&&(a[b]=n(c)),a);o.stop=(a,b)=>{if(j(a)){const c=k.get(a);b?c.has(b)&&(c.get(b).off(),c.delete(b)):c.forEach((a)=>a.off()).clear(),c.size||k.delete(a)}return a};const p=l((a,b)=>j(a)?b(c.get(a)):f('set:'+a,b),{get:(a,b)=>m((a)=>{j(b)?a(c.get(b)):f('set:'+b,a)}),set(a,b,c){c.then(n.bind(g,b))}}),q=i(),r=(a)=>{const b=c.has(a)&&q.has(a)&&q.get(a)(c.get(a));return d('validate:'+a,b),d('validate',a,b),b},s=l((a,b)=>{if(B(b))return r(a);if(J(b)){const a=b;b=(b)=>y(b)&&a.test(b)}w(b)&&q.set(a,b)},{get:(a,b)=>r(b),set:(a,b,c)=>a(b,c)});return l(M(n,M(b,{each:c.forEach.bind(c),has:j,store:c,sync:o,syncs:k,del:h,toJSON:()=>Z(c)})),{get(a,b){if(Reflect.has(a,b))return Reflect.get(a,b);return'async'===b?p:'valid'===b?s:n(b)},set(a,b,c){return v(c)?p[b]=c:n(b,c)},delete:(a,b)=>h(b)})},on:ba,once:aa,timeout:O,yieldloop:P,render:Ca,route:ca,run:fa,runAsync:N,listMap:W,isMounted:V,isDef:u,isNil:B,isPromise:v,isPrimitive:C,isNull:(a)=>a===h,isFunc:w,isStr:y,isBool:z,isNum:A,isInt:E,isIterator:D,isRenderable:K,isRegExp:J,isObj:x,isArr:o,isArrlike:F,isEmpty:G,isEl:H,isEqual:q,isNode:I,isNodeList:(a)=>a&&(a instanceof NodeList||F(a)&&p.every.call(a,I)),isInput:(a)=>H(a)&&'INPUT TEXTAREA'.includes(a.tagName),isMap:(a)=>a&&a instanceof Map,isSet:(a)=>a&&a instanceof Set}}