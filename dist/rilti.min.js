{const{assign:a,keys:b,defineProperty:c,getOwnPropertyDescriptor:d}=Object,e=window,f=document,g=void 0,h=null,[i,j,k,l,m]=[Map,Set,WeakSet,Proxy,Promise].map((a)=>(...b)=>Reflect.construct(a,b)),n=(a,b=a.length,...c)=>b<=c.length?a(...c):n.bind(g,a,b,...c),{isArray:p,prototype:q}=Array,o=n((a,b)=>a===b||w(b)&&b(a)),r=(a)=>(...b)=>(c)=>b[a](o(c)),s=r('some'),t=r('every'),u=(a)=>a!==g&&a!==h,v=(a)=>'object'==typeof a&&'then'in a,w=(a)=>a instanceof Function,x=(a)=>a&&a.constructor===Object,y=(a)=>a&&a.constructor===String,z=(a)=>!0===a||!1===a,A=(a)=>'number'==typeof a,B=(a)=>a===g||a===h,C=s(y,z,A),D=(a)=>!B(a)&&'funtion'==typeof a[Symbol.iterator],E=(a)=>A(a)&&0==a%1,F=(a)=>a&&(p(a)||!w(a)&&0==a.length%1),G=(a)=>a&&a instanceof Element,H=(a)=>a&&a instanceof Node,I=(a)=>a&&a instanceof RegExp,J=s(H,F,C),K=console.error.bind(console),L=(a={},e,f=!1,g=b(e))=>{for(const b of g)f&&(!f||b in a)||c(a,b,d(e,b));return a},M=(a,...b)=>Promise.resolve(a).then((a)=>a(...b)),N=(b,c=1e3,d)=>a(b,{ms:c,start(){return d=setTimeout(()=>b(),b.ms),b},stop(a=!1){return a&&b(),clearTimeout(d),b}}),O=(a,b,c,d=~~(a/10)||1,e=-1,f=()=>{for(const c=Math.min(e+d,a);e<c;)b(++e);e<a?M(f):w(c)&&c()})=>f(),P=(a,b)=>{if(!B(a)){if(x(a))for(const c in a)b(a[c],c,a);else if(a.length)for(let c=0;c!==a.length;)b(a[c],c++,a);else if(a.forEach)a.forEach(b);else if(E(a))O(a,b);else if(D(a))for(const[c,d]of a)b(d,c,a);return a}},Q=(a,b=[])=>{if(!p(a))return[a];for(const c of a)p(c)?Q(c,b):b.push(c);return b},R=(a,b=f)=>H(a)?a:R(b).querySelector(a),S=(a,b=f)=>Array.from(R(b).querySelectorAll(a)),T=(a,b,c=f)=>(w(b)||([b,c]=[c,f]),P(S(a,c),b)),U=(a,b=f)=>b===a||!!(16&b.compareDocumentPosition(a)),V=(b=i())=>a((a,c)=>u(c)?(b.has(a)?b:b.set(a,j())).get(a).add(c):b.get(a),{map:b,del(a,c){b.has(a)&&1>b.get(a).delete(c).size&&b.delete(a)},has:(a,c,d=b.get(a))=>u(c)?d&&d.has(c):!!d,each(a,c){b.has(a)&&b.get(a).forEach(c)}}),W=(a,b=!0)=>l(a,{get(c,d){return b&&Reflect.has(a,d)?Reflect.get(a,d):a.bind(a,d)}}),X=(a={})=>{const b=V(),c=(a,b)=>P(a,(c,e)=>{a[e]=d(b,e,c)}),d=(a,d,e=!1)=>{if(x(a))return c(a,e);const f=(...a)=>d(...a),g=(c)=>(b.del(a,f),f.once=c,b(a,f),f);return f.off=()=>(b.del(a,f),f),f.on=()=>g(!1),f.once=()=>g(!0),g(e)},e=W((a,b)=>d(a,b)),f=W((a,b)=>d(a,b,!0)),g=W((a,...c)=>{b.each(a,(a)=>{M(a,...c),a.once&&a.off()})},!1);return L(a,{emit:g,on:e,once:f,listen:d,listeners:b})},Y=(a,b={})=>(a.forEach((a,c)=>{b[c]=a}),JSON.stringify(b)),Z=n((a,b,c,d,e=!1)=>{if(y(b)&&(b=R(b)),!b.addEventListener)return K('EventManager: target invalid');if(x(c))return P(c,(c,d)=>Z(a,b,d,c,e));if(!w(d))return Z.bind(g,a,b,c);d=d.bind(b);const f=(c)=>{d(c,b),a&&h()},h=()=>(b.removeEventListener(c,f),j),i=(d)=>(a=!!d,b.addEventListener(c,f,e),j),j={handler:f,type:c,reseat(b,f){return f&&h(),Z(a,b,c,d,e)},on:i,off:h,once:()=>i(!0)};return i(a)},3),$={get:(a,b)=>(c,d,e=!1)=>a(c,b,d,e)},_=l(Z(!0),$),aa=l(Z(!1),$),ba=X((a,b)=>(ba.active||(aa.hashchange(e,()=>{const a=location.hash;ba.emit(ba.listeners.has(a)?a:'default',a)}),ba.active=!0),w(a)&&([b,a]=[a,'default']),'default'===a||a.includes('#/')||(a='#/'+a),(location.hash===a||'default'===a)&&b(location.hash),ba.on(a,b))),ca=(a)=>{'complete'!==f.readyState&&!f.body?e.addEventListener('DOMContentLoaded',a,{once:!0}):M(a)},da=(a)=>(w(a)&&(a=a()),H(a)?a:f.createRange().createContextualFragment(a)),ea=(a)=>B(a)?f.createDocumentFragment():da(a),fa=(a,b,c)=>{a.dispatchEvent(new CustomEvent(b,{detail:c}))},ga=(a,b=ea())=>{for(let c of Q(a))b.appendChild(c=da(c)),za(c);return b},ha={replace(a,b){return a.replaceWith(b),b},css:n((a,b,c)=>(x(b)?P(b,(b,c)=>ha.css(a,c,b)):y(b)&&('--'===b.slice(0,2)?a.style.setProperty(b,c):a.style[b]=c),a),2),Class:n((a,b,c=!a.classList.contains(b))=>(x(b)&&P(b,(b,c)=>ha.Class(a,c,b)),y(b)&&(b=b.split(' ')),p(b)&&P(b,(b)=>a.classList[c?'add':'remove'](b)),a),2),hasClass:n((a,b)=>a.classList.contains(b)),attr:n((b,a,c)=>{if(x(a))P(a,(c,d)=>{b[B(c)?'removeAttribute':'setAttribute'](d,c)});else if(y(a)){if(!C(c))return b.getAttribute(a);b.setAttribute(a,c)}return b},2),rmAttr(a,...b){return b.forEach((b)=>a.removeAttribute(b)),a},hasAttr:(a,b)=>a.hasAttribute(b),getAttr:(a,b)=>a.getAttribute(b),setAttr:(a,b,c='')=>a.setAttribute(b,c),attrToggle:n((a,b,c=!a.hasAttribute(b),d=a.getAttribute(b)||'')=>(a[c?'setAttribute':'removeAttribute'](b,d),a),2),emit:fa,append:n((a,...b)=>(b=ga(b),Da(a).then((a)=>a.appendChild(b)),a),2),prepend:n((a,...b)=>(b=ga(b),Da(a).then((a)=>a.prepend(b)),a),2),appendTo:n((a,b)=>(Da(b).then((b)=>b.appendChild(a)),a)),prependTo:n((a,b)=>(Da(b).then((b)=>b.prepend(a)),a)),remove(a,b){return E(b)?N(()=>U(a)&&a.remove(),b).start():(U(a)&&a.remove(),a)},removeNodes:(...a)=>P(a,(a)=>U(a)&&a.remove()),mutate(a,b,c=!0){if(b){if(p(a))return a.map((a)=>ha.mutate(a,b,c));for(let d in b){let e=b[d];const f=p(e),g='class'==d||'className'==d;if(d in ha||g){g&&(d='Class');const c=f?ha[d](a,...e):ha[d](a,e);c!==a&&(b[d]=c)}else if(d.includes('once')||d.includes('on')){const c=Z(d.includes('once'));if(d.includes('_')){const[g,h]=d.split('_');b[g]||(b[g]={}),b[g][h]=f?c(a,h,...e):c(a,h,e)}b[d]=f?c(a,...e):c(a,e)}else'children'==d||'inner'==d?(a.innerHTML='',J(e=Q(e))&&ha.append(a,e)):'text'==d?a.textContent=e:'html'==d?a.innerHTML=e:(c||d in a||'src'==d||'href'==d)&&(w(a[d])?f?a[d](...e):a[d](e):a[d]=e)}return b}}},ia=(a,b)=>{for(const e in b)e in a?a[e]=b[e]:'accessors'==e?P(b[e],(b,d)=>{const{set:e=b,get:f=b}=b;c(a,d,{set:e.bind(a,a),get:f.bind(a,a)})}):c(a,e,d(b,e))},ja=(a,b)=>{for(const d in b)c(a,d,{value:b[d].bind(a,a)})},ka=(a)=>(b,c)=>a[z(c)?c?'add':'delete':'has'](b),la=k(),ma=ka(la),na=k(),oa=ka(na),pa=(a)=>(a.tagName||a+'').toLowerCase(),qa=(a)=>ra.has(pa(a)),ra=i(),sa=(a)=>ra.get(a&&a.tagName?pa(a):a),ta=(a,b,c,d=x(c)&&c)=>{const e=pa(a);if(ra.has(e)){y(b)?[c,b]=[b,ra.get(e)]:x(b)||(b=ra.get(e));const{create:f,mount:g,destroy:h,props:i,methods:j,attr:k}=b;return ma(a)||(j&&ja(a,j),i&&ia(a,i),d&&ia(a,d),k&&P(k,(b,c)=>ua(c,a,b)),ma(a,!0),f&&f(a),fa(a,'create')),oa(a)||'mount'!==c?'destroy'===c&&(oa(a,!1),h&&h(a),fa(a,c)):(oa(a,!0),g&&g(a),fa(a,c)),a}},ua=(a,b,d,e,f=b.getAttribute(a))=>{let{update:g,init:i=g,destroy:h}=d;w(d)&&(i=d,g=d);const j=a+'_init',k=b.hasAttribute(a),l=b[j];if(!(a in b)&&d.prop){let{set:e,get:f,bool:g,toggle:h}=d.prop;h?(e=(c)=>ha.attrToggle(b,a,c),f=()=>b.hasAttribute(a)):(e=e?e.bind(b,b):(c)=>b.setAttribute(a,c),f=f?f.bind(b,b):()=>b.getAttribute(a)),g&&(f=()=>'true'===b.getAttribute(a)),c(b,a,{set:e,get:f})}C(f)?!l&&k?(b[j]=!0,i&&(oa(b)?i(b,f):_.mount(b,()=>g(b,f)))):g&&f!==e&&g(b,f,e):!k&&(b[j]=!1,h&&h(b,f,e))},va=i(),wa=(a,b)=>b.replace(/\[(\w+)\]/g,'.$1').replace(/^\./,'').split('.').reduce((a,b)=>a&&a[b]?a[b]:g,a),xa=(a,b,c,d=va.get(a)||wa(sa(b),'attr.'+a))=>d&&ua(a,b,d,c),ya=(a)=>!(ma(a)&&qa(a))&&fa(a,'create'),za=(a)=>{oa(a)||(qa(a)?ta(a,'mount'):(oa(a,!0),fa(a,'mount')))},Aa=(a)=>{qa(a)||(oa(a,!1),fa(a,'destroy'))},Ba=(a,b='body',c='appendChild')=>(ya(a),Da(b).then((b)=>{U(b)||'after'!==c&&'before'!==c?(b[c](a),za(a)):_.mount(b,()=>{b[c](a),za(a)})},(a)=>K('render fault: ',a)),a),Ca=(a,b,...c)=>{const d=H(a)?a:f.createElement(a),e=qa(a);if(J(b)&&c.unshift(b),c.length&&'#text'!==d.nodeName&&ha.append(d,c),x(b)){if(ha.mutate(d,b,!1),b.props&&!e&&ia(d,b.props),b.methods&&ja(d,b.methods),b.lifecycle||b.cycle){const{mount:a,destroy:c,create:e}=b.lifecycle||b.cycle;if(_.create(d,()=>{ma(d,!0),e&&e.call(d,d)}),a)var h=_.mount(d,a.bind(d,d));(a||c)&&aa.destroy(d,()=>{c&&c.call(d,d),h&&h.on()})}const{renderBefore:a,renderAfter:c,render:f}=b;a?Ba(d,a,'before'):c?Ba(d,c,'after'):f&&Ba(d,f)}return e?ta(d,g,b.props):ya(d),d},Da=l(L((a,b=f)=>m((c,d)=>{H(a)?c(a):'head'===a?c(f.head):y(a)?ca(()=>{const e='body'===a?f.body:R(a,b);H(e)?c(e):d([404,a])}):d([400,a])}),{create:Ca,query:R,queryAll:S,queryEach:T,html:da,text:(a,b)=>(y(a)&&([b,a]=[a,{}]),Ca(new Text(b),a)),frag:ea}),{get:(a,b)=>b in a?a[b]:Ca.bind(g,b),set:(a,b,c)=>a[b]=c});new MutationObserver((a)=>{for(const{addedNodes:b,removedNodes:c,target:d,attributeName:e,oldValue:f}of a){if(e&&xa(e,d,f),b.length)for(const a of b)ta(a,'mount')||za(a);if(c.length)for(const a of c)ta(a,'destroy')||Aa(a)}}).observe(f,{attributes:!0,attributeOldValue:!0,childList:!0,subtree:!0}),e.rilti={all:t,some:s,curry:n,compose:(...a)=>a.reduce((a,b)=>(...c)=>a(b(...c))),component:(a,b)=>a.includes('-')?(ra.set(a,b),ca(()=>T(a,ta)),Da[a]):K(a+' is un-hyphenated'),components:ra,dom:Da,domfn:ha,directive:(a,b)=>{va.set(a,b),ca(()=>{T(`[${a}]`,(b)=>xa(a,b))})},directives:va,each:P,extend:L,extract:wa,flatten:Q,not:(a)=>(...b)=>!a(...b),notifier:X,model:(a,b=X(),c=i())=>{const{emit:d,on:e,once:f}=b,h=(a,b)=>(p(a)?a.forEach((a)=>h(a,b)):(c.delete(a),!b&&(d('delete',a),d('delete:'+a))),n),j=(a)=>c.has(a),n=(a,b,e)=>{if(x(a))P(a,(a,c)=>{B(a)?h(c):n(c,a,b)});else if(p(a))P(a,([a,c])=>n(a,c,b));else{const f=c.get(a);return u(b)&&b!==f?(c.set(a,b),e||(d('set',a,b),d('set:'+a,b)),b):(e||(d('get',a),d('get:'+a)),f)}};if(y(a))try{n(JSON.parse(a),!0)}catch(a){}else B(a)||n(a,!1);const k=i(),o=(a,b,c=b)=>(k.has(a)||k.set(a,i()),k.get(a).set(c,e('set:'+c,(c)=>{a[b]=c})),j(c)&&(a[b]=n(c)),a);o.stop=(a,b)=>{if(j(a)){const c=k.get(a);b?c.has(b)&&(c.get(b).off(),c.delete(b)):c.forEach((a)=>a.off()).clear(),c.size||k.delete(a)}return a};const q=l((a,b)=>j(a)?b(c.get(a)):f('set:'+a,b),{get:(a,b)=>m((a)=>{j(b)?a(c.get(b)):f('set:'+b,a)}),set(a,b,c){c.then(n.bind(g,b))}}),r=i(),s=(a)=>{const b=c.has(a)&&r.has(a)&&r.get(a)(c.get(a));return d('validate:'+a,b),d('validate',a,b),b},t=l((a,b)=>{if(B(b))return s(a);if(I(b)){const a=b;b=(b)=>y(b)&&a.test(b)}w(b)&&r.set(a,b)},{get:(a,b)=>s(b),set:(a,b,c)=>a(b,c)}),z=()=>Array.from(c.entries());return l(L(n,L(b,{async:q,valid:t,each:c.forEach.bind(c),get size(){return c.size},has:j,del:h,map:(a)=>{for(const[b,d]of c){const e=a(d,b);B(e)||e===d||c.set(b,d)}},filter:(a)=>{for(const[b,d]of c)a(d,b)||c.delete(b)},store:c,sync:o,syncs:k,toJSON:()=>Y(c),toArray:z,toJSONArray:()=>JSON.stringify(z())})),{get(a,b){return Reflect.has(a,b)?Reflect.get(a,b):n(b)},set(a,b,c){return v(c)?q[b]=c:n(b,c)},delete:(a,b)=>h(b)})},on:aa,once:_,timeout:N,yieldloop:O,render:Ba,route:ba,run:ca,runAsync:M,listMap:V,isMounted:U,isDef:u,isNil:B,isPromise:v,isPrimitive:C,isNull:(a)=>a===h,isFunc:w,isStr:y,isBool:z,isNum:A,isInt:E,isIterable:D,isRenderable:J,isRegExp:I,isObj:x,isArr:p,isArrlike:F,isEmpty:(a)=>!a||!((x(a)?b(a):A(a.length)&&a).length||a.size),isEl:G,isEqual:o,isNode:H,isNodeList:(a)=>a&&(a instanceof NodeList||F(a)&&q.every.call(a,H)),isInput:(a)=>G(a)&&'INPUT TEXTAREA'.includes(a.tagName),isMap:(a)=>a&&a instanceof Map,isSet:(a)=>a&&a instanceof Set}}