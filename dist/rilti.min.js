{const{assign:a,keys:b,defineProperty:c,getOwnPropertyDescriptor:d}=Object,e=window,f=document,g=void 0,h=null,i='create',j='mount',k='destroy',[l,m,n,o,p]=[Map,Set,WeakSet,Proxy,Promise].map((a)=>(...b)=>new a(...b)),q=(a,b=a.length,...c)=>b<=c.length?a(...c):q.bind(g,a,b,...c),r=Array.isArray,s=q((a,b)=>a===b||z(b)&&b(a)),t=(a)=>(...b)=>(c)=>b[a](s(c)),u=t('some'),v=t('every'),w=(a)=>a===g||a===h,y=(a)=>!w(a),x=(a)=>'object'==typeof a&&'then'in a,z=(a)=>a instanceof Function,A=(a)=>a&&a.constructor===Object,B=(a)=>'boolean'==typeof a,C=(a)=>'string'==typeof a,D=(a)=>'number'==typeof a,E=u(C,B,D),F=(a)=>!w(a)&&'function'==typeof a[Symbol.iterator],G=(a)=>D(a)&&0==a%1,H=(a)=>a&&(r(a)||!z(a)&&0==a.length%1),I=(a)=>a&&a instanceof Node,J=(a)=>a&&(a instanceof NodeList||H(a)&&Array.from(a).every(I)),K=(a)=>a&&a instanceof RegExp,L=(a)=>a&&(a instanceof HTMLInputElement||a instanceof HTMLTextAreaElement),M=u(C,B,D,I,J,(a)=>r(a)&&a.every((a)=>M(a))),N=console.error.bind(console),O=(a={},e,f=!1,g=b(e))=>(g.forEach((b)=>{f&&(!f||b in a)||c(a,b,d(e,b))}),a),P=(a,...b)=>setTimeout(a,0,...b),Q=(a,b,c,d=~~(a/10)||1,e=0,f=()=>{for(const c=Math.min(e+d,a);e<c;)b(e++);e<a?P(f):z(c)&&c()})=>f(),R=(a,b)=>{if(!w(a)){if(A(a))for(const c in a)b(a[c],c,a);else if(a.length)for(let c=0;c!==a.length;)b(a[c],c++,a);else if(a.forEach)a.forEach(b);else if(G(a))Q(a,b);else if(F(a))for(const[c,d]of a)b(d,c,a);return a}},S=(a,b=[],c=!0)=>c&&!r(a)?[a]:(R(a,(a)=>{r(a)?S(a,b):b.push(a)}),b),T=(a,b=f)=>I(a)?a:T(b).querySelector(a),U=(a,b=f)=>Array.from(T(b).querySelectorAll(a)),V=(a,b,c=f)=>(z(b)||([b,c]=[c,f]),R(U(a,c),b)),W=(a,b=f)=>J(a)?Array.from(a).every((a)=>W(a)):b===a||!!(16&b.compareDocumentPosition(a)),X=(b=l())=>a((a,c)=>y(c)?(b.has(a)?b:b.set(a,m())).get(a).add(c):b.get(a),{map:b,del(a,c){b.has(a)&&1>b.get(a).delete(c).size&&b.delete(a)},has:(a,c,d=b.get(a))=>y(c)?d&&d.has(c):!!d,each(a,c){b.has(a)&&b.get(a).forEach(c)}}),Y=(a,b=!0)=>o(a,{get:(c,d)=>b&&Reflect.get(a,d)||a.bind(a,d)}),Z=(b={})=>{const c=X(),d=(a,b)=>R(a,(c,d)=>a[d]=e(d,c,b)),e=(b,e,f=!1)=>{if(A(b))return d(b,f);const g=O((a)=>{e.apply(g,a),g.one&&g.off()},{get armed(){return c.has(b,g)},set armed(a){a?!g.armed&&c(b,g):c.del(b,g)},mode:(b=!1,c=!0)=>a(g,{one:b,armed:c}),off:()=>a(g,{armed:!1}),on:()=>g.mode(),once:()=>g.mode(!0)});return g.mode(f)},f=Y((a,b)=>e(a,b)),g=Y((a,b)=>e(a,b,!0)),h=Y((a,...b)=>c.each(a,(a)=>a(b)),!1),i=Y((a,...b)=>c.each(a,(a)=>setTimeout(a,0,b)),!1);return O(b,{emit:i,emitSync:h,on:f,once:g,listen:e,listeners:c})},$=(a,b={})=>(a.forEach((a,c)=>Reflect.set(b,c,a)),JSON.stringify(b)),_=q((a,b,c,d,e=!1)=>{if(C(b)&&(b=T(b)),A(c))return R(c,(d,f)=>{c[f]=_(a,b,f,d,e)});if(!z(d))return _.bind(g,a,b,c);d=d.bind(b);const f=(c)=>{d(c,b),a&&h()},h=()=>(b.removeEventListener(c,f),j),i=(d)=>(a=!!d,b.addEventListener(c,f,e),j),j={handler:f,type:c,reseat(b,f){return f&&h(),_(a,b,c,d,e)},on:i,off:h,once:i.bind(g,!0)};return i(a)},3),aa={get:(a,b)=>(c,d,e)=>a(c,b,d,e)},ba=o(_(!0),aa),ca=o(_(!1),aa),da=Z((a,b)=>(da.active||(ca.hashchange(e,()=>{const a=location.hash;da.emit(da.listeners.has(a)?a:'default',a)}),da.active=!0),z(a)&&([b,a]=[a,'default']),'default'===a||a.includes('#/')||(a='#/'+a),(location.hash===a||'default'===a)&&b(location.hash),da.on(a,b))),ea=(a)=>{'complete'===f.readyState||f.body?P(a):e.addEventListener('DOMContentLoaded',a,{once:!0})},fa=(...a)=>S(a.map((a)=>{if(z(a)&&(a=a()),a instanceof NodeList)return Array.from(a);if(r(a))return fa(...a);if(C(a)){let b=Array.from(f.createRange().createContextualFragment(a).childNodes);if(1===b.length&&(b=b[0]),b)return b}else if(E(a))return new Text(a);if(I(a))return a;if(y(a))throw new Error(`illegal renderable: ${a}`)})),ga=(a,b,...c)=>((c=fa(c)).forEach((c)=>{pa(c)||xa(c),C(a)?Da(a).then(()=>{a[b](c),ya(c)}):(a[b](c),ya(c))}),c),ha=(a,b,c)=>{a.dispatchEvent(new CustomEvent(b,{detail:c}))},ia={replace(a,b){return a.replaceWith(b),b},css:q((a,b,c)=>(A(b)?R(b,(b,c)=>ia.css(a,c,b)):C(b)&&('--'===b.slice(0,2)?a.style.setProperty(b,c):a.style[b]=c),a),2),Class:q((a,b,c=!a.classList.contains(b))=>(A(b)?R(b,(b,c)=>{ia.Class(a,c,B(b)?b:!a.classList.contains(c))}):(C(b)&&(b=b.split(' ')),r(b)&&R(b,(b)=>{a.classList[(B(c)?c:!a.classList.contains(b))?'add':'remove'](b)})),a),2),hasClass:q((a,b)=>a.classList.contains(b)),attr:q((b,a,c)=>{if(A(a))R(a,(c,d)=>{b[w(c)?'removeAttribute':'setAttribute'](d,c)});else if(C(a)){if(!E(c))return b.getAttribute(a);b.setAttribute(a,c)}return b},2),rmAttr(a,...b){return b.forEach((b)=>a.removeAttribute(b)),a},hasAttr:(a,b)=>a.hasAttribute(b),getAttr:(a,b)=>a.getAttribute(b),setAttr:(a,b,c='')=>a.setAttribute(b,c),attrToggle:q((a,b,c=!a.hasAttribute(b),d=a.getAttribute(b)||'')=>(a[c?'setAttribute':'removeAttribute'](b,d),a),2),emit:ha,prime:fa,append:q((a,...b)=>Aa(b,a),2),prepend:q((a,...b)=>Aa(b,a,'prepend'),2),appendTo:q((a,b)=>ga(b,'append',a)),prependTo:q((a,b)=>ga(b,'prepend',a)),remove(a,b,c){if(!J(a))G(b)?setTimeout(()=>W(a)&&a.remove(),b):W(a)&&a.remove();else if(G(b)&&c){let c=0;const d=()=>{c<a.length&&(ia.remove(a[c++]),setTimeout(d,b))};setTimeout(d,b)}else return R(a,(a)=>ia.remove(a,b));return a},mutate(a,b,c=!0){return r(a)?a.map((a)=>ia.mutate(a,b,c)):(R(b,(d,e)=>{if(r(d)||(d=[d]),e in ia){const c=ia[e](a,...d);c!==a&&(b[e]=c)}else if('class'===e||'className'===e)ia.Class(a,...d);else if('children'===e||'inner'===e)a.innerHTML='',Aa(d,a);else if('text'===e)a.textContent=d;else if('html'===e)a.innerHTML=d;else{let f=e.substr(0,4);const g='once'===f;g||(f=e.substr(0,2));const h='on'===f;if(g||h){let c=e.substr(g?4:2);const h=_(g);b[f]||(b[f]={}),c.length?('_'===c[0]&&(c=c.replace('_','')),b[f][c]=h(a,c,...d)):b[f][c]=h(a,...d)}else(c||e in a)&&(z(a[e])?a[e](...d):a[e]=d)}}),b)}},ja=(a,b)=>{for(const e in b)e in a?a[e]=b[e]:'accessors'==e?R(b[e],(b,d)=>{const{set:e=b,get:f=b}=b;c(a,d,{set:e.bind(a,a),get:f.bind(a,a)})}):c(a,e,d(b,e))},ka=(a,b)=>{for(const d in b)c(a,d,{value:b[d].bind(a,a)})},la=(a)=>(b,c)=>a[B(c)?c?'add':'delete':'has'](b),ma=la(n()),na=la(n()),oa=(a)=>(a.tagName||a+'').toLowerCase(),pa=(a)=>qa.has(oa(a)),qa=l(),ra=(a)=>qa.get(a&&a.tagName?oa(a):a),sa=(a,b,c,d=A(c)&&c)=>{const e=oa(a);if(qa.has(e)){C(b)?[c,b]=[b,qa.get(e)]:A(b)||(b=qa.get(e));const{create:f,mount:g,destroy:h,props:l,methods:m,attr:n}=b;return ma(a)||(m&&ka(a,m),l&&ja(a,l),d&&ja(a,d),n&&R(n,(b,c)=>ta(c,a,b)),ma(a,!0),f&&f(a),ha(a,i)),na(a)||c!==j?c===k&&(na(a,!1),h&&h(a),ha(a,c)):(na(a,!0),g&&g(a),ha(a,c)),a}},ta=(a,b,d,e,f=b.getAttribute(a))=>{let{update:g,init:i=g,destroy:h}=d;z(d)&&(i=d,g=d);const j=a+'_init',k=b.hasAttribute(a),l=b[j];if(E(f)?!l&&k?(b[j]=!0,i&&(na(b)?i(b,f):ba.mount(b,()=>i(b,b.getAttribute(a))))):g&&f!==e&&g(b,f,e):!k&&(b[j]=!1,h&&h(b,f,e)),!(a in b)&&d.prop){let{set:e,get:f,bool:g,toggle:h}=d.prop;if(h){const c=z(h);c&&(h=h.bind(b,b)),e=(d)=>{ia.attrToggle(b,a,d),c&&h(d)},f=()=>b.hasAttribute(a)}else e=e?e.bind(b,b):(c)=>b.setAttribute(a,c),f=f?f.bind(b,b):()=>b.getAttribute(a);g&&(f=()=>'true'===b.getAttribute(a)),c(b,a,{set:e,get:f}),na(b)||ba.mount(b,()=>ta(a,b,d))}},ua=l(),va=(a,b)=>(y(a)||g)&&b.replace(/\[(\w+)\]/g,'.$1').replace(/^\./,'').split('.').reduce((a,b)=>a&&y(a[b])?a[b]:g,a),wa=(a,b,c,d=ua.get(a)||va(ra(b),'attr.'+a))=>d&&ta(a,b,d,c),xa=(a)=>!ma(a)&&ha(a,i),ya=(a)=>{na(a)||(pa(a)?sa(a,j):(na(a,!0),ha(a,j)))},za=(a)=>{na(a,!1),ha(a,k)},Aa=(a,b='body',c='appendChild')=>C(b)?void Da(b).then((b)=>{Aa(a,b,c)}):void(c.includes('pend')?ga(b,c,a):!W(b)&&ba.mount(b,()=>ga(b,c,a))),Ba=(a,b,...c)=>{const d=I(a)?a:f.createElement(a),e=pa(a);if(d instanceof Text||(M(b)&&c.unshift(b),c.length&&ga(d,'appendChild',c)),A(b)){if(ia.mutate(d,b,!1),b.props&&!e&&ja(d,b.props),b.methods&&ka(d,b.methods),b.lifecycle||b.cycle){const{mount:a,destroy:c,create:e}=b.lifecycle||b.cycle;if(ba.create(d,()=>{ma(d,!0),e&&e.call(d,d)}),a)var h=ba.mount(d,a.bind(d,d));(a||c)&&ca.destroy(d,()=>{c&&c.call(d,d),h&&h.on()})}const{renderBefore:a,renderAfter:c,render:f}=b;f?Aa(d,f):a?Aa(d,a,'before'):c&&Aa(d,c,'after')}return e?sa(d,g,va(b,'props')):xa(d),d},Ca=(a,b)=>(C(a)&&([b,a]=[a,{}]),Ba(new Text(b),a)),Da=o(O((a,b=f)=>p((c,d)=>{I(a)?c(a):'head'===a?c(f.head):C(a)?ea(()=>{const e='body'===a?f.body:T(a,b);I(e)?c(e):d([404,a])}):d([400,a])}),{create:Ba,query:T,queryAll:U,queryEach:V,text:Ca,svg:(...a)=>Ba(f.createElementNS('http://www.w3.org/2000/svg','svg'),...a),frag:(a)=>C(a)?f.createRange().createContextualFragment(a):f.createDocumentFragment(),body:(...a)=>(a.length&&ea(()=>ia.append(f.body,a)),1<a.length?a:a[0]),html:(...a)=>{const b=fa(a);return 2>b.length?b[0]:b},prime:fa}),{get:(a,b)=>Reflect.get(a,b)||Ba.bind(g,b),set(a,b,c){a[b]=c}}),Ea=(a)=>sa(a,j)||ya(a),Fa=(a)=>sa(a,k)||za(a);new MutationObserver((a)=>a.forEach(({addedNodes:a,removedNodes:b,target:c,attributeName:d,oldValue:e})=>{a.length&&a.forEach(Ea),b.length&&b.forEach(Fa),d&&wa(d,c,e)})).observe(f,{attributes:!0,attributeOldValue:!0,childList:!0,subtree:!0}),e.rilti={all:v,some:u,curry:q,compose:(...a)=>a.reduce((a,b)=>(...c)=>a(b(...c))),component:(a,b)=>a.includes('-')?(qa.set(a,b),ea(()=>V(a,sa)),Da[a]):N(a+' is un-hyphenated'),components:qa,dom:Da,domfn:ia,directive:(a,b)=>{ua.set(a,b),ea(()=>{V(`[${a}]`,(b)=>wa(a,b))})},directives:ua,debounce:(a,b=0)=>{let c;return function(){clearTimeout(c),c=setTimeout(a.bind(this),b,...arguments)}},each:R,extend:O,extract:va,flatten:S,listMap:X,model:(a,b=Z(),c=l())=>{const{emitSync:d,emit:e,on:f,once:h}=b,i=(a,b)=>(r(a)?a.forEach((a)=>i(a,b)):(c.delete(a),!b&&(e('delete',a),e('delete:'+a))),m),j=(a)=>c.has(a),m=(a,b,f)=>{if(A(a))R(a,(a,c)=>{w(a)?i(c,b):m(c,a,b)});else if(r(a))a.forEach(([a,c])=>m(a,c,b));else{const g=c.get(a);return y(b)&&b!==g?(c.set(a,b),f||(d('set',a,b),d('set:'+a,b)),b):(f||(e('get',a),e('get:'+a)),g)}};if(C(a))try{m(JSON.parse(a),!0)}catch(a){}else w(a)||m(a,!0);const k=l(),n=o((a,b,c=b)=>L(a)?n.input(a,c):(k.has(a)||k.set(a,l()),k.get(a).set(c,f('set:'+c,(c)=>{a[b]=c})),j(c)&&(a[b]=m(c)),h('delete:'+c,()=>n.stop(a,c)),a),{get:(a,b)=>Reflect.get(a,b)||((c,d=b)=>a(c,d,b))});n.stop=(a,b)=>{if(j(a)){const c=k.get(a);b?c.has(b)&&(c.get(b).off(),c.delete(b)):R(c,(a)=>a.off()).clear(),c.size||k.delete(a)}return a},n.text=o((a,b)=>(C(a)&&([b,a]=[a,'']),n(Ca(),'textContent',b)),{get:(a,b)=>a(b)}),n.input=(a,b)=>{k.has(a)||k.set(a,l()),k.get(a).set(b,f('set:'+b,(b)=>{a.value!==b&&(a.value=b)})),j(b)&&(a.value=m(b));const c=_(!1,a,'input',()=>m(b,a.value.trim())).off;return h('delete:'+b,()=>{c(),n.stop(a,b)}),a};const q=o((a,b)=>j(a)?b(c.get(a)):h('set:'+a,b),{get:(a,b)=>p((a)=>{j(b)?a(c.get(b)):h('set:'+b,a)}),set(a,b,c){c.then(m.bind(g,b))}}),s=l(),t=(a)=>{const b=c.has(a)&&s.has(a)&&s.get(a)(c.get(a));return e('validate:'+a,b),e('validate',a,b),b},u=o((a,b)=>{if(w(b))return t(a);if(K(b)){const a=b;b=(b)=>C(b)&&a.test(b)}z(b)&&s.set(a,b)},{get:(a,b)=>t(b),set:(a,b,c)=>a(b,c)}),v=()=>Array.from(c.entries());return o(O(m,O(b,{async:q,valid:u,each:c.forEach.bind(c),get size(){return c.size},has:j,del:i,map:(a)=>{c.forEach((b,d)=>{const e=a(b,d);w(e)||e===b||c.set(d,b)})},filter:(a)=>{c.forEach((b,d)=>{a(b,d)||c.delete(d)})},store:c,sync:n,syncs:k,toJSON:()=>$(c),toArray:v,toJSONArray:()=>JSON.stringify(v())})),{get:(a,b)=>Reflect.get(a,b)||m(b),set:(a,b,c)=>x(c)?q[b]=c:m(b,c),delete:(a,b)=>i(b)})},notifier:Z,on:ca,once:ba,yieldloop:Q,render:Aa,route:da,run:ea,runAsync:P,throttle:(a,b)=>{let c,d,e;return function(){const f=this,g=arguments;c?(clearTimeout(d),d=setTimeout(()=>{Date.now()-e>=b&&(a.apply(f,g),e=Date.now())},b-(Date.now()-e))):(a.apply(f,g),e=Date.now(),c=!0)}},timeout:(b,c=1e3,d)=>a(b,{ms:c,start(){return d=setTimeout(b,b.ms,g),b},stop(a=!1){return a&&b(),clearTimeout(d),b}}),isMounted:W,isDef:y,isNil:w,isPromise:x,isPrimitive:E,isNull:(a)=>a===h,isFunc:z,isStr:C,isBool:B,isNum:D,isInt:G,isIterable:F,isRenderable:M,isRegExp:K,isObj:A,isArr:r,isArrlike:H,isEmpty:(a)=>!a||!((A(a)?b(a):a).length||a.size),isEl:(a)=>a&&a instanceof Element,isEqual:s,isNode:I,isNodeList:J,isInput:L,isMap:(a)=>a&&a instanceof Map,isSet:(a)=>a&&a instanceof Set}}