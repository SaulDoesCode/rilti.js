var rilti=(()=>{const a=document,b=window,c=void 0,e=null,d='length',f=(a,b=a.length,c=(...d)=>(...e)=>(e.length+d.length>=b?a:c)(...d.concat(e)))=>c(),g=(...a)=>(b)=>a.some((a)=>b===a||q(a)&&a(b)),h=(a,b,...c)=>Array.prototype[a].apply(b,c),j=f(h,2)('forEach'),i=Array.isArray,k=(a)=>!q(a)&&d in a,l=(a)=>!0===a||!1===a,m=(a)=>a===c||a===e,n=(a)=>'string'==typeof a,p=(a)=>a&&a instanceof Number,q=(a)=>a&&a instanceof Function,r=(a)=>a&&a.constructor===Object,o=g(n,l,p),s=(a)=>a&&a.toString().includes('Iterator'),t=(a)=>p(a)&&0==a%1,u=(a)=>a&&a instanceof Node,v=f((a,...b)=>b.every(q(a)?(b)=>a(b):(b)=>a===b),2),w=(a,b,c,d=50,e=0,f=()=>{for(const c=Math.min(e+d,a);e<c;)b(e++);e<a?setTimeout(f,0):q(c)&&c()})=>f(),x=(a,b,c=0)=>{if(!m(a))if(a.forEach)a.forEach(b);else if(0<a.length)j(a,b);else if(r(a))for(c in a)b(a[c],c,a);else if(t(a))w(a,b);else if(a.entries||s(a))for(const[c,d]of a)b(c,d,a);return a},y=(a,b,c=!1,e=Object.keys(b))=>{return e[d]&&x(e,(d)=>{c&&(!c||d in a)||Object.defineProperty(a,d,Object.getOwnPropertyDescriptor(b,d))}),a},z=(a)=>k(a)?h('reduce',a,(a,b)=>a.concat(i(b)?z(b):b),[]):[a],A=(a)=>(b,...c)=>'function'==typeof b?A(b(a,...c)):!0===b?A(c.shift()(a,...c)):c.length||b?A(a):a,B=(b,c=a)=>u(b)?b:B(c).querySelector(b),C=(b,c=a)=>Array.from(B(c).querySelectorAll(b)),D=(b,c,d=a)=>(!q(c)&&([c,d]=[d,a]),x(C(b,d),c)),E='EvtLs',F=f((a,b,c,d,e=!1)=>{if(n(b)&&(b=B(b)),!b.addEventListener)throw'bad event target';u(b)&&!b[E]&&(b[E]=new Set);const f=(c)=>{d.call(b,c,b),a&&g()},g=()=>{b.removeEventListener(c,f),b[E]&&b[E].delete(i)},h=(d)=>{return a=!!d,g(),b.addEventListener(c,f,e),b[E]&&b[E].add(i),i},i={handler:f,type:c,reseat(b,f){return f&&g(),F(a,b,c,d,e)},on:()=>h(),once:()=>h(!0),off:()=>(g(),i)};return h(a)},4),G=F(!0),H=F(!1),I=(a,b,c)=>(a.has(b)&&!a.get(b).delete(c).size&&a.delete(b),c),J=(a,b,c)=>((a.has(b)?a:a.set(b,new Set)).get(b).add(c),c),K=(a,b=!1)=>(c,d)=>{if(b){const b=d;d=(...f)=>{b.apply(e,f),I(a,c,d)}}return d.type=c,d.off=()=>I(a,c,d),d.on=()=>J(a,c,d.off()),J(a,c,d)},L=(a={})=>{const b=new Map,[c,d]=[K(b,!0),K(b)],g=(a)=>(b,c)=>{return n(b)?q(c)?a(b,c):void 0:x(b,(c,d)=>{q(c)&&(b[d]=a(d,c))})};return y(a,{on:g(d),once:g(c),off:f(I)(b),hastype:(a)=>b.has(q(a)?a.type:a),hashandle:(a,c=a.type)=>b.has(c)&&b.get(c).has(a),emit(c,...d){return b.has(c)&&b.get(c).forEach((a)=>a.apply(e,d)),a}})},M=L((a,c)=>{return M.active||(H(b,'hashchange',()=>{const a=location.hash;M.emit(M.hastype(a)?a:'default',a)}),M.active=!0),q(a)&&([c,a]=[a,'default']),'default'===a||a.includes('#/')||(a='#/'+a),(location.hash===a||'default'===a)&&c(location.hash),M.on(a,c)}),N=()=>'complete'===a.readyState,O=new Set;G(b,'DOMContentLoaded',()=>x(O,(a)=>a()));const P=(a)=>N()?a():O.add(a),Q=(b)=>u(b)?b:a.createRange().createContextualFragment(b),R=(b)=>o(b)?Q(b):a.createDocumentFragment(),S=(a)=>(a.notifier&&a.notifier.emit('create',a),a),T=(a)=>(a.notifier&&!a.didMount&&setTimeout(()=>(a.didMount=!0,a.notifier.emit('mount',a)),0),a),U=(a)=>(a.notifier&&a.notifier.emit('destroy',a),a),V=(a)=>{const b=z(a);if(1===b.length)return T(Q(b[0]));const c=R();return b.forEach((a)=>c.appendChild(T(Q(a)))),c},W={replace:(a,b)=>(a.replaceWith?a.replaceWith(b):a.parentNode.replaceChild(b,a),b),clone(a){const b=a.cloneNode();return a[E]&&x(a[E],(a)=>a.reseat(b)),x(a.childNodes,(a)=>b.appendChild(W.clone(a))),b},css:f((a,b,c)=>(r(b)?x(b,(b,c)=>a.style[c]=b):v(n,b,c)&&(a.style[b]=c),a),2),Class:f((a,b,c=!a.classList.contains(b))=>{return c=c?'add':'remove',b.includes(' ')?x(b.split(' '),(b)=>a.classList[c](b)):a.classList[c](b),a},2),hasClass:f((a,b)=>a.classList.contains(b)),attr:f((b,a,c)=>{if(b.attributes)if(r(a))x(a,(c,d)=>{b.setAttribute(d,c),aa(d,b)});else if(n(a)){if(!o(c))return b.getAttribute(a);b.setAttribute(a,c),aa(a,b)}return b},2),removeAttr:(a,b)=>(a.removeAttribute(b),a),hasAttr:(a,b)=>a.hasAttribute(b),getAttr:(a,b)=>a.getAttribute(b),setAttr:(a,b,c='')=>b(a,b,c),attrToggle:f((a,b,c=!a.hasAttribute(b),d=a.getAttribute(b)||'')=>(a[c?'setAttribute':'removeAttribute'](b,d),a),2),emit:f((a,b,c)=>(a.dispatchEvent(n(b)?new CustomEvent(b,{detail:c}):b),a),2),append:f((a,...b)=>{return u(a)?a.appendChild(V(b)):n(a)&&ga(a).then((a)=>a.appendChild(V(b))),a},2),prepend:f((a,...b)=>(a.prepend(V(b)),a),2),appendTo:f((a,b)=>(ga(b).then((b)=>b.appendChild(a)),a)),prependTo:f((a,b)=>(ga(b).then((b)=>b.prepend(a)),a)),remove:(a,b)=>(p(b)?setTimeout(()=>a.remove(),b):a.remove(),a)},{append:X,attr:Y,css:Z}=W,$=new Map,_=(a,b)=>(a[b+'_init']=!0,a),aa=(a,b,c)=>{if($.has(a)){const d=b.getAttribute(a),{init:e,update:f,destroy:g}=$.get(a);o(d)?b[a+'_init']?f&&d!=c&&f(b,d,c):e(_(b,a),d):g&&g(b,d,c)}},ba=([a,b])=>console.error('render fault:',b,a),ca=(a,b)=>ga(b).then((b)=>b.appendChild(T(a)),ba),da=g(u,n,k),ea=(a)=>(b,c)=>{(b in a||i(b)&&b.some((c)=>c in a&&(b=c)))&&(c(a[b],b),delete a[b])},fa=(b,c,...d)=>{const e=a.createElement(b),f=e.notifier=L();if(da(c)&&d.unshift(c),X(e,z(d)),r(c)){const a=ea(c);a(['class','className'],(a)=>e.className=a),a(['on','once'],(a,b)=>{x(a,(a,c)=>{F('once'===b,e,c,a)})}),a('attr',Y(e)),a('css',Z(e)),a('lifecycle',f.once),x(c,(a,b)=>{'action'===b?e.action=H(e,'click',a):'render'===b?ca(S(e),a):r(a)?y(e,a):e[b]=a})}return S(e)},ga=new Proxy(y((b,c=a)=>new Promise((d,e)=>'head'===b?d(a.head):u(b)?d(b):n(b)?P(()=>{const f='body'===b?a.body:B(b,c);u(f)?d(f):e([404,b])}):e([403,b])),{create:fa,query:B,queryAll:C,queryEach:D,html:Q,domfrag:R}),{get:(a,b)=>b in a?a[b]:fa.bind(e,b),set:(a,b,c)=>a[b]=c});return new MutationObserver((a)=>x(a,({addedNodes:a,removedNodes:b,target:c,attributeName:d,oldValue:e})=>{a.length&&j(a,T),b.length&&j(b,U),d&&$.has(d)&&aa(d,c,e)})).observe(a,{attributes:!0,childList:!0,subtree:!0}),{dom:ga,domfn:W,notifier:L,pipe:A,compose:(...a)=>a.reduce((a,b)=>(...c)=>a(b(...c))),composeTest:g,not:(a)=>(...b)=>!a(...b),yieldloop:w,on:H,once:G,directive:(a,b)=>{$.set(a,b),P(()=>D(`[${a}]`,(b)=>aa(a,b)))},directives:$,extend:y,route:M,render:ca,run:P,curry:f,each:x,flatten:z,isMounted:(b,c=a)=>c===b||!!(16&c.compareDocumentPosition(b)),isDef:(a)=>a!==c&&a!==e,isNill:m,isPrimitive:o,isNull:(a)=>a===e,isFunc:q,isStr:n,isBool:l,isNum:p,isInt:t,isIterator:s,isObj:r,isArr:i,isArrlike:k,isEmpty:(a)=>!((r(a)?Object.keys(a):d in a&&a)[d]||a.size),isEl:(a)=>a&&a instanceof Element,isEq:v,isNode:u,isNodeList:(a)=>a&&(a instanceof NodeList||k(a)&&h('every',a,u)),isInput:(a)=>a&&a.tagName&&'INPUT TEXTAREA'.includes(a.tagName),isMap:(a)=>a&&a instanceof Map,isSet:(a)=>a&&a instanceof Set}})();
