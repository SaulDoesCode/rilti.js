{const{assign:a,keys:b,defineProperty:c,getOwnPropertyDescriptor:d}=Object,e=window,f=document,g=void 0,h=null,i=(a)=>(...b)=>new a(...b),j=i(Map),k=i(Set),l=i(Proxy),m=i(Promise),n=(a,b=a.length,c=(...d)=>(...e)=>(e.length+d.length>=b?a:c)(...d.concat(e)))=>c(),o=(...a)=>(b)=>a.some((a)=>b===a||r(a)&&a(b)),p=(a,b,...c)=>Array.prototype[a].apply(b,c),q=n(p,2)('forEach'),r=(a)=>a&&a instanceof Function,s=(a)=>a&&a.constructor===Object,t=(a)=>a&&a.constructor===Promise,u=Array.isArray,v=(a)=>a&&!r(a)&&y(a.length),w=(a)=>!0===a||!1===a,x=(a)=>a===g||a===h,y=(a)=>'number'==typeof a,z=(a)=>'string'==typeof a,A=o(z,w,y),B=(a)=>a&&a.toString().includes('Iterator'),C=(a)=>y(a)&&0==a%1,D=(a)=>!a||!((s(a)?b(a):y(a.length)&&a).length||a.size),E=(a)=>a&&a instanceof Element,F=(a)=>a&&a instanceof Node,G=n((a,...b)=>b.every(r(a)?(b)=>a(b):(b)=>a===b),2),H=o(F,v,A),I=console.error.bind(console),J=(a={},e,f=!1,g=b(e))=>(g.length&&N(g,(b)=>{f&&(!f||b in a)||c(a,b,d(e,b))}),a),K=(a,...b)=>m((c,d)=>{try{c(a(...b))}catch(a){d(a)}}),L=(b,c=1e3,d)=>a(b,{ms:c,start(){return d=setTimeout(()=>{b(),b.ran=!0},c),b},stop(a=!1){return a&&b(),clearTimeout(d),b}}),M=(a,b,c,d=~~(a/10)||1,e=-1,f=()=>{for(const c=Math.min(e+d,a);e<c;)b(++e);e<a?K(f):r(c)&&c()})=>f(),N=(a,b)=>{if(!x(a))if(a.forEach)a.forEach(b);else if(v(a))q(a,b);else if(s(a))for(let c in a)b(a[c],c,a);else if(C(a))M(a,b);else if(a.entries||B(a))for(const[c,d]of a)b(c,d,a);return a},O=(a)=>v(a)?p('reduce',a,(a,b)=>a.concat(u(b)?O(b):b),[]):[a],P=(a,b=f)=>F(a)?a:P(b).querySelector(a),Q=(a,b=f)=>Array.from(P(b).querySelectorAll(a)),R=(a,b,c=f)=>(r(b)||([b,c]=[c,f]),N(Q(a,c),b)),S=(a,b=f)=>b===a||!!(16&b.compareDocumentPosition(a)),T=(a=j(),b={get:(b)=>a.get(b),set(c,d){return(a.has(c)?a:a.set(c,k())).get(c).add(d),b},del(c,d){return a.has(c)&&1>a.get(c).delete(d).size&&a.delete(c),b},has(b,c){const d=a.has(b);return c!==void 0&&d?a.get(b).has(c):d},each(c,d){return b.has(c)&&a.get(c).forEach(d),b}})=>b,U=(a,b=!0)=>l(a,{get(c,d){return b&&Reflect.has(a,d)?Reflect.get(a,d):a.bind(null,d)}}),V=(a={})=>{const b=T(),c=U((a,d)=>s(a)?f(a,c):(b.set(a,d),e(a,d))),d=U((a,c)=>{if(s(a))return f(a,d);const g=(...d)=>(b.del(a,g),c(...d));return b.set(a,g),e(a,g)}),e=(a,e)=>(e.off=()=>(b.del(a,e),e),e.once=()=>(e.off(),d(a,e)),e.on=()=>(e.off(),c(a,e)),e),f=(a,b)=>{for(const c in a)a[c]=b(a[c])},g=U((a,...c)=>{b.each(a,(a)=>a(...c))},!1),h=U((a,...c)=>{K(b.each,a,(a)=>K(a,...c))},!1);return J(a,{emit:g,emitAsync:h,on:c,once:d,listen:(a,b,e)=>(a?d:c)(b,e),listeners:b})},W=(a,b={})=>(N(a,(a,c)=>{b[c]=a}),JSON.stringify(b)),X=n((a,b,c,d,e=!1)=>{if(z(b)&&(b=P(b)),!b.addEventListener)return I('EventManager: target invalid');if(s(c))return N(c,(c,d)=>X(a,b,d,c,e));if(!r(d))return X.bind(g,a,b,c);d=d.bind(b);const f=(c)=>{d(c,b),a&&h()},h=()=>(b.removeEventListener(c,f),j),i=(d)=>(a=!!d,b.addEventListener(c,f,e),j),j={handler:f,type:c,reseat(b,f){return f&&h(),X(a,b,c,d,e)},on:i,once:()=>i(!0),off:()=>h()};return i(a)},3),Y={get:(a,b)=>(c,d,e=!1)=>a(c,b,d,e)},Z=l(X(!0),Y),$=l(X(!1),Y),_=V((a,b)=>(_.active||($.hashchange(e,()=>{const a=location.hash;_.emit(_.listeners.has(a)?a:'default',a)}),_.active=!0),r(a)&&([b,a]=[a,'default']),'default'===a||a.includes('#/')||(a='#/'+a),(location.hash===a||'default'===a)&&b(location.hash),_.on(a,b))),aa=()=>'complete'===f.readyState||F(f.body),ba=k();Z.DOMContentLoaded(e,()=>N(ba,(a)=>K(a)).clear());const ca=(a)=>aa()?K(a):ba.add(a),da=(a)=>r(a)?da(a()):F(a)?a:f.createRange().createContextualFragment(a),ea=(a)=>A(a)?da(a):f.createDocumentFragment(),fa=(a,b,c)=>(a.dispatchEvent(z(b)?new CustomEvent(b,{detail:c}):b),a),ga=(a,b=ea())=>(N(O(a),(a)=>{const c=da(a);b.appendChild(c),ra(c)}),b),ha={replace(a,b){return a.replaceWith(b),b},css:n((a,b,c)=>(s(b)?N(b,(b,c)=>{a.style[c]=b}):G(z,b,c)&&(a.style[b]=c),a),2),Class:n((a,b,c=!a.classList.contains(b))=>{if(!s(b)){const d=c?'add':'remove';b.includes(' ')?N(b.split(' '),(b)=>a.classList[d](b)):a.classList[d](b)}else N(b,(b,c)=>a.classList[b?'add':'remove'](c));return a},2),hasClass:n((a,b)=>a.classList.contains(b)),attr:n((b,a,c)=>{if(!b.attributes)return b;if(s(a))N(a,(c,d)=>{b.setAttribute(d,c)});else if(z(a)){if(!A(c))return b.getAttribute(a);b.setAttribute(a,c)}return b},2),rmAttr(a,b){return a.removeAttribute(b),a},hasAttr:(a,b)=>a.hasAttribute(b),getAttr:(a,b)=>a.getAttribute(b),setAttr:(a,b,c='')=>a.setAttribute(b,c),attrToggle:n((a,b,c=!a.hasAttribute(b),d=a.getAttribute(b)||c)=>(a[c?'setAttribute':'removeAttribute'](b,d),a),2),emit:fa,append:n((a,...b)=>(wa(a).then((a)=>a.appendChild(ga(b))),a),2),prepend:n((a,...b)=>(wa(a).then((a)=>a.prepend(ga(b))),a),2),appendTo:n((a,b)=>(wa(b).then((b)=>b.appendChild(a)),a)),prependTo:n((a,b)=>(wa(b).then((b)=>b.prepend(a)),a)),remove(a,b){return C(b)?L(()=>S(a)&&a.remove(),b).start():(S(a)&&a.remove(),a)},removeNodes:(...a)=>N(a,(a)=>S(a)&&a.remove())},ia=(a)=>(a.tagName||'').toLowerCase(),ja=(a)=>la.has(ia(a)),ka=(a,b,c)=>{const d=ia(a),e=la.get(d);return e?b(e,d):c&&c(a,d)},la=j(),ma=(a,c,d,e=la.get(a))=>{if(e){const{create:a,mount:f,destroy:g,props:h,methods:i,attr:j}=e;if(!c.Created){if(h){const a={};N(b(h),(b)=>{const d=c[b];x(d)||(a[b]=d)}),J(c,h),D(a)||Z.create(c,()=>{N(a,(a,b)=>{c[b]=a})})}i&&J(c,i),c.Created=!0,a&&a(c),fa(c,'create')}return c.Mounted||'mount'!==d?'destroy'===d&&(c.Mounted=!1,fa(c,d),g&&g(c)):(j&&N(j,(a,b)=>{c.hasAttribute(b)&&na(b,c,a)}),c.Mounted=!0,fa(c,d),f&&f(c)),c}},na=(a,b,{init:c,update:d,destroy:e},f,g=b.getAttribute(a))=>{const h=a+'_init',i=b.hasAttribute(a);A(g)?i&&!b[h]?(b[h]=!0,c&&c(b,g)):d&&g!==f&&d(b,g,f):!i&&(b[h]=!1,e&&e(b,g,f))},oa=j(),pa=(a,b,c)=>oa.has(a)?na(a,b,oa.get(a),c):void ka(b,(d)=>{d.attr&&d.attr[a]&&na(a,b,d.attr[a],c)}),qa=(a)=>(a.Created||ja(a)||fa(a,'create'),a),ra=(a)=>(a.Mounted||ja(a)||(a.Mounted=!0,fa(a,'mount')),a),sa=(a)=>(ja(a)||(a.Mounted=!1,fa(a,'destroy')),a),ta=(a,b='body',c='appendChild')=>(qa(a),wa(b).then((b)=>{S(b)||'after'!==c&&'before'!==c?(b[c](a),ra(a)):Z.mount(b,()=>{b[c](a),ra(a)})},(a)=>I('render fault:',a)),a),ua=(a,e)=>{N(b(e),(b)=>{b in a?a[b]=e[b]:c(a,b,d(e,b))})},va=(a,b,...c)=>{const d=F(a)?a:f.createElement(a);if(H(b)&&c.unshift(b),c.length&&'#text'!==d.nodeName&&ha.append(d,c),s(b)){if(b.attr&&ha.attr(d,b.attr),b.css&&ha.css(d,b.css),(b.class||b.className)&&(d.className=b.class||b.className),b.id&&(d.id=b.id),b.src&&(d.src=b.src),b.href&&(d.href=b.href),b.props&&ua(d,b.props),b.methods&&J(d,b.methods),b.once&&Z(d,b.once),b.on&&$(d,b.on),b.lifecycle){const{mount:a,destroy:c,create:f}=b.lifecycle;if(Z.create(d,()=>{d.Created=!0,f&&f.call(d,d)}),a)var e=Z.mount(d,a.bind(d,d));(e||c)&&$.destroy(d,()=>{c&&c.call(d,d),e&&e.on()})}b.run&&ca(b.run.bind(d,d));const{renderBefore:a,renderAfter:c,render:f}=b;a?ta(d,a,'before'):c?ta(d,c,'after'):f&&ta(d,f)}return ka(d,(a,b)=>ma(b,d,h,a),qa)},wa=l(J((a,b=f)=>m((c,d)=>{F(a)?c(a):'head'===a?c(f.head):z(a)?ca(()=>{const e='body'===a?f.body:P(a,b);F(e)?c(e):d([404,a])}):d([400,a])}),{create:va,query:P,queryAll:Q,queryEach:R,html:da,text:(a,b)=>(z(a)&&([b,a]=[a,{}]),va(new Text(b),a)),frag:ea}),{get:(a,b)=>b in a?a[b]:va.bind(h,b),set:(a,b,c)=>a[b]=c});new MutationObserver((a)=>{for(const{addedNodes:b,removedNodes:c,target:d,attributeName:e,oldValue:f}of a){if(e&&pa(e,d,f),b.length)for(const a of b)ka(a,(b,c)=>ma(c,a,'mount',b),ra);if(c.length)for(const a of c)ka(a,(b,c)=>ma(c,a,'destroy',b),sa)}}).observe(f,{attributes:!0,childList:!0,subtree:!0}),e.rilti={some:o,curry:n,compose:(...a)=>a.reduce((a,b)=>(...c)=>a(b(...c))),component:(a,b)=>a.includes('-')?void(la.set(a,b),ca(()=>{R(a,(b)=>ma(a,b))})):I(a+' is un-hyphenated'),components:la,dom:wa,domfn:ha,directive:(a,b)=>{oa.set(a,b),ca(()=>{R(`[${a}]`,pa.bind(h,a))})},directives:oa,each:N,extend:J,flatten:O,not:(a)=>(...b)=>!a(...b),notifier:V,model:(a={},b=j())=>{const c=V(),{emit:d,emitAsync:e,on:f,once:h}=c,i=(a)=>{b.delete(a),d('delete',a),d('delete:'+a)},k=(a)=>b.has(a),n=(a,c,e)=>{if(s(a))return N(a,(a,b)=>n(b,a,c)),n;const f=b.get(a);return c!==g&&c!==f?(b.set(a,c),e||(d('set',a,c),d('set:'+a,c)),n):(e||(d('get',a),d('get:'+a)),f)};K(n,a);const o=j(),p=(a,b,c=b)=>(o.has(a)||o.set(a,j()),o.get(a).set(c,f('set:'+c,(c)=>{a[b]=c})),k(c)&&(a[b]=n(c)),a);p.stop=(a,b)=>{if(k(a)){const c=o.get(a);b?c.has(b)&&(c.get(b).off(),c.delete(b)):c.forEach((a)=>a.off()).clear(),c.size||o.delete(a)}return a};const q=l((a,c)=>{k(a)?c(b.get(a)):h('set:'+a,c)},{get:(a,c)=>m((a)=>{k(c)?a(b.get(c)):h('set:'+c,a)}),set(a,b,c){c.then(n.bind(null,b))}}),r=j(),u=(a)=>{const c=b.has(a)&&r.has(a)&&r.get(a)(b.get(a));return e('validate:'+a,c),e('validate',a,c),c},v=l((a,b)=>{if(b===void 0)return u(a);if(b instanceof RegExp){const a=b;b=(b)=>'string'==typeof b&&a.test(b)}b instanceof Function&&r.set(a,b)},{get:(a,b)=>u(b),set:(a,b,c)=>a(b,c)});return l(J(n,J(c,{each:b.forEach.bind(b),has:k,store:b,sync:p,syncs:o,del:i,toJSON:()=>W(b)})),{get(a,b){if(Reflect.has(a,b))return Reflect.get(a,b);return'async'===b?q:'valid'===b?v:n(b)},set(a,b,c){return t(c)?q[b]=c:n(b,c)},delete:(a,b)=>i(b)})},on:$,once:Z,timeout:L,yieldloop:M,render:ta,route:_,run:ca,runAsync:K,listMap:T,isMounted:S,isDef:(a)=>a!==g&&a!==h,isNil:x,isPromise:t,isPrimitive:A,isNull:(a)=>a===h,isFunc:r,isStr:z,isBool:w,isNum:y,isInt:C,isIterator:B,isRenderable:H,isObj:s,isArr:u,isArrlike:v,isEmpty:D,isEl:E,isEq:G,isNode:F,isNodeList:(a)=>a&&(a instanceof NodeList||v(a)&&p('every',a,F)),isInput:(a)=>E(a)&&'INPUT TEXTAREA'.includes(a.tagName),isMap:(a)=>a&&a instanceof Map,isSet:(a)=>a&&a instanceof Set}}