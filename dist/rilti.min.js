{const a=window,b=document,c=void 0,d=null,e=Object.assign,f=Object.keys,g=Object.defineProperty,h=Object.getOwnPropertyDescriptor,i=(a,b=a.length,c=(...d)=>(...e)=>(e.length+d.length>=b?a:c)(...d.concat(e)))=>c(),j=(...a)=>(b)=>a.some((a)=>b===a||s(a)&&a(b)),k=(a,b,...c)=>Array.prototype[a].apply(b,c),l=i(k,2)('forEach'),m=Array.isArray,n=(a)=>a&&!(a instanceof Function)&&q(a.length),o=(a)=>!0===a||!1===a,p=(a)=>a===c||a===d,q=(a)=>'number'==typeof a,r=(a)=>'string'==typeof a,s=(a)=>a&&a instanceof Function,t=(a)=>a&&a.constructor===Object,u=j(r,o,q),v=(a)=>a&&a.toString().includes('Iterator'),w=(a)=>q(a)&&0==a%1,x=(a)=>a&&a instanceof Element,y=(a)=>a&&a instanceof Node,z=i((a,...b)=>b.every(s(a)?(b)=>a(b):(b)=>a===b),2),A=console.error.bind(console),B=(a={},b,c=!1,d=f(b))=>(d.length&&F(d,(d)=>{c&&(!c||d in a)||g(a,d,h(b,d))}),a),C=(a,...b)=>setTimeout(()=>a(...b),0),D=(a,b=1e3,c)=>e(a,{ms:b,start(){return c=setTimeout(()=>{a(),this.ran=!0},b),this},stop(){return clearTimeout(c),this},runStop(){return clearTimeout(c),a(),this.ran=!0,this}}),E=(a,b,c,d=~~(a/10)||1,e=-1,f=()=>{for(const c=Math.min(e+d,a);e<c;)b(++e);e<a?C(f):s(c)&&c()})=>f(),F=(a,b,c=0)=>{if(!p(a))if(a.forEach)a.forEach(b);else if(0<a.length)l(a,b);else if(t(a))for(c in a)b(a[c],c,a);else if(w(a))E(a,b);else if(a.entries||v(a))for(const[c,d]of a)b(c,d,a);return a},G=(a)=>n(a)?k('reduce',a,(a,b)=>a.concat(m(b)?G(b):b),[]):[a],H=(a,c=b)=>y(a)?a:H(c).querySelector(a),I=(a,c=b)=>Array.from(H(c).querySelectorAll(a)),J=(a,c,d=b)=>(s(c)||([c,d]=[d,b]),F(I(a,d),c)),K=(a,c=b)=>c===a||!!(16&c.compareDocumentPosition(a)),L=i((a,b,d,e,f=!1)=>{if(r(b)&&(b=H(b)),!b.addEventListener)return A('EventManager: target invalid');if(t(d))return F(d,(c,d)=>L(a,b,d,c,f));if(!s(e))return L.bind(c,a,b,d);e=e.bind(b);const g=(c)=>{e(c,b),a&&h()},h=()=>(b.removeEventListener(d,g),j),i=(c)=>(a=!!c,b.addEventListener(d,g,f),j),j={handler:g,type:d,reseat(b,c){return c&&h(),L(a,b,d,e,f)},on:()=>i(),once:()=>i(!0),off:()=>h()};return i(a)},3),M={get(a,b){return(c,d,e=!1)=>a(c,b,d,e)}},N=new Proxy(L(!0),M),O=new Proxy(L(!1),M),P=(a,b,c)=>(a.has(b)&&1>a.get(b).delete(c).size&&a.delete(b),c),Q=(a,b,c)=>((a.has(b)?a:a.set(b,new Set)).get(b).add(c),c),R=(a,b=!1)=>(c,d)=>{if(b){const b=d;d=(e,f,g)=>{b(e,f,g),P(a,c,d)}}return Q(a,c,B(d,{type:c,off:()=>P(a,c,d),on:()=>Q(a,c,d.off())}))},S={get:(a,b)=>a.bind(d,b)},T=(a={})=>{const b=new Map,c=(a)=>(b,c)=>{if(!r(b))return F(b,(c,d)=>{s(c)&&(b[d]=a(d,c))});return s(c)?a(b,c):void 0},d=new Proxy(c(R(b)),S),e=new Proxy(c(R(b,!0)),S),f=new Proxy((c,d,e,f,g)=>(b.has(c)&&C(()=>{b.get(c).forEach((a)=>{C(a,d,e,f,g)})}),a),S);return B(a,{on:d,once:e,emit:f,off:i(P)(b),has:(b)=>Reflect.has(a,b),hastype:(a)=>b.has(s(a)?a.type:a),hashandle:(a,c=a.type)=>b.has(c)&&b.get(c).has(a)})},U=T((b,c)=>(U.active||(O.hashchange(a,()=>{const a=location.hash;U.emit(U.hastype(a)?a:'default',a)}),U.active=!0),s(b)&&([c,b]=[b,'default']),'default'===b||b.includes('#/')||(b='#/'+b),(location.hash===b||'default'===b)&&c(location.hash),U.on(b,c))),V=()=>'complete'===b.readyState||y(b.body),W=new Set;N.DOMContentLoaded(a,()=>F(W,(a)=>C(a)).clear());const X=(a)=>V()?C(a):W.add(a),Y=(a)=>s(a)?Y(a()):y(a)?a:b.createRange().createContextualFragment(a),Z=(a)=>u(a)?Y(a):b.createDocumentFragment(),$=i((a,b,d)=>(a.dispatchEvent(r(b)?new CustomEvent(b,d===c?c:{detail:d}):b),a),2),_=new Set,aa=(a)=>$(a,'create'),ba=(a)=>(_.has(a)||C(()=>{_.add($(a,'mount'))}),a),ca=(a)=>(_.delete(a),$(a,'destroy')),da=(a,b=Z())=>(F(G(a),(a)=>b.appendChild(ba(Y(a)))),b),ea={replace(a,b){return a.replaceWith(b),b},css:i((a,b,c)=>(t(b)?F(b,(b,c)=>{a.style[c]=b}):z(r,b,c)&&(a.style[b]=c),a),2),Class:i((a,b,c=!a.classList.contains(b))=>{if(!t(b)){const d=c?'add':'remove';b.includes(' ')?F(b.split(' '),(b)=>a.classList[d](b)):a.classList[d](b)}else F(b,(b,c)=>a.classList[b?'add':'remove'](c));return a},2),hasClass:i((a,b)=>a.classList.contains(b)),attr:i((b,a,c)=>{if(b.attributes)if(t(a))F(a,(c,d)=>{b.setAttribute(d,c),ha(d,b)});else if(r(a)){if(!u(c))return b.getAttribute(a);b.setAttribute(a,c),ha(a,b)}return b},2),rmAttr(a,b){return a.removeAttribute(b),a},hasAttr:(a,b)=>a.hasAttribute(b),getAttr:(a,b)=>a.getAttribute(b),setAttr:(a,b,c='')=>a.setAttribute(b,c),attrToggle:i((a,b,c=!a.hasAttribute(b),d=a.getAttribute(b)||'')=>(a[c?'setAttribute':'removeAttribute'](b,d),a),2),emit:$,append:i((a,...b)=>(la(a).then((a)=>a.appendChild(da(b))),a),2),prepend:i((a,...b)=>(la(a).then((a)=>a.prepend(da(b))),a),2),appendTo:i((a,b)=>(la(b).then((b)=>b.appendChild(a)),a)),prependTo:i((a,b)=>(la(b).then((b)=>b.prepend(a)),a)),remove(a,b){return q(b)?D(()=>a.remove(),b).start():(a.remove(),a)},removeNodes:(...a)=>F(a,(a)=>a.remove())},fa=new Map,ga=(a,b)=>(a[b+'_init']=!0,a),ha=(a,b,c)=>{if(fa.has(a)){const d=b.getAttribute(a),{init:e,update:f,destroy:g}=fa.get(a);u(d)?b[a+'_init']?f&&d!==c&&f(b,d,c):e(ga(b,a),d):g&&g(b,d,c)}},ia=(a,b='body',c='appendChild')=>(aa(a),la(b).then((b)=>{'after'!==c&&('before'!==c||K(b))?b[c](ba(a)):N(b,'mount',()=>b[c](ba(a)))},(a)=>A('render fault:',a)),a),ja=j(y,n,u),ka=(a,c,...d)=>{const e=y(a)?a:b.createElement(a);if(ja(c)&&d.unshift(c),d.length&&'#text'!==e.nodeName&&ea.append(e,d),t(c)){if('attr'in c&&ea.attr(e,c.attr),c.css&&ea.css(e,c.css),c.class&&(e.className=c.class),c.id&&(e.id=c.id),c.props&&F(f(c.props),(a)=>{a in e?e[a]=c.props[a]:g(e,a,h(c.props,a))}),c.methods&&B(e,c.methods),c.once&&N(e,c.once),c.on&&O(e,c.on),c.lifecycle){const{mount:a,destroy:b,create:d}=c.lifecycle;O(e,'destroy',()=>{b&&b(e),a&&N(e,'mount',()=>a(e))}),a&&N(e,'mount',()=>a(e)),d&&N(e,'create',()=>d(e))}c.run&&X(c.run.bind(e,e)),c.render?ia(e,c.render):c.renderBefore?ia(e,c.renderBefore,'before'):c.renderAfter&&ia(e,c.renderAfter,'after')}return aa(e)},la=new Proxy(B((a,c=b)=>new Promise((d,e)=>{y(a)?d(a):'head'===a?d(b.head):r(a)?X(()=>{const f='body'===a?b.body:H(a,c);y(f)?d(f):e([404,a])}):e([403,a])}),{create:ka,query:H,queryAll:I,queryEach:J,html:Y,text:(a,b)=>{r(a)&&([b,a]=[a,{}]);const c=new Text(b);return ka(c,a)},frag:Z}),{get:(a,b)=>b in a?a[b]:ka.bind(c,b),set:(a,b,c)=>a[b]=c});new MutationObserver((a)=>F(a,({addedNodes:a,removedNodes:b,target:c,attributeName:d,oldValue:e})=>{a.length&&l(a,ba),b.length&&l(b,ca),d&&'style'!==d&&ha(d,c,e)})).observe(b,{attributes:!0,childList:!0,subtree:!0}),a.rilti={dom:la,domfn:ea,curry:i,compose:(...a)=>a.reduce((a,b)=>(...c)=>a(b(...c))),caseMatch:j,directive:(a,b)=>{fa.set(a,b),X(()=>{J(`[${a}]`,ha.bind(d,a))})},directives:fa,each:F,extend:B,flatten:G,not:(a)=>(...b)=>!a(...b),notifier:T,on:O,once:N,timeout:D,yieldloop:E,render:ia,route:U,run:X,runAsync:C,isMounted:K,isDef:(a)=>a!==c&&a!==d,isNil:p,isPromise:(a)=>a&&a.constructor===Promise,isPrimitive:u,isNull:(a)=>a===d,isFunc:s,isStr:r,isBool:o,isNum:q,isInt:w,isIterator:v,isObj:t,isArr:m,isArrlike:n,isEmpty:(a)=>!a||!((t(a)?f(a):q(a.length)&&a).length||a.size),isEl:x,isEq:z,isNode:y,isNodeList:(a)=>a&&(a instanceof NodeList||n(a)&&k('every',a,y)),isInput:(a)=>x(a)&&'INPUT TEXTAREA'.includes(a.tagName),isMap:(a)=>a&&a instanceof Map,isSet:(a)=>a&&a instanceof Set}}