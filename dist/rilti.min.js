var rilti=(()=>{'use strict';const a=document,b=window,c=void 0,d=null,e='forEach',f=(a,b=a.length,c=(...d)=>(...e)=>(e.length+d.length>=b?a:c)(...d.concat(e)))=>c(),g=f((a,b,...c)=>Array.prototype[a].apply(b,c),2),h=(a,b)=>a instanceof b,i=toString.call,j=(a)=>(b)=>typeof b==a,k=(a)=>(b)=>toString.call(b).includes(a),l=j('function'),m=j('string'),n=j('boolean'),o=(a)=>!n(a)&&!isNaN(+a),p=(a)=>m(a)||n(a)||!isNaN(a),q=(a)=>o(a)&&0==a%1,r=k('Object'),s=Array.isArray,t=(a)=>a&&'undefined'!=typeof a.length,u=(a)=>a!=c&&a!=d&&(r(a)?!Object.keys(a).length:t(a)?!a.length:!a.size)||l(a),v=(a)=>a&&(h(a,Node)||h(a.pure,Node)),w=k('HTML'),x=(a)=>w(a)&&'INPUT TEXTAREA'.includes(a.tagName),y=k('Map'),z=k('Set'),A=f((a,b)=>a===b),B=(a,...b)=>b.some((b)=>a==b||l(b)&&b(a)),C=(a,b,c=0)=>{if(!u(a)){if(t(a)?g(e,a,b):a[e]&&a[e](b),r(a))for(c in a)b(a[c],c,a);}else if(q(a))for(;a!=c;)b(c++);return a},D=f(Object.defineProperty),E=Object.getOwnPropertyDescriptor,F=f((a,b)=>(C(Object.keys(b),(c)=>D(a,c,E(b,c))),a)),G=(a,b)=>(C(Object.keys(b),(c)=>!(c in a)&&D(a,c,E(b,c))),a),H=(a,b)=>{if(!u(b)){let c;for(let d in b)c=E(b,d),c.get&&(c.get=c.get.bind(a)),c.set&&(c.set=c.set.bind(a)),l(c.value)&&(c.value=c.value.bind(a)),D(a,d,c)}},I=(a)=>t(a)?g('reduce',a,(a,b)=>a.concat(s(b)?I(b):b),[]):[a],J=(b,c=a)=>(m(c)?a.querySelector(c):c).querySelector(b),K=(b,c=a)=>Array.from((m(c)?J(c):c).querySelectorAll(b)),L=(b,c,d=a)=>{l(c)||(c=d,d=a),C(K(b,d),c)},M=(a)=>{throw new TypeError(a)},N=(a)=>{throw new Error(a)},O=(b,c=a)=>c==b||!!(16&c.compareDocumentPosition(b)),P=f((a,b,c,d,e=!1,f)=>{function g(a){d.call(b,a,b),f&&b.removeEventListener(c,g)}B(b,v,m)&&(b=fa(b)),b.addEventListener||N('bad evt target');const h=()=>b.removeEventListener(c,g),i=(a)=>{f=!!a,h(),b.addEventListener(c,g,e)},j={on:()=>(i(),j),once:()=>(i(!0),j),off:()=>(h(),j)};return j[a]()},4),Q=P('once'),R=P('on'),S=(a,b,c,d)=>{return c.one=!!d,c.type=b,c.off=()=>a.has(b)&&!a.get(b).delete(c).size&&a.delete(b),(a.has(b)?a:a.set(b,new Set)).get(b).add(c),c},T=(a={},b=new Map)=>F(a,{on:(a,c)=>S(b,a,c),once:(a,c)=>S(b,a,c,!0),off:(c,d)=>(b.has(c)&&!b.get(c).delete(d).size&&b.delete(c),a),has:(a)=>b.has(a),emit:(c,...d)=>(b.has(c)&&b.get(c)[e]((a)=>{a(...d),a.one&&a.off()}),a)}),U=T((a,c)=>{return U.active||(U.active=!0,R(b,'hashchange',()=>U.emit(U.has(location.hash)?location.hash:'default',location.hash))),l(a)&&(c=a,a='default'),location.hash!=a&&(location.hash||'default'!=a)||c(),U.on(a,c)}),V=['create','mount','destroy','attr'],W=(a)=>ja?a():ia.push(a),X=(b)=>v(b)?b:a.createRange().createContextualFragment(b||''),Y=(b)=>p(b)?X(b):a.createDocumentFragment(),Z=F((a)=>G(rilti,a),{methods:{},handles:new Set}),$=(a)=>{const b=Y();return C(I(a),(a)=>b.appendChild(v(a.pure)?a.pure:X(a))),b},_={replace:(a,b,c)=>a.replaceWith?a.replaceWith(c):a.parentNode.replaceChild(c,a),clone:(a)=>fa(a.cloneNode(!0)),css:(a,b,c,d)=>(r(c)?C(c,(b,c)=>a.style[c]=b):m(c)&&m(d)?a.style[c]=d:M('"" or {} only)'),b),attrToggle:(a,b,c,d=!a.hasAttribute(c))=>(a[d?'setAttribute':'removeAttribute'](c,''),b),inner(b,c,...d){return c.html='',C(I(d),(d)=>{d.appendTo?(!c.children.includes(d)&&d.data.emit('mount',d),d.appendTo(b)):(l(d)&&(d=d.call(c,c)),p(d)&&(d=a.createTextNode(d)),v(d)&&c.append(d))}),c},append:(a,b,...c)=>(a.appendChild($(c)),b),prepend:(a,b,...c)=>(a.prepend($(c)),b),appendTo:(a,b,c)=>((m(c)?J(c):c).appendChild(a),b),prependTo:(a,b,c)=>((m(c)?J(c):c).prepend(a),b),remove:(a,b,c)=>(o(c)?setTimeout(()=>a.remove(),c):a.remove(),b),find:(a,b,c)=>fa(J(c,a))},aa=(...b)=>(c='body')=>{v(c)&&_.append(c,d,b),m(c)&&W(()=>v(c=fa('body'==c?a.body:c))?c.append(b):N('render: invalid target'))},ba=new Map,ca=(a,b)=>(a[b+'_init']=!0,a),da=(a,b,c)=>{if(ba.has(a)){const d=b.getAttribute(a),e=ba.get(a);p(d)?b[a+'_init']?e.update&&d!=c&&e.update(b,d,c):e.init(ca(b,a),d):e.destroy&&e.destroy(b,d,c)}},ea=new Map,fa=new Proxy((b,a)=>{if(m(b)&&(b=J(b,a)),!b||b.pure)return b;if(ea.has(b))return ea.get(b);if(v(b)){const a=new Proxy((a,c)=>r(a)?C(a,(c,d)=>{b.setAttribute(d,c),da(d,b)}):p(c)?b.setAttribute(a,c):b.getAttribute(a),{get:(a,c)=>'has'==c?(a)=>b.hasAttribute(a):b.getAttribute(c),set:(a,b,c)=>!a(b,c),deleteProperty:(a,c)=>!b.removeAttribute(c)}),d=new Proxy((a,c=!b.classList.contains(a))=>{return c=c?'add':'remove',a.includes(' ')?C(a.split(' '),(a)=>b.classList[c](a)):b.classList[c](a),n},{get:(a,c)=>b.classList.contains(c),set:(a,b,c)=>a(b,c),deleteProperty:(a,b)=>a(b,!1)}),e=(a)=>new Proxy(P(a,b),{get:(a,b)=>a(b)}),f=T({isInput:x(b)}),h=(a)=>l(a)?a.bind(b):a,i=(a)=>{const b=h(Reflect.get(f,a));return f.emit('get',b).emit('get:'+a,b),b},j=f.isInput?'value':'innerHTML',k=f.isInput?'value':'textContent',n=new Proxy(b,{get:(c,l)=>l in _?_[l].bind(c,c,n):'children'==l?g('map',c.children,(a)=>fa(a)):'childNodes'==l?g('map',c.childNodes,(a)=>fa(a)):l in c?h(Reflect.get(c,l)):'class'==l?d:'attr'==l?a:'pure'==l?c:B(l,'on','once')?e(l):'html'==l?c[j]:'txt'==l?c[k]:'mounted'==l?O(b):'parent'==l?fa(b.parentNode):'rect'==l?c.getBoundingClientRect():'data'==l?f:l in f?i(l):l in Z.methods&&Z.methods[l].bind(c,c,n),set(b,e,g,h){return g!=c&&('class'==e&&m(g)?d(g,!0):B(e,'html','txt')?b['txt'==e?k:j]=l(g)?g(h[e]):g:'render'==e&&B(g,v,m)?aa(b)(g):e in b?Reflect.set(b,e,g):'css'==e?h.css(g):'attr'==e?a(g):Reflect.set(f.emit('set',g).emit('set:'+e,g),e,g)),!0},deleteProperty:(a,b)=>'self'==b?a.remove():Reflect.deleteProperty(f,b)});return f.once('destroy',()=>{b.isDestroyed=!0,ea.delete(b.pure)}),ea.set(b,n),n}},{get:(a,b)=>b in a?Reflect.get(a,b):ga.bind(c,b),set:(a,b)=>Reflect.set(a,b)}),ga=(b,c,...d)=>{const e=fa(a.createElement(b));return B(c,t,v)?d=B(c,m,v)?[c,...d]:c:r(c)&&(C(Z.handles,(a)=>a(c,e)),C(c,(a,b)=>{'render'!=b&&('lifecycle'==b?C(V,(b)=>l(a[b])&&e.data['create'==b?'once':'on'](b,a[b].bind(e))):'attr'==b?e.attr(a):B(b,'class','className')?e.className=a:B(b,'style','css')?e.css(a):B(b,'on','once')?C(a,(a,c)=>e[b](c,a)):B(b,'props','data')&&r(a)?H(e,a):l(a)||b in e?e[b]=a:p(a)&&e.attr(b,a))})),u(d)||e.inner(...d),e.tagName.includes('-')||e.mounted||e.data.emit('create',e),c&&c.render&&(e.render=c.render),e},ha=(a,b)=>{if(0<a.length)for(let c of a)w(c)&&!c.tagName.includes('-')&&ea.has(c)&&(c=fa(c)).data.emit(b,c)};let ia=[],ja=!1;return Q(b,'DOMContentLoaded',()=>{ja=!0,C(ia,(a)=>a()),ia=d}),(fa.extend=F(fa))({query:J,queryAll:K,queryEach:L,on:R,once:Q,html:X,txtBind:(b,c)=>(d)=>{p(c)&&(d.data[b]=c);const e=a.createTextNode(d.data[b]);return d.data.on('set:'+b,(a)=>e.textContent=a),e}}),new MutationObserver((a)=>C(a,({addedNodes:a,removedNodes:b,target:c,attributeName:d,oldValue:e})=>{ha(a,'mount'),ha(b,'destroy'),d&&'style'!=d&&w(c)&&ea.has(c)&&(da(d,c=fa(c),e),c.data.emit('attr:'+d,c,c.attr[d],e))})).observe(a,{attributes:!0,childList:!0,subtree:!0}),{dom:fa,notifier:T,observeAttr:(a,b)=>{let{init:c,update:d,destroy:e}=b;ba.set(a,b),W(()=>L(`[${a}]`,(b)=>c(ca(b=fa(b),a),b.attr[a])))},unobserveAttr:(a)=>ba.delete(a),plugins:Z,intervalManager:(a,b,c,d,e={stop:()=>(clearInterval(d),e),start(){return d=setInterval(b,a),v(c)&&e.destroySync(fa(c)),e},destroySync:(a)=>a.data.once('destroy',()=>e.stop())})=>e.start(),extend:F,safeExtend:G,reseat:H,def:D,getdesc:E,route:U,render:aa,run:W,curry:f,each:C,DOMcontains:O,flatten:I,isDef:(a)=>a!==c,isUndef:(a)=>a===c,isPrimitive:p,isNull:(a)=>a===d,isFunc:l,isStr:m,isBool:n,isNum:o,isInt:q,isObj:r,isArr:s,isArrlike:t,isEmpty:u,isEl:w,isEq:A,isNode:v,isNodeList:(a)=>h(a,NodeList)||t(a)&&g('every',a,v),isInput:x,isMap:y,isSet:z}})();
