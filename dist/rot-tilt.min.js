var _Mathmin=Math.min,_Mathmax=Math.max;{const{isNode:a,isNodeList:b,isArr:c,isStr:d,dom:f,each:g}=rot,{on:h,div:i}=f,j=(l)=>""===l||!0===l||1===l,k={reverse:!1,max:35,perspective:1e3,easing:"cubic-bezier(.03,.98,.52,.99)",scale:"1",speed:"300",transition:!0,axis:null,glare:!1,"max-glare":1,"glare-prerender":!1,reset:!0};window.Tilt=(l,m={})=>{if(d(l)&&(l=f.queryAll(l)),!a(l)){if(b(l))return g(l,(G)=>Tilt(G,m));throw`Can't initialize Tilt because ${l} is not a Node.`}l=f(l),l.tiltOff&&l.tiltOff();let s,t,n=null,o=null,p=null,q=null,r=null;for(const G in k)if(l.hasAttribute("tilt-"+G)){const H=l.getAttribute("tilt-"+G);try{m[G]=JSON.parse(H)}catch(I){m[G]=H}}else G in m||(m[G]=k[G]);const u=m.reverse?-1:1,v=j(m.glare);if(v)var w=i({class:"js-tilt-glare",css:{position:"absolute",top:"0",left:"0",width:"100%",height:"100%",overflow:"hidden"},render:l}),z=i({class:"js-tilt-glare-inner",render:w,css:{position:"absolute",top:"50%",left:"50%","pointer-events":"none","background-image":`linear-gradient(0deg, rgba(255,255,255,0) 0%, rgba(255,255,255,1) 100%)`,width:`${2*l.offsetWidth}px`,height:`${2*l.offsetWidth}px`,transform:"rotate(180deg) translate(-50%, -50%)","transform-origin":"0% 0%",opacity:"0"}}),A=h(window,"resize",()=>{const G=`${2*l.offsetWidth}`;z.css={width:G,height:G}});const B=()=>{clearTimeout(r),l.style.transition=m.speed+"ms "+m.easing,v&&(z.style.transition=`opacity ${m.speed}ms ${m.easing}`),r=setTimeout(()=>{l.style.transition="",v&&(z.style.transition="")},m.speed)},C=()=>{let G=(s.clientX-p)/n,H=(s.clientY-q)/o;G=_Mathmin(_Mathmax(G,0),1),H=_Mathmin(_Mathmax(H,0),1);let I=(u*(m.max/2-G*m.max)).toFixed(2),J=(u*(H*m.max-m.max/2)).toFixed(2),K=Math.atan2(s.clientX-(p+n/2),-(s.clientY-(q+o/2)))*(180/Math.PI),M=100*H;l.style.transform=`perspective(${m.perspective}px)
          rotateX(${"x"===m.axis?0:J}deg)
          rotateY(${"y"===m.axis?0:I}deg)
          scale3d(${m.scale},${m.scale},${m.scale})`,v&&z.css({transform:`rotate(${K}deg) translate(-50%, -50%)`,opacity:`${M*m["max-glare"]/100}`}),t=null},D=l.on("mouseenter",()=>{const G=l.rect;n=l.offsetWidth,o=l.offsetHeight,p=G.left,q=G.top,l.style.willChange="transform",B()}),E=l.on("mousemove",(G)=>{null!==t&&cancelAnimationFrame(t),s=G,t=requestAnimationFrame(C)}),F=l.on("mouseleave",()=>{B(),m.reset&&(requestAnimationFrame(()=>{s={pageX:p+n/2,pageY:q+o/2},l.style.transform=`perspective(${m.perspective}px) rotateX(0deg) rotateY(0deg) scale3d(1, 1, 1)`}),v&&z.css({transform:"rotate(180deg) translate(-50%, -50%)",opacity:"0"}))});return l.tiltOff=()=>{return D.off(),E.off(),F.off(),v&&(A.off(),w.remove()),null!==t&&cancelAnimationFrame(t),l},l},rot.run(()=>Tilt(f.queryAll("[tilt]")))}
